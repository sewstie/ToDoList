function $1(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function Ap(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var pf={exports:{}},gl={},mf={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function H1(){if(Yv)return Ne;Yv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function T(U){return U===null||typeof U!="object"?null:(U=w&&U[w]||U["@@iterator"],typeof U=="function"?U:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,A={};function P(U,X,ve){this.props=U,this.context=X,this.refs=A,this.updater=ve||I}P.prototype.isReactComponent={},P.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},P.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function z(){}z.prototype=P.prototype;function H(U,X,ve){this.props=U,this.context=X,this.refs=A,this.updater=ve||I}var Q=H.prototype=new z;Q.constructor=H,R(Q,P.prototype),Q.isPureReactComponent=!0;var Y=Array.isArray,ie=Object.prototype.hasOwnProperty,se={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function C(U,X,ve){var Re,xe={},De=null,Ue=null;if(X!=null)for(Re in X.ref!==void 0&&(Ue=X.ref),X.key!==void 0&&(De=""+X.key),X)ie.call(X,Re)&&!N.hasOwnProperty(Re)&&(xe[Re]=X[Re]);var je=arguments.length-2;if(je===1)xe.children=ve;else if(1<je){for(var Ge=Array(je),ct=0;ct<je;ct++)Ge[ct]=arguments[ct+2];xe.children=Ge}if(U&&U.defaultProps)for(Re in je=U.defaultProps,je)xe[Re]===void 0&&(xe[Re]=je[Re]);return{$$typeof:n,type:U,key:De,ref:Ue,props:xe,_owner:se.current}}function b(U,X){return{$$typeof:n,type:U.type,key:X,ref:U.ref,props:U.props,_owner:U._owner}}function D(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function L(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ve){return X[ve]})}var O=/\/+/g;function k(U,X){return typeof U=="object"&&U!==null&&U.key!=null?L(""+U.key):X.toString(36)}function Ee(U,X,ve,Re,xe){var De=typeof U;(De==="undefined"||De==="boolean")&&(U=null);var Ue=!1;if(U===null)Ue=!0;else switch(De){case"string":case"number":Ue=!0;break;case"object":switch(U.$$typeof){case n:case e:Ue=!0}}if(Ue)return Ue=U,xe=xe(Ue),U=Re===""?"."+k(Ue,0):Re,Y(xe)?(ve="",U!=null&&(ve=U.replace(O,"$&/")+"/"),Ee(xe,X,ve,"",function(ct){return ct})):xe!=null&&(D(xe)&&(xe=b(xe,ve+(!xe.key||Ue&&Ue.key===xe.key?"":(""+xe.key).replace(O,"$&/")+"/")+U)),X.push(xe)),1;if(Ue=0,Re=Re===""?".":Re+":",Y(U))for(var je=0;je<U.length;je++){De=U[je];var Ge=Re+k(De,je);Ue+=Ee(De,X,ve,Ge,xe)}else if(Ge=T(U),typeof Ge=="function")for(U=Ge.call(U),je=0;!(De=U.next()).done;)De=De.value,Ge=Re+k(De,je++),Ue+=Ee(De,X,ve,Ge,xe);else if(De==="object")throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Ue}function Fe(U,X,ve){if(U==null)return U;var Re=[],xe=0;return Ee(U,Re,"","",function(De){return X.call(ve,De,xe++)}),Re}function ke(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(ve){(U._status===0||U._status===-1)&&(U._status=1,U._result=ve)},function(ve){(U._status===0||U._status===-1)&&(U._status=2,U._result=ve)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var ne={current:null},B={transition:null},ue={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:B,ReactCurrentOwner:se};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:Fe,forEach:function(U,X,ve){Fe(U,function(){X.apply(this,arguments)},ve)},count:function(U){var X=0;return Fe(U,function(){X++}),X},toArray:function(U){return Fe(U,function(X){return X})||[]},only:function(U){if(!D(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ne.Component=P,Ne.Fragment=t,Ne.Profiler=s,Ne.PureComponent=H,Ne.StrictMode=r,Ne.Suspense=f,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Ne.act=ae,Ne.cloneElement=function(U,X,ve){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Re=R({},U.props),xe=U.key,De=U.ref,Ue=U._owner;if(X!=null){if(X.ref!==void 0&&(De=X.ref,Ue=se.current),X.key!==void 0&&(xe=""+X.key),U.type&&U.type.defaultProps)var je=U.type.defaultProps;for(Ge in X)ie.call(X,Ge)&&!N.hasOwnProperty(Ge)&&(Re[Ge]=X[Ge]===void 0&&je!==void 0?je[Ge]:X[Ge])}var Ge=arguments.length-2;if(Ge===1)Re.children=ve;else if(1<Ge){je=Array(Ge);for(var ct=0;ct<Ge;ct++)je[ct]=arguments[ct+2];Re.children=je}return{$$typeof:n,type:U.type,key:xe,ref:De,props:Re,_owner:Ue}},Ne.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Ne.createElement=C,Ne.createFactory=function(U){var X=C.bind(null,U);return X.type=U,X},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(U){return{$$typeof:h,render:U}},Ne.isValidElement=D,Ne.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:ke}},Ne.memo=function(U,X){return{$$typeof:m,type:U,compare:X===void 0?null:X}},Ne.startTransition=function(U){var X=B.transition;B.transition={};try{U()}finally{B.transition=X}},Ne.unstable_act=ae,Ne.useCallback=function(U,X){return ne.current.useCallback(U,X)},Ne.useContext=function(U){return ne.current.useContext(U)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(U){return ne.current.useDeferredValue(U)},Ne.useEffect=function(U,X){return ne.current.useEffect(U,X)},Ne.useId=function(){return ne.current.useId()},Ne.useImperativeHandle=function(U,X,ve){return ne.current.useImperativeHandle(U,X,ve)},Ne.useInsertionEffect=function(U,X){return ne.current.useInsertionEffect(U,X)},Ne.useLayoutEffect=function(U,X){return ne.current.useLayoutEffect(U,X)},Ne.useMemo=function(U,X){return ne.current.useMemo(U,X)},Ne.useReducer=function(U,X,ve){return ne.current.useReducer(U,X,ve)},Ne.useRef=function(U){return ne.current.useRef(U)},Ne.useState=function(U){return ne.current.useState(U)},Ne.useSyncExternalStore=function(U,X,ve){return ne.current.useSyncExternalStore(U,X,ve)},Ne.useTransition=function(){return ne.current.useTransition()},Ne.version="18.3.1",Ne}var Xv;function Pp(){return Xv||(Xv=1,mf.exports=H1()),mf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function q1(){if(Jv)return gl;Jv=1;var n=Pp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,m){var y,w={},T=null,I=null;m!==void 0&&(T=""+m),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(I=f.ref);for(y in f)r.call(f,y)&&!a.hasOwnProperty(y)&&(w[y]=f[y]);if(h&&h.defaultProps)for(y in f=h.defaultProps,f)w[y]===void 0&&(w[y]=f[y]);return{$$typeof:e,type:h,key:T,ref:I,props:w,_owner:s.current}}return gl.Fragment=t,gl.jsx=u,gl.jsxs=u,gl}var Zv;function G1(){return Zv||(Zv=1,pf.exports=q1()),pf.exports}var j=G1(),V=Pp();const n0=Ap(V),K1=$1({__proto__:null,default:n0},[V]);var Ec={},gf={exports:{}},sn={},vf={exports:{}},yf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function Q1(){return ey||(ey=1,function(n){function e(B,ue){var ae=B.length;B.push(ue);e:for(;0<ae;){var U=ae-1>>>1,X=B[U];if(0<s(X,ue))B[U]=ue,B[ae]=X,ae=U;else break e}}function t(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var ue=B[0],ae=B.pop();if(ae!==ue){B[0]=ae;e:for(var U=0,X=B.length,ve=X>>>1;U<ve;){var Re=2*(U+1)-1,xe=B[Re],De=Re+1,Ue=B[De];if(0>s(xe,ae))De<X&&0>s(Ue,xe)?(B[U]=Ue,B[De]=ae,U=De):(B[U]=xe,B[Re]=ae,U=Re);else if(De<X&&0>s(Ue,ae))B[U]=Ue,B[De]=ae,U=De;else break e}}return ue}function s(B,ue){var ae=B.sortIndex-ue.sortIndex;return ae!==0?ae:B.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],m=[],y=1,w=null,T=3,I=!1,R=!1,A=!1,P=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(B){for(var ue=t(m);ue!==null;){if(ue.callback===null)r(m);else if(ue.startTime<=B)r(m),ue.sortIndex=ue.expirationTime,e(f,ue);else break;ue=t(m)}}function Y(B){if(A=!1,Q(B),!R)if(t(f)!==null)R=!0,ke(ie);else{var ue=t(m);ue!==null&&ne(Y,ue.startTime-B)}}function ie(B,ue){R=!1,A&&(A=!1,z(C),C=-1),I=!0;var ae=T;try{for(Q(ue),w=t(f);w!==null&&(!(w.expirationTime>ue)||B&&!L());){var U=w.callback;if(typeof U=="function"){w.callback=null,T=w.priorityLevel;var X=U(w.expirationTime<=ue);ue=n.unstable_now(),typeof X=="function"?w.callback=X:w===t(f)&&r(f),Q(ue)}else r(f);w=t(f)}if(w!==null)var ve=!0;else{var Re=t(m);Re!==null&&ne(Y,Re.startTime-ue),ve=!1}return ve}finally{w=null,T=ae,I=!1}}var se=!1,N=null,C=-1,b=5,D=-1;function L(){return!(n.unstable_now()-D<b)}function O(){if(N!==null){var B=n.unstable_now();D=B;var ue=!0;try{ue=N(!0,B)}finally{ue?k():(se=!1,N=null)}}else se=!1}var k;if(typeof H=="function")k=function(){H(O)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Fe=Ee.port2;Ee.port1.onmessage=O,k=function(){Fe.postMessage(null)}}else k=function(){P(O,0)};function ke(B){N=B,se||(se=!0,k())}function ne(B,ue){C=P(function(){B(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){R||I||(R=!0,ke(ie))},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(B){switch(T){case 1:case 2:case 3:var ue=3;break;default:ue=T}var ae=T;T=ue;try{return B()}finally{T=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,ue){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ae=T;T=B;try{return ue()}finally{T=ae}},n.unstable_scheduleCallback=function(B,ue,ae){var U=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?U+ae:U):ae=U,B){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ae+X,B={id:y++,callback:ue,priorityLevel:B,startTime:ae,expirationTime:X,sortIndex:-1},ae>U?(B.sortIndex=ae,e(m,B),t(f)===null&&B===t(m)&&(A?(z(C),C=-1):A=!0,ne(Y,ae-U))):(B.sortIndex=X,e(f,B),R||I||(R=!0,ke(ie))),B},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(B){var ue=T;return function(){var ae=T;T=ue;try{return B.apply(this,arguments)}finally{T=ae}}}}(yf)),yf}var ty;function Y1(){return ty||(ty=1,vf.exports=Q1()),vf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function X1(){if(ny)return sn;ny=1;var n=Pp(),e=Y1();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function T(i){return f.call(w,i)?!0:f.call(y,i)?!1:m.test(i)?w[i]=!0:(y[i]=!0,!1)}function I(i,o,l,d){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function R(i,o,l,d){if(o===null||typeof o>"u"||I(i,o,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function A(i,o,l,d,p,v,E){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=E}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){P[i]=new A(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];P[o]=new A(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){P[i]=new A(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){P[i]=new A(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){P[i]=new A(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){P[i]=new A(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){P[i]=new A(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){P[i]=new A(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){P[i]=new A(i,5,!1,i.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function H(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(z,H);P[o]=new A(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(z,H);P[o]=new A(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(z,H);P[o]=new A(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){P[i]=new A(i,1,!1,i.toLowerCase(),null,!1,!1)}),P.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){P[i]=new A(i,1,!1,i.toLowerCase(),null,!0,!0)});function Q(i,o,l,d){var p=P.hasOwnProperty(o)?P[o]:null;(p!==null?p.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(R(o,l,p,d)&&(l=null),d||p===null?T(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):p.mustUseProperty?i[p.propertyName]=l===null?p.type===3?!1:"":l:(o=p.attributeName,d=p.attributeNamespace,l===null?i.removeAttribute(o):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?i.setAttributeNS(d,o,l):i.setAttribute(o,l))))}var Y=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ie=Symbol.for("react.element"),se=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),L=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),Fe=Symbol.for("react.memo"),ke=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),B=Symbol.iterator;function ue(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Object.assign,U;function X(i){if(U===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);U=o&&o[1]||""}return`
`+U+i}var ve=!1;function Re(i,o){if(!i||ve)return"";ve=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(G){var d=G}Reflect.construct(i,[],o)}else{try{o.call()}catch(G){d=G}i.call(o.prototype)}else{try{throw Error()}catch(G){d=G}i()}}catch(G){if(G&&d&&typeof G.stack=="string"){for(var p=G.stack.split(`
`),v=d.stack.split(`
`),E=p.length-1,x=v.length-1;1<=E&&0<=x&&p[E]!==v[x];)x--;for(;1<=E&&0<=x;E--,x--)if(p[E]!==v[x]){if(E!==1||x!==1)do if(E--,x--,0>x||p[E]!==v[x]){var M=`
`+p[E].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=E&&0<=x);break}}}finally{ve=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?X(i):""}function xe(i){switch(i.tag){case 5:return X(i.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return i=Re(i.type,!1),i;case 11:return i=Re(i.type.render,!1),i;case 1:return i=Re(i.type,!0),i;default:return""}}function De(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case se:return"Portal";case b:return"Profiler";case C:return"StrictMode";case k:return"Suspense";case Ee:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case L:return(i.displayName||"Context")+".Consumer";case D:return(i._context.displayName||"Context")+".Provider";case O:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Fe:return o=i.displayName||null,o!==null?o:De(i.type)||"Memo";case ke:o=i._payload,i=i._init;try{return De(i(o))}catch{}}return null}function Ue(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(o);case 8:return o===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function je(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ge(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ct(i){var o=Ge(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,v=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return p.call(this)},set:function(E){d=""+E,v.call(this,E)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function En(i){i._valueTracker||(i._valueTracker=ct(i))}function Ar(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return i&&(d=Ge(i)?i.checked?"true":"false":i.value),i=d,i!==l?(o.setValue(i),!0):!1}function Xt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function nr(i,o){var l=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function oi(i,o){var l=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;l=je(o.value!=null?o.value:l),i._wrapperState={initialChecked:d,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function no(i,o){o=o.checked,o!=null&&Q(i,"checked",o,!1)}function ro(i,o){no(i,o);var l=je(o.value),d=o.type;if(l!=null)d==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Dn(i,o.type,l):o.hasOwnProperty("defaultValue")&&Dn(i,o.type,je(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Qo(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Dn(i,o,l){(o!=="number"||Xt(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Pr=Array.isArray;function kr(i,o,l,d){if(i=i.options,o){o={};for(var p=0;p<l.length;p++)o["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=o.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&d&&(i[l].defaultSelected=!0)}else{for(l=""+je(l),o=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,d&&(i[p].defaultSelected=!0);return}o!==null||i[p].disabled||(o=i[p])}o!==null&&(o.selected=!0)}}function Ia(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Yo(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(Pr(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:je(l)}}function Xo(i,o){var l=je(o.value),d=je(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),d!=null&&(i.defaultValue=""+d)}function Ca(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function yt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _t(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?yt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Rr,Aa=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,d,p){MSApp.execUnsafeLocalFunction(function(){return i(o,l,d,p)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Rr=Rr||document.createElement("div"),Rr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Rr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function si(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oo=["Webkit","ms","Moz","O"];Object.keys(io).forEach(function(i){oo.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),io[o]=io[i]})});function Pa(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||io.hasOwnProperty(i)&&io[i]?(""+o).trim():o+"px"}function ka(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=Pa(l,o[l],d);l==="float"&&(l="cssFloat"),d?i.setProperty(l,p):i[l]=p}}var Ra=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ba(i,o){if(o){if(Ra[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function xa(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var so=null;function Jo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Zo=null,Tn=null,rr=null;function es(i){if(i=tl(i)){if(typeof Zo!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Lu(o),Zo(i.stateNode,i.type,o))}}function ir(i){Tn?rr?rr.push(i):rr=[i]:Tn=i}function Na(){if(Tn){var i=Tn,o=rr;if(rr=Tn=null,es(i),o)for(i=0;i<o.length;i++)es(o[i])}}function ao(i,o){return i(o)}function Da(){}var br=!1;function Oa(i,o,l){if(br)return i(o,l);br=!0;try{return ao(i,o,l)}finally{br=!1,(Tn!==null||rr!==null)&&(Da(),Na())}}function dt(i,o){var l=i.stateNode;if(l===null)return null;var d=Lu(l);if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var ts=!1;if(h)try{var On={};Object.defineProperty(On,"passive",{get:function(){ts=!0}}),window.addEventListener("test",On,On),window.removeEventListener("test",On,On)}catch{ts=!1}function lo(i,o,l,d,p,v,E,x,M){var G=Array.prototype.slice.call(arguments,3);try{o.apply(l,G)}catch(te){this.onError(te)}}var uo=!1,ns=null,Mn=!1,Ma=null,zd={onError:function(i){uo=!0,ns=i}};function rs(i,o,l,d,p,v,E,x,M){uo=!1,ns=null,lo.apply(zd,arguments)}function au(i,o,l,d,p,v,E,x,M){if(rs.apply(this,arguments),uo){if(uo){var G=ns;uo=!1,ns=null}else throw Error(t(198));Mn||(Mn=!0,Ma=G)}}function Ln(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function co(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Vn(i){if(Ln(i)!==i)throw Error(t(188))}function lu(i){var o=i.alternate;if(!o){if(o=Ln(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,d=o;;){var p=l.return;if(p===null)break;var v=p.alternate;if(v===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===l)return Vn(p),i;if(v===d)return Vn(p),o;v=v.sibling}throw Error(t(188))}if(l.return!==d.return)l=p,d=v;else{for(var E=!1,x=p.child;x;){if(x===l){E=!0,l=p,d=v;break}if(x===d){E=!0,d=p,l=v;break}x=x.sibling}if(!E){for(x=v.child;x;){if(x===l){E=!0,l=v,d=p;break}if(x===d){E=!0,d=v,l=p;break}x=x.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function La(i){return i=lu(i),i!==null?is(i):null}function is(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=is(i);if(o!==null)return o;i=i.sibling}return null}var os=e.unstable_scheduleCallback,Va=e.unstable_cancelCallback,uu=e.unstable_shouldYield,Bd=e.unstable_requestPaint,Xe=e.unstable_now,cu=e.unstable_getCurrentPriorityLevel,ho=e.unstable_ImmediatePriority,ai=e.unstable_UserBlockingPriority,Sn=e.unstable_NormalPriority,Fa=e.unstable_LowPriority,du=e.unstable_IdlePriority,fo=null,cn=null;function hu(i){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(fo,i,void 0,(i.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:pu,Ua=Math.log,fu=Math.LN2;function pu(i){return i>>>=0,i===0?32:31-(Ua(i)/fu|0)|0}var ss=64,as=4194304;function li(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function po(i,o){var l=i.pendingLanes;if(l===0)return 0;var d=0,p=i.suspendedLanes,v=i.pingedLanes,E=l&268435455;if(E!==0){var x=E&~p;x!==0?d=li(x):(v&=E,v!==0&&(d=li(v)))}else E=l&~p,E!==0?d=li(E):v!==0&&(d=li(v));if(d===0)return 0;if(o!==0&&o!==d&&!(o&p)&&(p=d&-d,v=o&-o,p>=v||p===16&&(v&4194240)!==0))return o;if(d&4&&(d|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)l=31-Ht(o),p=1<<l,d|=i[l],o&=~p;return d}function Wd(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xr(i,o){for(var l=i.suspendedLanes,d=i.pingedLanes,p=i.expirationTimes,v=i.pendingLanes;0<v;){var E=31-Ht(v),x=1<<E,M=p[E];M===-1?(!(x&l)||x&d)&&(p[E]=Wd(x,o)):M<=o&&(i.expiredLanes|=x),v&=~x}}function dn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function mo(){var i=ss;return ss<<=1,!(ss&4194240)&&(ss=64),i}function ui(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function ci(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Ht(o),i[o]=l}function Ye(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<l;){var p=31-Ht(l),v=1<<p;o[p]=0,d[p]=-1,i[p]=-1,l&=~v}}function di(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var d=31-Ht(l),p=1<<d;p&o|i[d]&o&&(i[d]|=o),l&=~p}}var Le=0;function hi(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var mu,ls,gu,vu,yu,ja=!1,or=[],bt=null,Fn=null,Un=null,fi=new Map,In=new Map,sr=[],$d="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _u(i,o){switch(i){case"focusin":case"focusout":bt=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":fi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":In.delete(o.pointerId)}}function Jt(i,o,l,d,p,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[p]},o!==null&&(o=tl(o),o!==null&&ls(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),i)}function Hd(i,o,l,d,p){switch(o){case"focusin":return bt=Jt(bt,i,o,l,d,p),!0;case"dragenter":return Fn=Jt(Fn,i,o,l,d,p),!0;case"mouseover":return Un=Jt(Un,i,o,l,d,p),!0;case"pointerover":var v=p.pointerId;return fi.set(v,Jt(fi.get(v)||null,i,o,l,d,p)),!0;case"gotpointercapture":return v=p.pointerId,In.set(v,Jt(In.get(v)||null,i,o,l,d,p)),!0}return!1}function wu(i){var o=wo(i.target);if(o!==null){var l=Ln(o);if(l!==null){if(o=l.tag,o===13){if(o=co(l),o!==null){i.blockedOn=o,yu(i.priority,function(){gu(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Nr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=us(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);so=d,l.target.dispatchEvent(d),so=null}else return o=tl(l),o!==null&&ls(o),i.blockedOn=l,!1;o.shift()}return!0}function go(i,o,l){Nr(i)&&l.delete(o)}function Eu(){ja=!1,bt!==null&&Nr(bt)&&(bt=null),Fn!==null&&Nr(Fn)&&(Fn=null),Un!==null&&Nr(Un)&&(Un=null),fi.forEach(go),In.forEach(go)}function jn(i,o){i.blockedOn===o&&(i.blockedOn=null,ja||(ja=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Eu)))}function zn(i){function o(p){return jn(p,i)}if(0<or.length){jn(or[0],i);for(var l=1;l<or.length;l++){var d=or[l];d.blockedOn===i&&(d.blockedOn=null)}}for(bt!==null&&jn(bt,i),Fn!==null&&jn(Fn,i),Un!==null&&jn(Un,i),fi.forEach(o),In.forEach(o),l=0;l<sr.length;l++)d=sr[l],d.blockedOn===i&&(d.blockedOn=null);for(;0<sr.length&&(l=sr[0],l.blockedOn===null);)wu(l),l.blockedOn===null&&sr.shift()}var Dr=Y.ReactCurrentBatchConfig,pi=!0;function it(i,o,l,d){var p=Le,v=Dr.transition;Dr.transition=null;try{Le=1,za(i,o,l,d)}finally{Le=p,Dr.transition=v}}function qd(i,o,l,d){var p=Le,v=Dr.transition;Dr.transition=null;try{Le=4,za(i,o,l,d)}finally{Le=p,Dr.transition=v}}function za(i,o,l,d){if(pi){var p=us(i,o,l,d);if(p===null)rh(i,o,d,vo,l),_u(i,d);else if(Hd(p,i,o,l,d))d.stopPropagation();else if(_u(i,d),o&4&&-1<$d.indexOf(i)){for(;p!==null;){var v=tl(p);if(v!==null&&mu(v),v=us(i,o,l,d),v===null&&rh(i,o,d,vo,l),v===p)break;p=v}p!==null&&d.stopPropagation()}else rh(i,o,d,null,l)}}var vo=null;function us(i,o,l,d){if(vo=null,i=Jo(d),i=wo(i),i!==null)if(o=Ln(i),o===null)i=null;else if(l=o.tag,l===13){if(i=co(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return vo=i,null}function Ba(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cu()){case ho:return 1;case ai:return 4;case Sn:case Fa:return 16;case du:return 536870912;default:return 16}default:return 16}}var hn=null,cs=null,Zt=null;function Wa(){if(Zt)return Zt;var i,o=cs,l=o.length,d,p="value"in hn?hn.value:hn.textContent,v=p.length;for(i=0;i<l&&o[i]===p[i];i++);var E=l-i;for(d=1;d<=E&&o[l-d]===p[v-d];d++);return Zt=p.slice(i,1<d?1-d:void 0)}function ds(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function ar(){return!0}function $a(){return!1}function xt(i){function o(l,d,p,v,E){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var x in i)i.hasOwnProperty(x)&&(l=i[x],this[x]=l?l(v):v[x]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ar:$a,this.isPropagationStopped=$a,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ar)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ar)},persist:function(){},isPersistent:ar}),o}var Bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hs=xt(Bn),lr=ae({},Bn,{view:0,detail:0}),Gd=xt(lr),fs,Or,mi,yo=ae({},lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ur,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==mi&&(mi&&i.type==="mousemove"?(fs=i.screenX-mi.screenX,Or=i.screenY-mi.screenY):Or=fs=0,mi=i),fs)},movementY:function(i){return"movementY"in i?i.movementY:Or}}),ps=xt(yo),Ha=ae({},yo,{dataTransfer:0}),Tu=xt(Ha),ms=ae({},lr,{relatedTarget:0}),gs=xt(ms),Su=ae({},Bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Mr=xt(Su),Iu=ae({},Bn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Cu=xt(Iu),Au=ae({},Bn,{data:0}),qa=xt(Au),vs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ku(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Pu[i])?!!o[i]:!1}function ur(){return ku}var c=ae({},lr,{key:function(i){if(i.key){var o=vs[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=ds(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?qt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ur,charCode:function(i){return i.type==="keypress"?ds(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ds(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=xt(c),_=ae({},yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=xt(_),W=ae({},lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ur}),K=xt(W),le=ae({},Bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ke=xt(le),wt=ae({},yo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ze=xt(wt),Ct=[9,13,27,32],pt=h&&"CompositionEvent"in window,Cn=null;h&&"documentMode"in document&&(Cn=document.documentMode);var fn=h&&"TextEvent"in window&&!Cn,_o=h&&(!pt||Cn&&8<Cn&&11>=Cn),ys=" ",$m=!1;function Hm(i,o){switch(i){case"keyup":return Ct.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qm(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var _s=!1;function zT(i,o){switch(i){case"compositionend":return qm(o);case"keypress":return o.which!==32?null:($m=!0,ys);case"textInput":return i=o.data,i===ys&&$m?null:i;default:return null}}function BT(i,o){if(_s)return i==="compositionend"||!pt&&Hm(i,o)?(i=Wa(),Zt=cs=hn=null,_s=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return _o&&o.locale!=="ko"?null:o.data;default:return null}}var WT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gm(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!WT[i.type]:o==="textarea"}function Km(i,o,l,d){ir(d),o=Du(o,"onChange"),0<o.length&&(l=new hs("onChange","change",null,l,d),i.push({event:l,listeners:o}))}var Ga=null,Ka=null;function $T(i){hg(i,0)}function Ru(i){var o=Is(i);if(Ar(o))return i}function HT(i,o){if(i==="change")return o}var Qm=!1;if(h){var Kd;if(h){var Qd="oninput"in document;if(!Qd){var Ym=document.createElement("div");Ym.setAttribute("oninput","return;"),Qd=typeof Ym.oninput=="function"}Kd=Qd}else Kd=!1;Qm=Kd&&(!document.documentMode||9<document.documentMode)}function Xm(){Ga&&(Ga.detachEvent("onpropertychange",Jm),Ka=Ga=null)}function Jm(i){if(i.propertyName==="value"&&Ru(Ka)){var o=[];Km(o,Ka,i,Jo(i)),Oa($T,o)}}function qT(i,o,l){i==="focusin"?(Xm(),Ga=o,Ka=l,Ga.attachEvent("onpropertychange",Jm)):i==="focusout"&&Xm()}function GT(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ru(Ka)}function KT(i,o){if(i==="click")return Ru(o)}function QT(i,o){if(i==="input"||i==="change")return Ru(o)}function YT(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Wn=typeof Object.is=="function"?Object.is:YT;function Qa(i,o){if(Wn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(o,p)||!Wn(i[p],o[p]))return!1}return!0}function Zm(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function eg(i,o){var l=Zm(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=o&&d>=o)return{node:l,offset:o-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Zm(l)}}function tg(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?tg(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function ng(){for(var i=window,o=Xt();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=Xt(i.document)}return o}function Yd(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function XT(i){var o=ng(),l=i.focusedElem,d=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&tg(l.ownerDocument.documentElement,l)){if(d!==null&&Yd(l)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var p=l.textContent.length,v=Math.min(d.start,p);d=d.end===void 0?v:Math.min(d.end,p),!i.extend&&v>d&&(p=d,d=v,v=p),p=eg(l,v);var E=eg(l,d);p&&E&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==E.node||i.focusOffset!==E.offset)&&(o=o.createRange(),o.setStart(p.node,p.offset),i.removeAllRanges(),v>d?(i.addRange(o),i.extend(E.node,E.offset)):(o.setEnd(E.node,E.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var JT=h&&"documentMode"in document&&11>=document.documentMode,ws=null,Xd=null,Ya=null,Jd=!1;function rg(i,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Jd||ws==null||ws!==Xt(d)||(d=ws,"selectionStart"in d&&Yd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ya&&Qa(Ya,d)||(Ya=d,d=Du(Xd,"onSelect"),0<d.length&&(o=new hs("onSelect","select",null,o,l),i.push({event:o,listeners:d}),o.target=ws)))}function bu(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Es={animationend:bu("Animation","AnimationEnd"),animationiteration:bu("Animation","AnimationIteration"),animationstart:bu("Animation","AnimationStart"),transitionend:bu("Transition","TransitionEnd")},Zd={},ig={};h&&(ig=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function xu(i){if(Zd[i])return Zd[i];if(!Es[i])return i;var o=Es[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in ig)return Zd[i]=o[l];return i}var og=xu("animationend"),sg=xu("animationiteration"),ag=xu("animationstart"),lg=xu("transitionend"),ug=new Map,cg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gi(i,o){ug.set(i,o),a(o,[i])}for(var eh=0;eh<cg.length;eh++){var th=cg[eh],ZT=th.toLowerCase(),e1=th[0].toUpperCase()+th.slice(1);gi(ZT,"on"+e1)}gi(og,"onAnimationEnd"),gi(sg,"onAnimationIteration"),gi(ag,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(lg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xa));function dg(i,o,l){var d=i.type||"unknown-event";i.currentTarget=l,au(d,o,void 0,i),i.currentTarget=null}function hg(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],p=d.event;d=d.listeners;e:{var v=void 0;if(o)for(var E=d.length-1;0<=E;E--){var x=d[E],M=x.instance,G=x.currentTarget;if(x=x.listener,M!==v&&p.isPropagationStopped())break e;dg(p,x,G),v=M}else for(E=0;E<d.length;E++){if(x=d[E],M=x.instance,G=x.currentTarget,x=x.listener,M!==v&&p.isPropagationStopped())break e;dg(p,x,G),v=M}}}if(Mn)throw i=Ma,Mn=!1,Ma=null,i}function et(i,o){var l=o[uh];l===void 0&&(l=o[uh]=new Set);var d=i+"__bubble";l.has(d)||(fg(o,i,2,!1),l.add(d))}function nh(i,o,l){var d=0;o&&(d|=4),fg(l,i,d,o)}var Nu="_reactListening"+Math.random().toString(36).slice(2);function Ja(i){if(!i[Nu]){i[Nu]=!0,r.forEach(function(l){l!=="selectionchange"&&(t1.has(l)||nh(l,!1,i),nh(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Nu]||(o[Nu]=!0,nh("selectionchange",!1,o))}}function fg(i,o,l,d){switch(Ba(o)){case 1:var p=it;break;case 4:p=qd;break;default:p=za}l=p.bind(null,o,l,i),p=void 0,!ts||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),d?p!==void 0?i.addEventListener(o,l,{capture:!0,passive:p}):i.addEventListener(o,l,!0):p!==void 0?i.addEventListener(o,l,{passive:p}):i.addEventListener(o,l,!1)}function rh(i,o,l,d,p){var v=d;if(!(o&1)&&!(o&2)&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var x=d.stateNode.containerInfo;if(x===p||x.nodeType===8&&x.parentNode===p)break;if(E===4)for(E=d.return;E!==null;){var M=E.tag;if((M===3||M===4)&&(M=E.stateNode.containerInfo,M===p||M.nodeType===8&&M.parentNode===p))return;E=E.return}for(;x!==null;){if(E=wo(x),E===null)return;if(M=E.tag,M===5||M===6){d=v=E;continue e}x=x.parentNode}}d=d.return}Oa(function(){var G=v,te=Jo(l),re=[];e:{var ee=ug.get(i);if(ee!==void 0){var ce=hs,fe=i;switch(i){case"keypress":if(ds(l)===0)break e;case"keydown":case"keyup":ce=g;break;case"focusin":fe="focus",ce=gs;break;case"focusout":fe="blur",ce=gs;break;case"beforeblur":case"afterblur":ce=gs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=ps;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=K;break;case og:case sg:case ag:ce=Mr;break;case lg:ce=Ke;break;case"scroll":ce=Gd;break;case"wheel":ce=ze;break;case"copy":case"cut":case"paste":ce=Cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=S}var pe=(o&4)!==0,ht=!pe&&i==="scroll",$=pe?ee!==null?ee+"Capture":null:ee;pe=[];for(var F=G,q;F!==null;){q=F;var oe=q.stateNode;if(q.tag===5&&oe!==null&&(q=oe,$!==null&&(oe=dt(F,$),oe!=null&&pe.push(Za(F,oe,q)))),ht)break;F=F.return}0<pe.length&&(ee=new ce(ee,fe,null,l,te),re.push({event:ee,listeners:pe}))}}if(!(o&7)){e:{if(ee=i==="mouseover"||i==="pointerover",ce=i==="mouseout"||i==="pointerout",ee&&l!==so&&(fe=l.relatedTarget||l.fromElement)&&(wo(fe)||fe[Lr]))break e;if((ce||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,ce?(fe=l.relatedTarget||l.toElement,ce=G,fe=fe?wo(fe):null,fe!==null&&(ht=Ln(fe),fe!==ht||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ce=null,fe=G),ce!==fe)){if(pe=ps,oe="onMouseLeave",$="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(pe=S,oe="onPointerLeave",$="onPointerEnter",F="pointer"),ht=ce==null?ee:Is(ce),q=fe==null?ee:Is(fe),ee=new pe(oe,F+"leave",ce,l,te),ee.target=ht,ee.relatedTarget=q,oe=null,wo(te)===G&&(pe=new pe($,F+"enter",fe,l,te),pe.target=q,pe.relatedTarget=ht,oe=pe),ht=oe,ce&&fe)t:{for(pe=ce,$=fe,F=0,q=pe;q;q=Ts(q))F++;for(q=0,oe=$;oe;oe=Ts(oe))q++;for(;0<F-q;)pe=Ts(pe),F--;for(;0<q-F;)$=Ts($),q--;for(;F--;){if(pe===$||$!==null&&pe===$.alternate)break t;pe=Ts(pe),$=Ts($)}pe=null}else pe=null;ce!==null&&pg(re,ee,ce,pe,!1),fe!==null&&ht!==null&&pg(re,ht,fe,pe,!0)}}e:{if(ee=G?Is(G):window,ce=ee.nodeName&&ee.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ee.type==="file")var ge=HT;else if(Gm(ee))if(Qm)ge=QT;else{ge=GT;var _e=qT}else(ce=ee.nodeName)&&ce.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ge=KT);if(ge&&(ge=ge(i,G))){Km(re,ge,l,te);break e}_e&&_e(i,ee,G),i==="focusout"&&(_e=ee._wrapperState)&&_e.controlled&&ee.type==="number"&&Dn(ee,"number",ee.value)}switch(_e=G?Is(G):window,i){case"focusin":(Gm(_e)||_e.contentEditable==="true")&&(ws=_e,Xd=G,Ya=null);break;case"focusout":Ya=Xd=ws=null;break;case"mousedown":Jd=!0;break;case"contextmenu":case"mouseup":case"dragend":Jd=!1,rg(re,l,te);break;case"selectionchange":if(JT)break;case"keydown":case"keyup":rg(re,l,te)}var we;if(pt)e:{switch(i){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else _s?Hm(i,l)&&(Se="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Se="onCompositionStart");Se&&(_o&&l.locale!=="ko"&&(_s||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&_s&&(we=Wa()):(hn=te,cs="value"in hn?hn.value:hn.textContent,_s=!0)),_e=Du(G,Se),0<_e.length&&(Se=new qa(Se,i,null,l,te),re.push({event:Se,listeners:_e}),we?Se.data=we:(we=qm(l),we!==null&&(Se.data=we)))),(we=fn?zT(i,l):BT(i,l))&&(G=Du(G,"onBeforeInput"),0<G.length&&(te=new qa("onBeforeInput","beforeinput",null,l,te),re.push({event:te,listeners:G}),te.data=we))}hg(re,o)})}function Za(i,o,l){return{instance:i,listener:o,currentTarget:l}}function Du(i,o){for(var l=o+"Capture",d=[];i!==null;){var p=i,v=p.stateNode;p.tag===5&&v!==null&&(p=v,v=dt(i,l),v!=null&&d.unshift(Za(i,v,p)),v=dt(i,o),v!=null&&d.push(Za(i,v,p))),i=i.return}return d}function Ts(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function pg(i,o,l,d,p){for(var v=o._reactName,E=[];l!==null&&l!==d;){var x=l,M=x.alternate,G=x.stateNode;if(M!==null&&M===d)break;x.tag===5&&G!==null&&(x=G,p?(M=dt(l,v),M!=null&&E.unshift(Za(l,M,x))):p||(M=dt(l,v),M!=null&&E.push(Za(l,M,x)))),l=l.return}E.length!==0&&i.push({event:o,listeners:E})}var n1=/\r\n?/g,r1=/\u0000|\uFFFD/g;function mg(i){return(typeof i=="string"?i:""+i).replace(n1,`
`).replace(r1,"")}function Ou(i,o,l){if(o=mg(o),mg(i)!==o&&l)throw Error(t(425))}function Mu(){}var ih=null,oh=null;function sh(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ah=typeof setTimeout=="function"?setTimeout:void 0,i1=typeof clearTimeout=="function"?clearTimeout:void 0,gg=typeof Promise=="function"?Promise:void 0,o1=typeof queueMicrotask=="function"?queueMicrotask:typeof gg<"u"?function(i){return gg.resolve(null).then(i).catch(s1)}:ah;function s1(i){setTimeout(function(){throw i})}function lh(i,o){var l=o,d=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){i.removeChild(p),zn(o);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);zn(o)}function vi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function vg(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var Ss=Math.random().toString(36).slice(2),cr="__reactFiber$"+Ss,el="__reactProps$"+Ss,Lr="__reactContainer$"+Ss,uh="__reactEvents$"+Ss,a1="__reactListeners$"+Ss,l1="__reactHandles$"+Ss;function wo(i){var o=i[cr];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Lr]||l[cr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=vg(i);i!==null;){if(l=i[cr])return l;i=vg(i)}return o}i=l,l=i.parentNode}return null}function tl(i){return i=i[cr]||i[Lr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Is(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Lu(i){return i[el]||null}var ch=[],Cs=-1;function yi(i){return{current:i}}function tt(i){0>Cs||(i.current=ch[Cs],ch[Cs]=null,Cs--)}function Je(i,o){Cs++,ch[Cs]=i.current,i.current=o}var _i={},Vt=yi(_i),en=yi(!1),Eo=_i;function As(i,o){var l=i.type.contextTypes;if(!l)return _i;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var p={},v;for(v in l)p[v]=o[v];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=p),p}function tn(i){return i=i.childContextTypes,i!=null}function Vu(){tt(en),tt(Vt)}function yg(i,o,l){if(Vt.current!==_i)throw Error(t(168));Je(Vt,o),Je(en,l)}function _g(i,o,l){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in o))throw Error(t(108,Ue(i)||"Unknown",p));return ae({},l,d)}function Fu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||_i,Eo=Vt.current,Je(Vt,i),Je(en,en.current),!0}function wg(i,o,l){var d=i.stateNode;if(!d)throw Error(t(169));l?(i=_g(i,o,Eo),d.__reactInternalMemoizedMergedChildContext=i,tt(en),tt(Vt),Je(Vt,i)):tt(en),Je(en,l)}var Vr=null,Uu=!1,dh=!1;function Eg(i){Vr===null?Vr=[i]:Vr.push(i)}function u1(i){Uu=!0,Eg(i)}function wi(){if(!dh&&Vr!==null){dh=!0;var i=0,o=Le;try{var l=Vr;for(Le=1;i<l.length;i++){var d=l[i];do d=d(!0);while(d!==null)}Vr=null,Uu=!1}catch(p){throw Vr!==null&&(Vr=Vr.slice(i+1)),os(ho,wi),p}finally{Le=o,dh=!1}}return null}var Ps=[],ks=0,ju=null,zu=0,An=[],Pn=0,To=null,Fr=1,Ur="";function So(i,o){Ps[ks++]=zu,Ps[ks++]=ju,ju=i,zu=o}function Tg(i,o,l){An[Pn++]=Fr,An[Pn++]=Ur,An[Pn++]=To,To=i;var d=Fr;i=Ur;var p=32-Ht(d)-1;d&=~(1<<p),l+=1;var v=32-Ht(o)+p;if(30<v){var E=p-p%5;v=(d&(1<<E)-1).toString(32),d>>=E,p-=E,Fr=1<<32-Ht(o)+p|l<<p|d,Ur=v+i}else Fr=1<<v|l<<p|d,Ur=i}function hh(i){i.return!==null&&(So(i,1),Tg(i,1,0))}function fh(i){for(;i===ju;)ju=Ps[--ks],Ps[ks]=null,zu=Ps[--ks],Ps[ks]=null;for(;i===To;)To=An[--Pn],An[Pn]=null,Ur=An[--Pn],An[Pn]=null,Fr=An[--Pn],An[Pn]=null}var pn=null,mn=null,ot=!1,$n=null;function Sg(i,o){var l=xn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function Ig(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,pn=i,mn=vi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,pn=i,mn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=To!==null?{id:Fr,overflow:Ur}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=xn(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,pn=i,mn=null,!0):!1;default:return!1}}function ph(i){return(i.mode&1)!==0&&(i.flags&128)===0}function mh(i){if(ot){var o=mn;if(o){var l=o;if(!Ig(i,o)){if(ph(i))throw Error(t(418));o=vi(l.nextSibling);var d=pn;o&&Ig(i,o)?Sg(d,l):(i.flags=i.flags&-4097|2,ot=!1,pn=i)}}else{if(ph(i))throw Error(t(418));i.flags=i.flags&-4097|2,ot=!1,pn=i}}}function Cg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;pn=i}function Bu(i){if(i!==pn)return!1;if(!ot)return Cg(i),ot=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!sh(i.type,i.memoizedProps)),o&&(o=mn)){if(ph(i))throw Ag(),Error(t(418));for(;o;)Sg(i,o),o=vi(o.nextSibling)}if(Cg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){mn=vi(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}mn=null}}else mn=pn?vi(i.stateNode.nextSibling):null;return!0}function Ag(){for(var i=mn;i;)i=vi(i.nextSibling)}function Rs(){mn=pn=null,ot=!1}function gh(i){$n===null?$n=[i]:$n.push(i)}var c1=Y.ReactCurrentBatchConfig;function nl(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,i));var p=d,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(E){var x=p.refs;E===null?delete x[v]:x[v]=E},o._stringRef=v,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function Wu(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Pg(i){var o=i._init;return o(i._payload)}function kg(i){function o($,F){if(i){var q=$.deletions;q===null?($.deletions=[F],$.flags|=16):q.push(F)}}function l($,F){if(!i)return null;for(;F!==null;)o($,F),F=F.sibling;return null}function d($,F){for($=new Map;F!==null;)F.key!==null?$.set(F.key,F):$.set(F.index,F),F=F.sibling;return $}function p($,F){return $=ki($,F),$.index=0,$.sibling=null,$}function v($,F,q){return $.index=q,i?(q=$.alternate,q!==null?(q=q.index,q<F?($.flags|=2,F):q):($.flags|=2,F)):($.flags|=1048576,F)}function E($){return i&&$.alternate===null&&($.flags|=2),$}function x($,F,q,oe){return F===null||F.tag!==6?(F=lf(q,$.mode,oe),F.return=$,F):(F=p(F,q),F.return=$,F)}function M($,F,q,oe){var ge=q.type;return ge===N?te($,F,q.props.children,oe,q.key):F!==null&&(F.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===ke&&Pg(ge)===F.type)?(oe=p(F,q.props),oe.ref=nl($,F,q),oe.return=$,oe):(oe=fc(q.type,q.key,q.props,null,$.mode,oe),oe.ref=nl($,F,q),oe.return=$,oe)}function G($,F,q,oe){return F===null||F.tag!==4||F.stateNode.containerInfo!==q.containerInfo||F.stateNode.implementation!==q.implementation?(F=uf(q,$.mode,oe),F.return=$,F):(F=p(F,q.children||[]),F.return=$,F)}function te($,F,q,oe,ge){return F===null||F.tag!==7?(F=xo(q,$.mode,oe,ge),F.return=$,F):(F=p(F,q),F.return=$,F)}function re($,F,q){if(typeof F=="string"&&F!==""||typeof F=="number")return F=lf(""+F,$.mode,q),F.return=$,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case ie:return q=fc(F.type,F.key,F.props,null,$.mode,q),q.ref=nl($,null,F),q.return=$,q;case se:return F=uf(F,$.mode,q),F.return=$,F;case ke:var oe=F._init;return re($,oe(F._payload),q)}if(Pr(F)||ue(F))return F=xo(F,$.mode,q,null),F.return=$,F;Wu($,F)}return null}function ee($,F,q,oe){var ge=F!==null?F.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ge!==null?null:x($,F,""+q,oe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case ie:return q.key===ge?M($,F,q,oe):null;case se:return q.key===ge?G($,F,q,oe):null;case ke:return ge=q._init,ee($,F,ge(q._payload),oe)}if(Pr(q)||ue(q))return ge!==null?null:te($,F,q,oe,null);Wu($,q)}return null}function ce($,F,q,oe,ge){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return $=$.get(q)||null,x(F,$,""+oe,ge);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case ie:return $=$.get(oe.key===null?q:oe.key)||null,M(F,$,oe,ge);case se:return $=$.get(oe.key===null?q:oe.key)||null,G(F,$,oe,ge);case ke:var _e=oe._init;return ce($,F,q,_e(oe._payload),ge)}if(Pr(oe)||ue(oe))return $=$.get(q)||null,te(F,$,oe,ge,null);Wu(F,oe)}return null}function fe($,F,q,oe){for(var ge=null,_e=null,we=F,Se=F=0,kt=null;we!==null&&Se<q.length;Se++){we.index>Se?(kt=we,we=null):kt=we.sibling;var He=ee($,we,q[Se],oe);if(He===null){we===null&&(we=kt);break}i&&we&&He.alternate===null&&o($,we),F=v(He,F,Se),_e===null?ge=He:_e.sibling=He,_e=He,we=kt}if(Se===q.length)return l($,we),ot&&So($,Se),ge;if(we===null){for(;Se<q.length;Se++)we=re($,q[Se],oe),we!==null&&(F=v(we,F,Se),_e===null?ge=we:_e.sibling=we,_e=we);return ot&&So($,Se),ge}for(we=d($,we);Se<q.length;Se++)kt=ce(we,$,Se,q[Se],oe),kt!==null&&(i&&kt.alternate!==null&&we.delete(kt.key===null?Se:kt.key),F=v(kt,F,Se),_e===null?ge=kt:_e.sibling=kt,_e=kt);return i&&we.forEach(function(Ri){return o($,Ri)}),ot&&So($,Se),ge}function pe($,F,q,oe){var ge=ue(q);if(typeof ge!="function")throw Error(t(150));if(q=ge.call(q),q==null)throw Error(t(151));for(var _e=ge=null,we=F,Se=F=0,kt=null,He=q.next();we!==null&&!He.done;Se++,He=q.next()){we.index>Se?(kt=we,we=null):kt=we.sibling;var Ri=ee($,we,He.value,oe);if(Ri===null){we===null&&(we=kt);break}i&&we&&Ri.alternate===null&&o($,we),F=v(Ri,F,Se),_e===null?ge=Ri:_e.sibling=Ri,_e=Ri,we=kt}if(He.done)return l($,we),ot&&So($,Se),ge;if(we===null){for(;!He.done;Se++,He=q.next())He=re($,He.value,oe),He!==null&&(F=v(He,F,Se),_e===null?ge=He:_e.sibling=He,_e=He);return ot&&So($,Se),ge}for(we=d($,we);!He.done;Se++,He=q.next())He=ce(we,$,Se,He.value,oe),He!==null&&(i&&He.alternate!==null&&we.delete(He.key===null?Se:He.key),F=v(He,F,Se),_e===null?ge=He:_e.sibling=He,_e=He);return i&&we.forEach(function(W1){return o($,W1)}),ot&&So($,Se),ge}function ht($,F,q,oe){if(typeof q=="object"&&q!==null&&q.type===N&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case ie:e:{for(var ge=q.key,_e=F;_e!==null;){if(_e.key===ge){if(ge=q.type,ge===N){if(_e.tag===7){l($,_e.sibling),F=p(_e,q.props.children),F.return=$,$=F;break e}}else if(_e.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===ke&&Pg(ge)===_e.type){l($,_e.sibling),F=p(_e,q.props),F.ref=nl($,_e,q),F.return=$,$=F;break e}l($,_e);break}else o($,_e);_e=_e.sibling}q.type===N?(F=xo(q.props.children,$.mode,oe,q.key),F.return=$,$=F):(oe=fc(q.type,q.key,q.props,null,$.mode,oe),oe.ref=nl($,F,q),oe.return=$,$=oe)}return E($);case se:e:{for(_e=q.key;F!==null;){if(F.key===_e)if(F.tag===4&&F.stateNode.containerInfo===q.containerInfo&&F.stateNode.implementation===q.implementation){l($,F.sibling),F=p(F,q.children||[]),F.return=$,$=F;break e}else{l($,F);break}else o($,F);F=F.sibling}F=uf(q,$.mode,oe),F.return=$,$=F}return E($);case ke:return _e=q._init,ht($,F,_e(q._payload),oe)}if(Pr(q))return fe($,F,q,oe);if(ue(q))return pe($,F,q,oe);Wu($,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,F!==null&&F.tag===6?(l($,F.sibling),F=p(F,q),F.return=$,$=F):(l($,F),F=lf(q,$.mode,oe),F.return=$,$=F),E($)):l($,F)}return ht}var bs=kg(!0),Rg=kg(!1),$u=yi(null),Hu=null,xs=null,vh=null;function yh(){vh=xs=Hu=null}function _h(i){var o=$u.current;tt($u),i._currentValue=o}function wh(i,o,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===l)break;i=i.return}}function Ns(i,o){Hu=i,vh=xs=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(nn=!0),i.firstContext=null)}function kn(i){var o=i._currentValue;if(vh!==i)if(i={context:i,memoizedValue:o,next:null},xs===null){if(Hu===null)throw Error(t(308));xs=i,Hu.dependencies={lanes:0,firstContext:i}}else xs=xs.next=i;return o}var Io=null;function Eh(i){Io===null?Io=[i]:Io.push(i)}function bg(i,o,l,d){var p=o.interleaved;return p===null?(l.next=l,Eh(o)):(l.next=p.next,p.next=l),o.interleaved=l,jr(i,d)}function jr(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Ei=!1;function Th(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xg(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function zr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Ti(i,o,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,We&2){var p=d.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),d.pending=o,jr(i,l)}return p=d.interleaved,p===null?(o.next=o,Eh(d)):(o.next=p.next,p.next=o),d.interleaved=o,jr(i,l)}function qu(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,di(i,l)}}function Ng(i,o){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?p=v=E:v=v.next=E,l=l.next}while(l!==null);v===null?p=v=o:v=v.next=o}else p=v=o;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:d.shared,effects:d.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function Gu(i,o,l,d){var p=i.updateQueue;Ei=!1;var v=p.firstBaseUpdate,E=p.lastBaseUpdate,x=p.shared.pending;if(x!==null){p.shared.pending=null;var M=x,G=M.next;M.next=null,E===null?v=G:E.next=G,E=M;var te=i.alternate;te!==null&&(te=te.updateQueue,x=te.lastBaseUpdate,x!==E&&(x===null?te.firstBaseUpdate=G:x.next=G,te.lastBaseUpdate=M))}if(v!==null){var re=p.baseState;E=0,te=G=M=null,x=v;do{var ee=x.lane,ce=x.eventTime;if((d&ee)===ee){te!==null&&(te=te.next={eventTime:ce,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var fe=i,pe=x;switch(ee=o,ce=l,pe.tag){case 1:if(fe=pe.payload,typeof fe=="function"){re=fe.call(ce,re,ee);break e}re=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=pe.payload,ee=typeof fe=="function"?fe.call(ce,re,ee):fe,ee==null)break e;re=ae({},re,ee);break e;case 2:Ei=!0}}x.callback!==null&&x.lane!==0&&(i.flags|=64,ee=p.effects,ee===null?p.effects=[x]:ee.push(x))}else ce={eventTime:ce,lane:ee,tag:x.tag,payload:x.payload,callback:x.callback,next:null},te===null?(G=te=ce,M=re):te=te.next=ce,E|=ee;if(x=x.next,x===null){if(x=p.shared.pending,x===null)break;ee=x,x=ee.next,ee.next=null,p.lastBaseUpdate=ee,p.shared.pending=null}}while(!0);if(te===null&&(M=re),p.baseState=M,p.firstBaseUpdate=G,p.lastBaseUpdate=te,o=p.shared.interleaved,o!==null){p=o;do E|=p.lane,p=p.next;while(p!==o)}else v===null&&(p.shared.lanes=0);Po|=E,i.lanes=E,i.memoizedState=re}}function Dg(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var rl={},dr=yi(rl),il=yi(rl),ol=yi(rl);function Co(i){if(i===rl)throw Error(t(174));return i}function Sh(i,o){switch(Je(ol,o),Je(il,i),Je(dr,rl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:_t(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=_t(o,i)}tt(dr),Je(dr,o)}function Ds(){tt(dr),tt(il),tt(ol)}function Og(i){Co(ol.current);var o=Co(dr.current),l=_t(o,i.type);o!==l&&(Je(il,i),Je(dr,l))}function Ih(i){il.current===i&&(tt(dr),tt(il))}var st=yi(0);function Ku(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ch=[];function Ah(){for(var i=0;i<Ch.length;i++)Ch[i]._workInProgressVersionPrimary=null;Ch.length=0}var Qu=Y.ReactCurrentDispatcher,Ph=Y.ReactCurrentBatchConfig,Ao=0,at=null,Et=null,At=null,Yu=!1,sl=!1,al=0,d1=0;function Ft(){throw Error(t(321))}function kh(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Wn(i[l],o[l]))return!1;return!0}function Rh(i,o,l,d,p,v){if(Ao=v,at=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Qu.current=i===null||i.memoizedState===null?m1:g1,i=l(d,p),sl){v=0;do{if(sl=!1,al=0,25<=v)throw Error(t(301));v+=1,At=Et=null,o.updateQueue=null,Qu.current=v1,i=l(d,p)}while(sl)}if(Qu.current=Zu,o=Et!==null&&Et.next!==null,Ao=0,At=Et=at=null,Yu=!1,o)throw Error(t(300));return i}function bh(){var i=al!==0;return al=0,i}function hr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?at.memoizedState=At=i:At=At.next=i,At}function Rn(){if(Et===null){var i=at.alternate;i=i!==null?i.memoizedState:null}else i=Et.next;var o=At===null?at.memoizedState:At.next;if(o!==null)At=o,Et=i;else{if(i===null)throw Error(t(310));Et=i,i={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},At===null?at.memoizedState=At=i:At=At.next=i}return At}function ll(i,o){return typeof o=="function"?o(i):o}function xh(i){var o=Rn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=Et,p=d.baseQueue,v=l.pending;if(v!==null){if(p!==null){var E=p.next;p.next=v.next,v.next=E}d.baseQueue=p=v,l.pending=null}if(p!==null){v=p.next,d=d.baseState;var x=E=null,M=null,G=v;do{var te=G.lane;if((Ao&te)===te)M!==null&&(M=M.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),d=G.hasEagerState?G.eagerState:i(d,G.action);else{var re={lane:te,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};M===null?(x=M=re,E=d):M=M.next=re,at.lanes|=te,Po|=te}G=G.next}while(G!==null&&G!==v);M===null?E=d:M.next=x,Wn(d,o.memoizedState)||(nn=!0),o.memoizedState=d,o.baseState=E,o.baseQueue=M,l.lastRenderedState=d}if(i=l.interleaved,i!==null){p=i;do v=p.lane,at.lanes|=v,Po|=v,p=p.next;while(p!==i)}else p===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Nh(i){var o=Rn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=l.dispatch,p=l.pending,v=o.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do v=i(v,E.action),E=E.next;while(E!==p);Wn(v,o.memoizedState)||(nn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),l.lastRenderedState=v}return[v,d]}function Mg(){}function Lg(i,o){var l=at,d=Rn(),p=o(),v=!Wn(d.memoizedState,p);if(v&&(d.memoizedState=p,nn=!0),d=d.queue,Dh(Ug.bind(null,l,d,i),[i]),d.getSnapshot!==o||v||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,ul(9,Fg.bind(null,l,d,p,o),void 0,null),Pt===null)throw Error(t(349));Ao&30||Vg(l,o,p)}return p}function Vg(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=at.updateQueue,o===null?(o={lastEffect:null,stores:null},at.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function Fg(i,o,l,d){o.value=l,o.getSnapshot=d,jg(o)&&zg(i)}function Ug(i,o,l){return l(function(){jg(o)&&zg(i)})}function jg(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Wn(i,l)}catch{return!0}}function zg(i){var o=jr(i,1);o!==null&&Kn(o,i,1,-1)}function Bg(i){var o=hr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ll,lastRenderedState:i},o.queue=i,i=i.dispatch=p1.bind(null,at,i),[o.memoizedState,i]}function ul(i,o,l,d){return i={tag:i,create:o,destroy:l,deps:d,next:null},o=at.updateQueue,o===null?(o={lastEffect:null,stores:null},at.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,o.lastEffect=i)),i}function Wg(){return Rn().memoizedState}function Xu(i,o,l,d){var p=hr();at.flags|=i,p.memoizedState=ul(1|o,l,void 0,d===void 0?null:d)}function Ju(i,o,l,d){var p=Rn();d=d===void 0?null:d;var v=void 0;if(Et!==null){var E=Et.memoizedState;if(v=E.destroy,d!==null&&kh(d,E.deps)){p.memoizedState=ul(o,l,v,d);return}}at.flags|=i,p.memoizedState=ul(1|o,l,v,d)}function $g(i,o){return Xu(8390656,8,i,o)}function Dh(i,o){return Ju(2048,8,i,o)}function Hg(i,o){return Ju(4,2,i,o)}function qg(i,o){return Ju(4,4,i,o)}function Gg(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Kg(i,o,l){return l=l!=null?l.concat([i]):null,Ju(4,4,Gg.bind(null,o,i),l)}function Oh(){}function Qg(i,o){var l=Rn();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&kh(o,d[1])?d[0]:(l.memoizedState=[i,o],i)}function Yg(i,o){var l=Rn();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&kh(o,d[1])?d[0]:(i=i(),l.memoizedState=[i,o],i)}function Xg(i,o,l){return Ao&21?(Wn(l,o)||(l=mo(),at.lanes|=l,Po|=l,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,nn=!0),i.memoizedState=l)}function h1(i,o){var l=Le;Le=l!==0&&4>l?l:4,i(!0);var d=Ph.transition;Ph.transition={};try{i(!1),o()}finally{Le=l,Ph.transition=d}}function Jg(){return Rn().memoizedState}function f1(i,o,l){var d=Ai(i);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Zg(i))ev(o,l);else if(l=bg(i,o,l,d),l!==null){var p=Kt();Kn(l,i,d,p),tv(l,o,d)}}function p1(i,o,l){var d=Ai(i),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Zg(i))ev(o,p);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var E=o.lastRenderedState,x=v(E,l);if(p.hasEagerState=!0,p.eagerState=x,Wn(x,E)){var M=o.interleaved;M===null?(p.next=p,Eh(o)):(p.next=M.next,M.next=p),o.interleaved=p;return}}catch{}finally{}l=bg(i,o,p,d),l!==null&&(p=Kt(),Kn(l,i,d,p),tv(l,o,d))}}function Zg(i){var o=i.alternate;return i===at||o!==null&&o===at}function ev(i,o){sl=Yu=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function tv(i,o,l){if(l&4194240){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,di(i,l)}}var Zu={readContext:kn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},m1={readContext:kn,useCallback:function(i,o){return hr().memoizedState=[i,o===void 0?null:o],i},useContext:kn,useEffect:$g,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,Xu(4194308,4,Gg.bind(null,o,i),l)},useLayoutEffect:function(i,o){return Xu(4194308,4,i,o)},useInsertionEffect:function(i,o){return Xu(4,2,i,o)},useMemo:function(i,o){var l=hr();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var d=hr();return o=l!==void 0?l(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=f1.bind(null,at,i),[d.memoizedState,i]},useRef:function(i){var o=hr();return i={current:i},o.memoizedState=i},useState:Bg,useDebugValue:Oh,useDeferredValue:function(i){return hr().memoizedState=i},useTransition:function(){var i=Bg(!1),o=i[0];return i=h1.bind(null,i[1]),hr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var d=at,p=hr();if(ot){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Pt===null)throw Error(t(349));Ao&30||Vg(d,o,l)}p.memoizedState=l;var v={value:l,getSnapshot:o};return p.queue=v,$g(Ug.bind(null,d,v,i),[i]),d.flags|=2048,ul(9,Fg.bind(null,d,v,l,o),void 0,null),l},useId:function(){var i=hr(),o=Pt.identifierPrefix;if(ot){var l=Ur,d=Fr;l=(d&~(1<<32-Ht(d)-1)).toString(32)+l,o=":"+o+"R"+l,l=al++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=d1++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},g1={readContext:kn,useCallback:Qg,useContext:kn,useEffect:Dh,useImperativeHandle:Kg,useInsertionEffect:Hg,useLayoutEffect:qg,useMemo:Yg,useReducer:xh,useRef:Wg,useState:function(){return xh(ll)},useDebugValue:Oh,useDeferredValue:function(i){var o=Rn();return Xg(o,Et.memoizedState,i)},useTransition:function(){var i=xh(ll)[0],o=Rn().memoizedState;return[i,o]},useMutableSource:Mg,useSyncExternalStore:Lg,useId:Jg,unstable_isNewReconciler:!1},v1={readContext:kn,useCallback:Qg,useContext:kn,useEffect:Dh,useImperativeHandle:Kg,useInsertionEffect:Hg,useLayoutEffect:qg,useMemo:Yg,useReducer:Nh,useRef:Wg,useState:function(){return Nh(ll)},useDebugValue:Oh,useDeferredValue:function(i){var o=Rn();return Et===null?o.memoizedState=i:Xg(o,Et.memoizedState,i)},useTransition:function(){var i=Nh(ll)[0],o=Rn().memoizedState;return[i,o]},useMutableSource:Mg,useSyncExternalStore:Lg,useId:Jg,unstable_isNewReconciler:!1};function Hn(i,o){if(i&&i.defaultProps){o=ae({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function Mh(i,o,l,d){o=i.memoizedState,l=l(d,o),l=l==null?o:ae({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var ec={isMounted:function(i){return(i=i._reactInternals)?Ln(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var d=Kt(),p=Ai(i),v=zr(d,p);v.payload=o,l!=null&&(v.callback=l),o=Ti(i,v,p),o!==null&&(Kn(o,i,p,d),qu(o,i,p))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var d=Kt(),p=Ai(i),v=zr(d,p);v.tag=1,v.payload=o,l!=null&&(v.callback=l),o=Ti(i,v,p),o!==null&&(Kn(o,i,p,d),qu(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=Kt(),d=Ai(i),p=zr(l,d);p.tag=2,o!=null&&(p.callback=o),o=Ti(i,p,d),o!==null&&(Kn(o,i,d,l),qu(o,i,d))}};function nv(i,o,l,d,p,v,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,v,E):o.prototype&&o.prototype.isPureReactComponent?!Qa(l,d)||!Qa(p,v):!0}function rv(i,o,l){var d=!1,p=_i,v=o.contextType;return typeof v=="object"&&v!==null?v=kn(v):(p=tn(o)?Eo:Vt.current,d=o.contextTypes,v=(d=d!=null)?As(i,p):_i),o=new o(l,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=ec,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=v),o}function iv(i,o,l,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==i&&ec.enqueueReplaceState(o,o.state,null)}function Lh(i,o,l,d){var p=i.stateNode;p.props=l,p.state=i.memoizedState,p.refs={},Th(i);var v=o.contextType;typeof v=="object"&&v!==null?p.context=kn(v):(v=tn(o)?Eo:Vt.current,p.context=As(i,v)),p.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Mh(i,o,v,l),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(o=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),o!==p.state&&ec.enqueueReplaceState(p,p.state,null),Gu(i,l,p,d),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function Os(i,o){try{var l="",d=o;do l+=xe(d),d=d.return;while(d);var p=l}catch(v){p=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:p,digest:null}}function Vh(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function Fh(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var y1=typeof WeakMap=="function"?WeakMap:Map;function ov(i,o,l){l=zr(-1,l),l.tag=3,l.payload={element:null};var d=o.value;return l.callback=function(){ac||(ac=!0,Zh=d),Fh(i,o)},l}function sv(i,o,l){l=zr(-1,l),l.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var p=o.value;l.payload=function(){return d(p)},l.callback=function(){Fh(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){Fh(i,o),typeof d!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})}),l}function av(i,o,l){var d=i.pingCache;if(d===null){d=i.pingCache=new y1;var p=new Set;d.set(o,p)}else p=d.get(o),p===void 0&&(p=new Set,d.set(o,p));p.has(l)||(p.add(l),i=N1.bind(null,i,o,l),o.then(i,i))}function lv(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function uv(i,o,l,d,p){return i.mode&1?(i.flags|=65536,i.lanes=p,i):(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=zr(-1,1),o.tag=2,Ti(l,o,1))),l.lanes|=1),i)}var _1=Y.ReactCurrentOwner,nn=!1;function Gt(i,o,l,d){o.child=i===null?Rg(o,null,l,d):bs(o,i.child,l,d)}function cv(i,o,l,d,p){l=l.render;var v=o.ref;return Ns(o,p),d=Rh(i,o,l,d,v,p),l=bh(),i!==null&&!nn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~p,Br(i,o,p)):(ot&&l&&hh(o),o.flags|=1,Gt(i,o,d,p),o.child)}function dv(i,o,l,d,p){if(i===null){var v=l.type;return typeof v=="function"&&!af(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=v,hv(i,o,v,d,p)):(i=fc(l.type,null,d,o,o.mode,p),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,!(i.lanes&p)){var E=v.memoizedProps;if(l=l.compare,l=l!==null?l:Qa,l(E,d)&&i.ref===o.ref)return Br(i,o,p)}return o.flags|=1,i=ki(v,d),i.ref=o.ref,i.return=o,o.child=i}function hv(i,o,l,d,p){if(i!==null){var v=i.memoizedProps;if(Qa(v,d)&&i.ref===o.ref)if(nn=!1,o.pendingProps=d=v,(i.lanes&p)!==0)i.flags&131072&&(nn=!0);else return o.lanes=i.lanes,Br(i,o,p)}return Uh(i,o,l,d,p)}function fv(i,o,l){var d=o.pendingProps,p=d.children,v=i!==null?i.memoizedState:null;if(d.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Ls,gn),gn|=l;else{if(!(l&1073741824))return i=v!==null?v.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Je(Ls,gn),gn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:l,Je(Ls,gn),gn|=d}else v!==null?(d=v.baseLanes|l,o.memoizedState=null):d=l,Je(Ls,gn),gn|=d;return Gt(i,o,p,l),o.child}function pv(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Uh(i,o,l,d,p){var v=tn(l)?Eo:Vt.current;return v=As(o,v),Ns(o,p),l=Rh(i,o,l,d,v,p),d=bh(),i!==null&&!nn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~p,Br(i,o,p)):(ot&&d&&hh(o),o.flags|=1,Gt(i,o,l,p),o.child)}function mv(i,o,l,d,p){if(tn(l)){var v=!0;Fu(o)}else v=!1;if(Ns(o,p),o.stateNode===null)nc(i,o),rv(o,l,d),Lh(o,l,d,p),d=!0;else if(i===null){var E=o.stateNode,x=o.memoizedProps;E.props=x;var M=E.context,G=l.contextType;typeof G=="object"&&G!==null?G=kn(G):(G=tn(l)?Eo:Vt.current,G=As(o,G));var te=l.getDerivedStateFromProps,re=typeof te=="function"||typeof E.getSnapshotBeforeUpdate=="function";re||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(x!==d||M!==G)&&iv(o,E,d,G),Ei=!1;var ee=o.memoizedState;E.state=ee,Gu(o,d,E,p),M=o.memoizedState,x!==d||ee!==M||en.current||Ei?(typeof te=="function"&&(Mh(o,l,te,d),M=o.memoizedState),(x=Ei||nv(o,l,x,d,ee,M,G))?(re||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=M),E.props=d,E.state=M,E.context=G,d=x):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{E=o.stateNode,xg(i,o),x=o.memoizedProps,G=o.type===o.elementType?x:Hn(o.type,x),E.props=G,re=o.pendingProps,ee=E.context,M=l.contextType,typeof M=="object"&&M!==null?M=kn(M):(M=tn(l)?Eo:Vt.current,M=As(o,M));var ce=l.getDerivedStateFromProps;(te=typeof ce=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(x!==re||ee!==M)&&iv(o,E,d,M),Ei=!1,ee=o.memoizedState,E.state=ee,Gu(o,d,E,p);var fe=o.memoizedState;x!==re||ee!==fe||en.current||Ei?(typeof ce=="function"&&(Mh(o,l,ce,d),fe=o.memoizedState),(G=Ei||nv(o,l,G,d,ee,fe,M)||!1)?(te||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,fe,M),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,fe,M)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||x===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=fe),E.props=d,E.state=fe,E.context=M,d=G):(typeof E.componentDidUpdate!="function"||x===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),d=!1)}return jh(i,o,l,d,v,p)}function jh(i,o,l,d,p,v){pv(i,o);var E=(o.flags&128)!==0;if(!d&&!E)return p&&wg(o,l,!1),Br(i,o,v);d=o.stateNode,_1.current=o;var x=E&&typeof l.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&E?(o.child=bs(o,i.child,null,v),o.child=bs(o,null,x,v)):Gt(i,o,x,v),o.memoizedState=d.state,p&&wg(o,l,!0),o.child}function gv(i){var o=i.stateNode;o.pendingContext?yg(i,o.pendingContext,o.pendingContext!==o.context):o.context&&yg(i,o.context,!1),Sh(i,o.containerInfo)}function vv(i,o,l,d,p){return Rs(),gh(p),o.flags|=256,Gt(i,o,l,d),o.child}var zh={dehydrated:null,treeContext:null,retryLane:0};function Bh(i){return{baseLanes:i,cachePool:null,transitions:null}}function yv(i,o,l){var d=o.pendingProps,p=st.current,v=!1,E=(o.flags&128)!==0,x;if((x=E)||(x=i!==null&&i.memoizedState===null?!1:(p&2)!==0),x?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),Je(st,p&1),i===null)return mh(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(E=d.children,i=d.fallback,v?(d=o.mode,v=o.child,E={mode:"hidden",children:E},!(d&1)&&v!==null?(v.childLanes=0,v.pendingProps=E):v=pc(E,d,0,null),i=xo(i,d,l,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=Bh(l),o.memoizedState=zh,i):Wh(o,E));if(p=i.memoizedState,p!==null&&(x=p.dehydrated,x!==null))return w1(i,o,E,d,x,p,l);if(v){v=d.fallback,E=o.mode,p=i.child,x=p.sibling;var M={mode:"hidden",children:d.children};return!(E&1)&&o.child!==p?(d=o.child,d.childLanes=0,d.pendingProps=M,o.deletions=null):(d=ki(p,M),d.subtreeFlags=p.subtreeFlags&14680064),x!==null?v=ki(x,v):(v=xo(v,E,l,null),v.flags|=2),v.return=o,d.return=o,d.sibling=v,o.child=d,d=v,v=o.child,E=i.child.memoizedState,E=E===null?Bh(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},v.memoizedState=E,v.childLanes=i.childLanes&~l,o.memoizedState=zh,d}return v=i.child,i=v.sibling,d=ki(v,{mode:"visible",children:d.children}),!(o.mode&1)&&(d.lanes=l),d.return=o,d.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=d,o.memoizedState=null,d}function Wh(i,o){return o=pc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function tc(i,o,l,d){return d!==null&&gh(d),bs(o,i.child,null,l),i=Wh(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function w1(i,o,l,d,p,v,E){if(l)return o.flags&256?(o.flags&=-257,d=Vh(Error(t(422))),tc(i,o,E,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=d.fallback,p=o.mode,d=pc({mode:"visible",children:d.children},p,0,null),v=xo(v,p,E,null),v.flags|=2,d.return=o,v.return=o,d.sibling=v,o.child=d,o.mode&1&&bs(o,i.child,null,E),o.child.memoizedState=Bh(E),o.memoizedState=zh,v);if(!(o.mode&1))return tc(i,o,E,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var x=d.dgst;return d=x,v=Error(t(419)),d=Vh(v,d,void 0),tc(i,o,E,d)}if(x=(E&i.childLanes)!==0,nn||x){if(d=Pt,d!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(d.suspendedLanes|E)?0:p,p!==0&&p!==v.retryLane&&(v.retryLane=p,jr(i,p),Kn(d,i,p,-1))}return sf(),d=Vh(Error(t(421))),tc(i,o,E,d)}return p.data==="$?"?(o.flags|=128,o.child=i.child,o=D1.bind(null,i),p._reactRetry=o,null):(i=v.treeContext,mn=vi(p.nextSibling),pn=o,ot=!0,$n=null,i!==null&&(An[Pn++]=Fr,An[Pn++]=Ur,An[Pn++]=To,Fr=i.id,Ur=i.overflow,To=o),o=Wh(o,d.children),o.flags|=4096,o)}function _v(i,o,l){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),wh(i.return,o,l)}function $h(i,o,l,d,p){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=l,v.tailMode=p)}function wv(i,o,l){var d=o.pendingProps,p=d.revealOrder,v=d.tail;if(Gt(i,o,d.children,l),d=st.current,d&2)d=d&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&_v(i,l,o);else if(i.tag===19)_v(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(Je(st,d),!(o.mode&1))o.memoizedState=null;else switch(p){case"forwards":for(l=o.child,p=null;l!==null;)i=l.alternate,i!==null&&Ku(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=o.child,o.child=null):(p=l.sibling,l.sibling=null),$h(o,!1,p,l,v);break;case"backwards":for(l=null,p=o.child,o.child=null;p!==null;){if(i=p.alternate,i!==null&&Ku(i)===null){o.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}$h(o,!0,l,null,v);break;case"together":$h(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function nc(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Br(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),Po|=o.lanes,!(l&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=ki(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=ki(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function E1(i,o,l){switch(o.tag){case 3:gv(o),Rs();break;case 5:Og(o);break;case 1:tn(o.type)&&Fu(o);break;case 4:Sh(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,p=o.memoizedProps.value;Je($u,d._currentValue),d._currentValue=p;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Je(st,st.current&1),o.flags|=128,null):l&o.child.childLanes?yv(i,o,l):(Je(st,st.current&1),i=Br(i,o,l),i!==null?i.sibling:null);Je(st,st.current&1);break;case 19:if(d=(l&o.childLanes)!==0,i.flags&128){if(d)return wv(i,o,l);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Je(st,st.current),d)break;return null;case 22:case 23:return o.lanes=0,fv(i,o,l)}return Br(i,o,l)}var Ev,Hh,Tv,Sv;Ev=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Hh=function(){},Tv=function(i,o,l,d){var p=i.memoizedProps;if(p!==d){i=o.stateNode,Co(dr.current);var v=null;switch(l){case"input":p=nr(i,p),d=nr(i,d),v=[];break;case"select":p=ae({},p,{value:void 0}),d=ae({},d,{value:void 0}),v=[];break;case"textarea":p=Ia(i,p),d=Ia(i,d),v=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=Mu)}ba(l,d);var E;l=null;for(G in p)if(!d.hasOwnProperty(G)&&p.hasOwnProperty(G)&&p[G]!=null)if(G==="style"){var x=p[G];for(E in x)x.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(s.hasOwnProperty(G)?v||(v=[]):(v=v||[]).push(G,null));for(G in d){var M=d[G];if(x=p!=null?p[G]:void 0,d.hasOwnProperty(G)&&M!==x&&(M!=null||x!=null))if(G==="style")if(x){for(E in x)!x.hasOwnProperty(E)||M&&M.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in M)M.hasOwnProperty(E)&&x[E]!==M[E]&&(l||(l={}),l[E]=M[E])}else l||(v||(v=[]),v.push(G,l)),l=M;else G==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,x=x?x.__html:void 0,M!=null&&x!==M&&(v=v||[]).push(G,M)):G==="children"?typeof M!="string"&&typeof M!="number"||(v=v||[]).push(G,""+M):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(s.hasOwnProperty(G)?(M!=null&&G==="onScroll"&&et("scroll",i),v||x===M||(v=[])):(v=v||[]).push(G,M))}l&&(v=v||[]).push("style",l);var G=v;(o.updateQueue=G)&&(o.flags|=4)}},Sv=function(i,o,l,d){l!==d&&(o.flags|=4)};function cl(i,o){if(!ot)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Ut(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(o)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=d,i.childLanes=l,o}function T1(i,o,l){var d=o.pendingProps;switch(fh(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(o),null;case 1:return tn(o.type)&&Vu(),Ut(o),null;case 3:return d=o.stateNode,Ds(),tt(en),tt(Vt),Ah(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Bu(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,$n!==null&&(nf($n),$n=null))),Hh(i,o),Ut(o),null;case 5:Ih(o);var p=Co(ol.current);if(l=o.type,i!==null&&o.stateNode!=null)Tv(i,o,l,d,p),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return Ut(o),null}if(i=Co(dr.current),Bu(o)){d=o.stateNode,l=o.type;var v=o.memoizedProps;switch(d[cr]=o,d[el]=v,i=(o.mode&1)!==0,l){case"dialog":et("cancel",d),et("close",d);break;case"iframe":case"object":case"embed":et("load",d);break;case"video":case"audio":for(p=0;p<Xa.length;p++)et(Xa[p],d);break;case"source":et("error",d);break;case"img":case"image":case"link":et("error",d),et("load",d);break;case"details":et("toggle",d);break;case"input":oi(d,v),et("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},et("invalid",d);break;case"textarea":Yo(d,v),et("invalid",d)}ba(l,v),p=null;for(var E in v)if(v.hasOwnProperty(E)){var x=v[E];E==="children"?typeof x=="string"?d.textContent!==x&&(v.suppressHydrationWarning!==!0&&Ou(d.textContent,x,i),p=["children",x]):typeof x=="number"&&d.textContent!==""+x&&(v.suppressHydrationWarning!==!0&&Ou(d.textContent,x,i),p=["children",""+x]):s.hasOwnProperty(E)&&x!=null&&E==="onScroll"&&et("scroll",d)}switch(l){case"input":En(d),Qo(d,v,!0);break;case"textarea":En(d),Ca(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=Mu)}d=p,o.updateQueue=d,d!==null&&(o.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=yt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=E.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=E.createElement(l,{is:d.is}):(i=E.createElement(l),l==="select"&&(E=i,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):i=E.createElementNS(i,l),i[cr]=o,i[el]=d,Ev(i,o,!1,!1),o.stateNode=i;e:{switch(E=xa(l,d),l){case"dialog":et("cancel",i),et("close",i),p=d;break;case"iframe":case"object":case"embed":et("load",i),p=d;break;case"video":case"audio":for(p=0;p<Xa.length;p++)et(Xa[p],i);p=d;break;case"source":et("error",i),p=d;break;case"img":case"image":case"link":et("error",i),et("load",i),p=d;break;case"details":et("toggle",i),p=d;break;case"input":oi(i,d),p=nr(i,d),et("invalid",i);break;case"option":p=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},p=ae({},d,{value:void 0}),et("invalid",i);break;case"textarea":Yo(i,d),p=Ia(i,d),et("invalid",i);break;default:p=d}ba(l,p),x=p;for(v in x)if(x.hasOwnProperty(v)){var M=x[v];v==="style"?ka(i,M):v==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Aa(i,M)):v==="children"?typeof M=="string"?(l!=="textarea"||M!=="")&&si(i,M):typeof M=="number"&&si(i,""+M):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?M!=null&&v==="onScroll"&&et("scroll",i):M!=null&&Q(i,v,M,E))}switch(l){case"input":En(i),Qo(i,d,!1);break;case"textarea":En(i),Ca(i);break;case"option":d.value!=null&&i.setAttribute("value",""+je(d.value));break;case"select":i.multiple=!!d.multiple,v=d.value,v!=null?kr(i,!!d.multiple,v,!1):d.defaultValue!=null&&kr(i,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=Mu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Ut(o),null;case 6:if(i&&o.stateNode!=null)Sv(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(l=Co(ol.current),Co(dr.current),Bu(o)){if(d=o.stateNode,l=o.memoizedProps,d[cr]=o,(v=d.nodeValue!==l)&&(i=pn,i!==null))switch(i.tag){case 3:Ou(d.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Ou(d.nodeValue,l,(i.mode&1)!==0)}v&&(o.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[cr]=o,o.stateNode=d}return Ut(o),null;case 13:if(tt(st),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ot&&mn!==null&&o.mode&1&&!(o.flags&128))Ag(),Rs(),o.flags|=98560,v=!1;else if(v=Bu(o),d!==null&&d.dehydrated!==null){if(i===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[cr]=o}else Rs(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Ut(o),v=!1}else $n!==null&&(nf($n),$n=null),v=!0;if(!v)return o.flags&65536?o:null}return o.flags&128?(o.lanes=l,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,o.mode&1&&(i===null||st.current&1?Tt===0&&(Tt=3):sf())),o.updateQueue!==null&&(o.flags|=4),Ut(o),null);case 4:return Ds(),Hh(i,o),i===null&&Ja(o.stateNode.containerInfo),Ut(o),null;case 10:return _h(o.type._context),Ut(o),null;case 17:return tn(o.type)&&Vu(),Ut(o),null;case 19:if(tt(st),v=o.memoizedState,v===null)return Ut(o),null;if(d=(o.flags&128)!==0,E=v.rendering,E===null)if(d)cl(v,!1);else{if(Tt!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(E=Ku(i),E!==null){for(o.flags|=128,cl(v,!1),d=E.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=l,l=o.child;l!==null;)v=l,i=d,v.flags&=14680066,E=v.alternate,E===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=E.childLanes,v.lanes=E.lanes,v.child=E.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=E.memoizedProps,v.memoizedState=E.memoizedState,v.updateQueue=E.updateQueue,v.type=E.type,i=E.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Je(st,st.current&1|2),o.child}i=i.sibling}v.tail!==null&&Xe()>Vs&&(o.flags|=128,d=!0,cl(v,!1),o.lanes=4194304)}else{if(!d)if(i=Ku(E),i!==null){if(o.flags|=128,d=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),cl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!E.alternate&&!ot)return Ut(o),null}else 2*Xe()-v.renderingStartTime>Vs&&l!==1073741824&&(o.flags|=128,d=!0,cl(v,!1),o.lanes=4194304);v.isBackwards?(E.sibling=o.child,o.child=E):(l=v.last,l!==null?l.sibling=E:o.child=E,v.last=E)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Xe(),o.sibling=null,l=st.current,Je(st,d?l&1|2:l&1),o):(Ut(o),null);case 22:case 23:return of(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&o.mode&1?gn&1073741824&&(Ut(o),o.subtreeFlags&6&&(o.flags|=8192)):Ut(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function S1(i,o){switch(fh(o),o.tag){case 1:return tn(o.type)&&Vu(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ds(),tt(en),tt(Vt),Ah(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return Ih(o),null;case 13:if(tt(st),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Rs()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return tt(st),null;case 4:return Ds(),null;case 10:return _h(o.type._context),null;case 22:case 23:return of(),null;case 24:return null;default:return null}}var rc=!1,jt=!1,I1=typeof WeakSet=="function"?WeakSet:Set,he=null;function Ms(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){ut(i,o,d)}else l.current=null}function qh(i,o,l){try{l()}catch(d){ut(i,o,d)}}var Iv=!1;function C1(i,o){if(ih=pi,i=ng(),Yd(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var E=0,x=-1,M=-1,G=0,te=0,re=i,ee=null;t:for(;;){for(var ce;re!==l||p!==0&&re.nodeType!==3||(x=E+p),re!==v||d!==0&&re.nodeType!==3||(M=E+d),re.nodeType===3&&(E+=re.nodeValue.length),(ce=re.firstChild)!==null;)ee=re,re=ce;for(;;){if(re===i)break t;if(ee===l&&++G===p&&(x=E),ee===v&&++te===d&&(M=E),(ce=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=ce}l=x===-1||M===-1?null:{start:x,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(oh={focusedElem:i,selectionRange:l},pi=!1,he=o;he!==null;)if(o=he,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,he=i;else for(;he!==null;){o=he;try{var fe=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var pe=fe.memoizedProps,ht=fe.memoizedState,$=o.stateNode,F=$.getSnapshotBeforeUpdate(o.elementType===o.type?pe:Hn(o.type,pe),ht);$.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){ut(o,o.return,oe)}if(i=o.sibling,i!==null){i.return=o.return,he=i;break}he=o.return}return fe=Iv,Iv=!1,fe}function dl(i,o,l){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&i)===i){var v=p.destroy;p.destroy=void 0,v!==void 0&&qh(o,l,v)}p=p.next}while(p!==d)}}function ic(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var d=l.create;l.destroy=d()}l=l.next}while(l!==o)}}function Gh(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function Cv(i){var o=i.alternate;o!==null&&(i.alternate=null,Cv(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[cr],delete o[el],delete o[uh],delete o[a1],delete o[l1])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Av(i){return i.tag===5||i.tag===3||i.tag===4}function Pv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Av(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Kh(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Mu));else if(d!==4&&(i=i.child,i!==null))for(Kh(i,o,l),i=i.sibling;i!==null;)Kh(i,o,l),i=i.sibling}function Qh(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(Qh(i,o,l),i=i.sibling;i!==null;)Qh(i,o,l),i=i.sibling}var Nt=null,qn=!1;function Si(i,o,l){for(l=l.child;l!==null;)kv(i,o,l),l=l.sibling}function kv(i,o,l){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(fo,l)}catch{}switch(l.tag){case 5:jt||Ms(l,o);case 6:var d=Nt,p=qn;Nt=null,Si(i,o,l),Nt=d,qn=p,Nt!==null&&(qn?(i=Nt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Nt.removeChild(l.stateNode));break;case 18:Nt!==null&&(qn?(i=Nt,l=l.stateNode,i.nodeType===8?lh(i.parentNode,l):i.nodeType===1&&lh(i,l),zn(i)):lh(Nt,l.stateNode));break;case 4:d=Nt,p=qn,Nt=l.stateNode.containerInfo,qn=!0,Si(i,o,l),Nt=d,qn=p;break;case 0:case 11:case 14:case 15:if(!jt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var v=p,E=v.destroy;v=v.tag,E!==void 0&&(v&2||v&4)&&qh(l,o,E),p=p.next}while(p!==d)}Si(i,o,l);break;case 1:if(!jt&&(Ms(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(x){ut(l,o,x)}Si(i,o,l);break;case 21:Si(i,o,l);break;case 22:l.mode&1?(jt=(d=jt)||l.memoizedState!==null,Si(i,o,l),jt=d):Si(i,o,l);break;default:Si(i,o,l)}}function Rv(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new I1),o.forEach(function(d){var p=O1.bind(null,i,d);l.has(d)||(l.add(d),d.then(p,p))})}}function Gn(i,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var v=i,E=o,x=E;e:for(;x!==null;){switch(x.tag){case 5:Nt=x.stateNode,qn=!1;break e;case 3:Nt=x.stateNode.containerInfo,qn=!0;break e;case 4:Nt=x.stateNode.containerInfo,qn=!0;break e}x=x.return}if(Nt===null)throw Error(t(160));kv(v,E,p),Nt=null,qn=!1;var M=p.alternate;M!==null&&(M.return=null),p.return=null}catch(G){ut(p,o,G)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)bv(o,i),o=o.sibling}function bv(i,o){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Gn(o,i),fr(i),d&4){try{dl(3,i,i.return),ic(3,i)}catch(pe){ut(i,i.return,pe)}try{dl(5,i,i.return)}catch(pe){ut(i,i.return,pe)}}break;case 1:Gn(o,i),fr(i),d&512&&l!==null&&Ms(l,l.return);break;case 5:if(Gn(o,i),fr(i),d&512&&l!==null&&Ms(l,l.return),i.flags&32){var p=i.stateNode;try{si(p,"")}catch(pe){ut(i,i.return,pe)}}if(d&4&&(p=i.stateNode,p!=null)){var v=i.memoizedProps,E=l!==null?l.memoizedProps:v,x=i.type,M=i.updateQueue;if(i.updateQueue=null,M!==null)try{x==="input"&&v.type==="radio"&&v.name!=null&&no(p,v),xa(x,E);var G=xa(x,v);for(E=0;E<M.length;E+=2){var te=M[E],re=M[E+1];te==="style"?ka(p,re):te==="dangerouslySetInnerHTML"?Aa(p,re):te==="children"?si(p,re):Q(p,te,re,G)}switch(x){case"input":ro(p,v);break;case"textarea":Xo(p,v);break;case"select":var ee=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!v.multiple;var ce=v.value;ce!=null?kr(p,!!v.multiple,ce,!1):ee!==!!v.multiple&&(v.defaultValue!=null?kr(p,!!v.multiple,v.defaultValue,!0):kr(p,!!v.multiple,v.multiple?[]:"",!1))}p[el]=v}catch(pe){ut(i,i.return,pe)}}break;case 6:if(Gn(o,i),fr(i),d&4){if(i.stateNode===null)throw Error(t(162));p=i.stateNode,v=i.memoizedProps;try{p.nodeValue=v}catch(pe){ut(i,i.return,pe)}}break;case 3:if(Gn(o,i),fr(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{zn(o.containerInfo)}catch(pe){ut(i,i.return,pe)}break;case 4:Gn(o,i),fr(i);break;case 13:Gn(o,i),fr(i),p=i.child,p.flags&8192&&(v=p.memoizedState!==null,p.stateNode.isHidden=v,!v||p.alternate!==null&&p.alternate.memoizedState!==null||(Jh=Xe())),d&4&&Rv(i);break;case 22:if(te=l!==null&&l.memoizedState!==null,i.mode&1?(jt=(G=jt)||te,Gn(o,i),jt=G):Gn(o,i),fr(i),d&8192){if(G=i.memoizedState!==null,(i.stateNode.isHidden=G)&&!te&&i.mode&1)for(he=i,te=i.child;te!==null;){for(re=he=te;he!==null;){switch(ee=he,ce=ee.child,ee.tag){case 0:case 11:case 14:case 15:dl(4,ee,ee.return);break;case 1:Ms(ee,ee.return);var fe=ee.stateNode;if(typeof fe.componentWillUnmount=="function"){d=ee,l=ee.return;try{o=d,fe.props=o.memoizedProps,fe.state=o.memoizedState,fe.componentWillUnmount()}catch(pe){ut(d,l,pe)}}break;case 5:Ms(ee,ee.return);break;case 22:if(ee.memoizedState!==null){Dv(re);continue}}ce!==null?(ce.return=ee,he=ce):Dv(re)}te=te.sibling}e:for(te=null,re=i;;){if(re.tag===5){if(te===null){te=re;try{p=re.stateNode,G?(v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(x=re.stateNode,M=re.memoizedProps.style,E=M!=null&&M.hasOwnProperty("display")?M.display:null,x.style.display=Pa("display",E))}catch(pe){ut(i,i.return,pe)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=G?"":re.memoizedProps}catch(pe){ut(i,i.return,pe)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===i)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===i)break e;for(;re.sibling===null;){if(re.return===null||re.return===i)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Gn(o,i),fr(i),d&4&&Rv(i);break;case 21:break;default:Gn(o,i),fr(i)}}function fr(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(Av(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(si(p,""),d.flags&=-33);var v=Pv(i);Qh(i,v,p);break;case 3:case 4:var E=d.stateNode.containerInfo,x=Pv(i);Kh(i,x,E);break;default:throw Error(t(161))}}catch(M){ut(i,i.return,M)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function A1(i,o,l){he=i,xv(i)}function xv(i,o,l){for(var d=(i.mode&1)!==0;he!==null;){var p=he,v=p.child;if(p.tag===22&&d){var E=p.memoizedState!==null||rc;if(!E){var x=p.alternate,M=x!==null&&x.memoizedState!==null||jt;x=rc;var G=jt;if(rc=E,(jt=M)&&!G)for(he=p;he!==null;)E=he,M=E.child,E.tag===22&&E.memoizedState!==null?Ov(p):M!==null?(M.return=E,he=M):Ov(p);for(;v!==null;)he=v,xv(v),v=v.sibling;he=p,rc=x,jt=G}Nv(i)}else p.subtreeFlags&8772&&v!==null?(v.return=p,he=v):Nv(i)}}function Nv(i){for(;he!==null;){var o=he;if(o.flags&8772){var l=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:jt||ic(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!jt)if(l===null)d.componentDidMount();else{var p=o.elementType===o.type?l.memoizedProps:Hn(o.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&Dg(o,v,d);break;case 3:var E=o.updateQueue;if(E!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Dg(o,E,l)}break;case 5:var x=o.stateNode;if(l===null&&o.flags&4){l=x;var M=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&l.focus();break;case"img":M.src&&(l.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var G=o.alternate;if(G!==null){var te=G.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&zn(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}jt||o.flags&512&&Gh(o)}catch(ee){ut(o,o.return,ee)}}if(o===i){he=null;break}if(l=o.sibling,l!==null){l.return=o.return,he=l;break}he=o.return}}function Dv(i){for(;he!==null;){var o=he;if(o===i){he=null;break}var l=o.sibling;if(l!==null){l.return=o.return,he=l;break}he=o.return}}function Ov(i){for(;he!==null;){var o=he;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{ic(4,o)}catch(M){ut(o,l,M)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var p=o.return;try{d.componentDidMount()}catch(M){ut(o,p,M)}}var v=o.return;try{Gh(o)}catch(M){ut(o,v,M)}break;case 5:var E=o.return;try{Gh(o)}catch(M){ut(o,E,M)}}}catch(M){ut(o,o.return,M)}if(o===i){he=null;break}var x=o.sibling;if(x!==null){x.return=o.return,he=x;break}he=o.return}}var P1=Math.ceil,oc=Y.ReactCurrentDispatcher,Yh=Y.ReactCurrentOwner,bn=Y.ReactCurrentBatchConfig,We=0,Pt=null,mt=null,Dt=0,gn=0,Ls=yi(0),Tt=0,hl=null,Po=0,sc=0,Xh=0,fl=null,rn=null,Jh=0,Vs=1/0,Wr=null,ac=!1,Zh=null,Ii=null,lc=!1,Ci=null,uc=0,pl=0,ef=null,cc=-1,dc=0;function Kt(){return We&6?Xe():cc!==-1?cc:cc=Xe()}function Ai(i){return i.mode&1?We&2&&Dt!==0?Dt&-Dt:c1.transition!==null?(dc===0&&(dc=mo()),dc):(i=Le,i!==0||(i=window.event,i=i===void 0?16:Ba(i.type)),i):1}function Kn(i,o,l,d){if(50<pl)throw pl=0,ef=null,Error(t(185));ci(i,l,d),(!(We&2)||i!==Pt)&&(i===Pt&&(!(We&2)&&(sc|=l),Tt===4&&Pi(i,Dt)),on(i,d),l===1&&We===0&&!(o.mode&1)&&(Vs=Xe()+500,Uu&&wi()))}function on(i,o){var l=i.callbackNode;xr(i,o);var d=po(i,i===Pt?Dt:0);if(d===0)l!==null&&Va(l),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(l!=null&&Va(l),o===1)i.tag===0?u1(Lv.bind(null,i)):Eg(Lv.bind(null,i)),o1(function(){!(We&6)&&wi()}),l=null;else{switch(hi(d)){case 1:l=ho;break;case 4:l=ai;break;case 16:l=Sn;break;case 536870912:l=du;break;default:l=Sn}l=$v(l,Mv.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function Mv(i,o){if(cc=-1,dc=0,We&6)throw Error(t(327));var l=i.callbackNode;if(Fs()&&i.callbackNode!==l)return null;var d=po(i,i===Pt?Dt:0);if(d===0)return null;if(d&30||d&i.expiredLanes||o)o=hc(i,d);else{o=d;var p=We;We|=2;var v=Fv();(Pt!==i||Dt!==o)&&(Wr=null,Vs=Xe()+500,Ro(i,o));do try{b1();break}catch(x){Vv(i,x)}while(!0);yh(),oc.current=v,We=p,mt!==null?o=0:(Pt=null,Dt=0,o=Tt)}if(o!==0){if(o===2&&(p=dn(i),p!==0&&(d=p,o=tf(i,p))),o===1)throw l=hl,Ro(i,0),Pi(i,d),on(i,Xe()),l;if(o===6)Pi(i,d);else{if(p=i.current.alternate,!(d&30)&&!k1(p)&&(o=hc(i,d),o===2&&(v=dn(i),v!==0&&(d=v,o=tf(i,v))),o===1))throw l=hl,Ro(i,0),Pi(i,d),on(i,Xe()),l;switch(i.finishedWork=p,i.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:bo(i,rn,Wr);break;case 3:if(Pi(i,d),(d&130023424)===d&&(o=Jh+500-Xe(),10<o)){if(po(i,0)!==0)break;if(p=i.suspendedLanes,(p&d)!==d){Kt(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=ah(bo.bind(null,i,rn,Wr),o);break}bo(i,rn,Wr);break;case 4:if(Pi(i,d),(d&4194240)===d)break;for(o=i.eventTimes,p=-1;0<d;){var E=31-Ht(d);v=1<<E,E=o[E],E>p&&(p=E),d&=~v}if(d=p,d=Xe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*P1(d/1960))-d,10<d){i.timeoutHandle=ah(bo.bind(null,i,rn,Wr),d);break}bo(i,rn,Wr);break;case 5:bo(i,rn,Wr);break;default:throw Error(t(329))}}}return on(i,Xe()),i.callbackNode===l?Mv.bind(null,i):null}function tf(i,o){var l=fl;return i.current.memoizedState.isDehydrated&&(Ro(i,o).flags|=256),i=hc(i,o),i!==2&&(o=rn,rn=l,o!==null&&nf(o)),i}function nf(i){rn===null?rn=i:rn.push.apply(rn,i)}function k1(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],v=p.getSnapshot;p=p.value;try{if(!Wn(v(),p))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Pi(i,o){for(o&=~Xh,o&=~sc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-Ht(o),d=1<<l;i[l]=-1,o&=~d}}function Lv(i){if(We&6)throw Error(t(327));Fs();var o=po(i,0);if(!(o&1))return on(i,Xe()),null;var l=hc(i,o);if(i.tag!==0&&l===2){var d=dn(i);d!==0&&(o=d,l=tf(i,d))}if(l===1)throw l=hl,Ro(i,0),Pi(i,o),on(i,Xe()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,bo(i,rn,Wr),on(i,Xe()),null}function rf(i,o){var l=We;We|=1;try{return i(o)}finally{We=l,We===0&&(Vs=Xe()+500,Uu&&wi())}}function ko(i){Ci!==null&&Ci.tag===0&&!(We&6)&&Fs();var o=We;We|=1;var l=bn.transition,d=Le;try{if(bn.transition=null,Le=1,i)return i()}finally{Le=d,bn.transition=l,We=o,!(We&6)&&wi()}}function of(){gn=Ls.current,tt(Ls)}function Ro(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,i1(l)),mt!==null)for(l=mt.return;l!==null;){var d=l;switch(fh(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Vu();break;case 3:Ds(),tt(en),tt(Vt),Ah();break;case 5:Ih(d);break;case 4:Ds();break;case 13:tt(st);break;case 19:tt(st);break;case 10:_h(d.type._context);break;case 22:case 23:of()}l=l.return}if(Pt=i,mt=i=ki(i.current,null),Dt=gn=o,Tt=0,hl=null,Xh=sc=Po=0,rn=fl=null,Io!==null){for(o=0;o<Io.length;o++)if(l=Io[o],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,v=l.pending;if(v!==null){var E=v.next;v.next=p,d.next=E}l.pending=d}Io=null}return i}function Vv(i,o){do{var l=mt;try{if(yh(),Qu.current=Zu,Yu){for(var d=at.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Yu=!1}if(Ao=0,At=Et=at=null,sl=!1,al=0,Yh.current=null,l===null||l.return===null){Tt=1,hl=o,mt=null;break}e:{var v=i,E=l.return,x=l,M=o;if(o=Dt,x.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var G=M,te=x,re=te.tag;if(!(te.mode&1)&&(re===0||re===11||re===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var ce=lv(E);if(ce!==null){ce.flags&=-257,uv(ce,E,x,v,o),ce.mode&1&&av(v,G,o),o=ce,M=G;var fe=o.updateQueue;if(fe===null){var pe=new Set;pe.add(M),o.updateQueue=pe}else fe.add(M);break e}else{if(!(o&1)){av(v,G,o),sf();break e}M=Error(t(426))}}else if(ot&&x.mode&1){var ht=lv(E);if(ht!==null){!(ht.flags&65536)&&(ht.flags|=256),uv(ht,E,x,v,o),gh(Os(M,x));break e}}v=M=Os(M,x),Tt!==4&&(Tt=2),fl===null?fl=[v]:fl.push(v),v=E;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var $=ov(v,M,o);Ng(v,$);break e;case 1:x=M;var F=v.type,q=v.stateNode;if(!(v.flags&128)&&(typeof F.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Ii===null||!Ii.has(q)))){v.flags|=65536,o&=-o,v.lanes|=o;var oe=sv(v,x,o);Ng(v,oe);break e}}v=v.return}while(v!==null)}jv(l)}catch(ge){o=ge,mt===l&&l!==null&&(mt=l=l.return);continue}break}while(!0)}function Fv(){var i=oc.current;return oc.current=Zu,i===null?Zu:i}function sf(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Pt===null||!(Po&268435455)&&!(sc&268435455)||Pi(Pt,Dt)}function hc(i,o){var l=We;We|=2;var d=Fv();(Pt!==i||Dt!==o)&&(Wr=null,Ro(i,o));do try{R1();break}catch(p){Vv(i,p)}while(!0);if(yh(),We=l,oc.current=d,mt!==null)throw Error(t(261));return Pt=null,Dt=0,Tt}function R1(){for(;mt!==null;)Uv(mt)}function b1(){for(;mt!==null&&!uu();)Uv(mt)}function Uv(i){var o=Wv(i.alternate,i,gn);i.memoizedProps=i.pendingProps,o===null?jv(i):mt=o,Yh.current=null}function jv(i){var o=i;do{var l=o.alternate;if(i=o.return,o.flags&32768){if(l=S1(l,o),l!==null){l.flags&=32767,mt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Tt=6,mt=null;return}}else if(l=T1(l,o,gn),l!==null){mt=l;return}if(o=o.sibling,o!==null){mt=o;return}mt=o=i}while(o!==null);Tt===0&&(Tt=5)}function bo(i,o,l){var d=Le,p=bn.transition;try{bn.transition=null,Le=1,x1(i,o,l,d)}finally{bn.transition=p,Le=d}return null}function x1(i,o,l,d){do Fs();while(Ci!==null);if(We&6)throw Error(t(327));l=i.finishedWork;var p=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=l.lanes|l.childLanes;if(Ye(i,v),i===Pt&&(mt=Pt=null,Dt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||lc||(lc=!0,$v(Sn,function(){return Fs(),null})),v=(l.flags&15990)!==0,l.subtreeFlags&15990||v){v=bn.transition,bn.transition=null;var E=Le;Le=1;var x=We;We|=4,Yh.current=null,C1(i,l),bv(l,i),XT(oh),pi=!!ih,oh=ih=null,i.current=l,A1(l),Bd(),We=x,Le=E,bn.transition=v}else i.current=l;if(lc&&(lc=!1,Ci=i,uc=p),v=i.pendingLanes,v===0&&(Ii=null),hu(l.stateNode),on(i,Xe()),o!==null)for(d=i.onRecoverableError,l=0;l<o.length;l++)p=o[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(ac)throw ac=!1,i=Zh,Zh=null,i;return uc&1&&i.tag!==0&&Fs(),v=i.pendingLanes,v&1?i===ef?pl++:(pl=0,ef=i):pl=0,wi(),null}function Fs(){if(Ci!==null){var i=hi(uc),o=bn.transition,l=Le;try{if(bn.transition=null,Le=16>i?16:i,Ci===null)var d=!1;else{if(i=Ci,Ci=null,uc=0,We&6)throw Error(t(331));var p=We;for(We|=4,he=i.current;he!==null;){var v=he,E=v.child;if(he.flags&16){var x=v.deletions;if(x!==null){for(var M=0;M<x.length;M++){var G=x[M];for(he=G;he!==null;){var te=he;switch(te.tag){case 0:case 11:case 15:dl(8,te,v)}var re=te.child;if(re!==null)re.return=te,he=re;else for(;he!==null;){te=he;var ee=te.sibling,ce=te.return;if(Cv(te),te===G){he=null;break}if(ee!==null){ee.return=ce,he=ee;break}he=ce}}}var fe=v.alternate;if(fe!==null){var pe=fe.child;if(pe!==null){fe.child=null;do{var ht=pe.sibling;pe.sibling=null,pe=ht}while(pe!==null)}}he=v}}if(v.subtreeFlags&2064&&E!==null)E.return=v,he=E;else e:for(;he!==null;){if(v=he,v.flags&2048)switch(v.tag){case 0:case 11:case 15:dl(9,v,v.return)}var $=v.sibling;if($!==null){$.return=v.return,he=$;break e}he=v.return}}var F=i.current;for(he=F;he!==null;){E=he;var q=E.child;if(E.subtreeFlags&2064&&q!==null)q.return=E,he=q;else e:for(E=F;he!==null;){if(x=he,x.flags&2048)try{switch(x.tag){case 0:case 11:case 15:ic(9,x)}}catch(ge){ut(x,x.return,ge)}if(x===E){he=null;break e}var oe=x.sibling;if(oe!==null){oe.return=x.return,he=oe;break e}he=x.return}}if(We=p,wi(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(fo,i)}catch{}d=!0}return d}finally{Le=l,bn.transition=o}}return!1}function zv(i,o,l){o=Os(l,o),o=ov(i,o,1),i=Ti(i,o,1),o=Kt(),i!==null&&(ci(i,1,o),on(i,o))}function ut(i,o,l){if(i.tag===3)zv(i,i,l);else for(;o!==null;){if(o.tag===3){zv(o,i,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ii===null||!Ii.has(d))){i=Os(l,i),i=sv(o,i,1),o=Ti(o,i,1),i=Kt(),o!==null&&(ci(o,1,i),on(o,i));break}}o=o.return}}function N1(i,o,l){var d=i.pingCache;d!==null&&d.delete(o),o=Kt(),i.pingedLanes|=i.suspendedLanes&l,Pt===i&&(Dt&l)===l&&(Tt===4||Tt===3&&(Dt&130023424)===Dt&&500>Xe()-Jh?Ro(i,0):Xh|=l),on(i,o)}function Bv(i,o){o===0&&(i.mode&1?(o=as,as<<=1,!(as&130023424)&&(as=4194304)):o=1);var l=Kt();i=jr(i,o),i!==null&&(ci(i,o,l),on(i,l))}function D1(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),Bv(i,l)}function O1(i,o){var l=0;switch(i.tag){case 13:var d=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),Bv(i,l)}var Wv;Wv=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||en.current)nn=!0;else{if(!(i.lanes&l)&&!(o.flags&128))return nn=!1,E1(i,o,l);nn=!!(i.flags&131072)}else nn=!1,ot&&o.flags&1048576&&Tg(o,zu,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;nc(i,o),i=o.pendingProps;var p=As(o,Vt.current);Ns(o,l),p=Rh(null,o,d,i,p,l);var v=bh();return o.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,tn(d)?(v=!0,Fu(o)):v=!1,o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Th(o),p.updater=ec,o.stateNode=p,p._reactInternals=o,Lh(o,d,i,l),o=jh(null,o,d,!0,v,l)):(o.tag=0,ot&&v&&hh(o),Gt(null,o,p,l),o=o.child),o;case 16:d=o.elementType;e:{switch(nc(i,o),i=o.pendingProps,p=d._init,d=p(d._payload),o.type=d,p=o.tag=L1(d),i=Hn(d,i),p){case 0:o=Uh(null,o,d,i,l);break e;case 1:o=mv(null,o,d,i,l);break e;case 11:o=cv(null,o,d,i,l);break e;case 14:o=dv(null,o,d,Hn(d.type,i),l);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:Hn(d,p),Uh(i,o,d,p,l);case 1:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:Hn(d,p),mv(i,o,d,p,l);case 3:e:{if(gv(o),i===null)throw Error(t(387));d=o.pendingProps,v=o.memoizedState,p=v.element,xg(i,o),Gu(o,d,null,l);var E=o.memoizedState;if(d=E.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){p=Os(Error(t(423)),o),o=vv(i,o,d,l,p);break e}else if(d!==p){p=Os(Error(t(424)),o),o=vv(i,o,d,l,p);break e}else for(mn=vi(o.stateNode.containerInfo.firstChild),pn=o,ot=!0,$n=null,l=Rg(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Rs(),d===p){o=Br(i,o,l);break e}Gt(i,o,d,l)}o=o.child}return o;case 5:return Og(o),i===null&&mh(o),d=o.type,p=o.pendingProps,v=i!==null?i.memoizedProps:null,E=p.children,sh(d,p)?E=null:v!==null&&sh(d,v)&&(o.flags|=32),pv(i,o),Gt(i,o,E,l),o.child;case 6:return i===null&&mh(o),null;case 13:return yv(i,o,l);case 4:return Sh(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=bs(o,null,d,l):Gt(i,o,d,l),o.child;case 11:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:Hn(d,p),cv(i,o,d,p,l);case 7:return Gt(i,o,o.pendingProps,l),o.child;case 8:return Gt(i,o,o.pendingProps.children,l),o.child;case 12:return Gt(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(d=o.type._context,p=o.pendingProps,v=o.memoizedProps,E=p.value,Je($u,d._currentValue),d._currentValue=E,v!==null)if(Wn(v.value,E)){if(v.children===p.children&&!en.current){o=Br(i,o,l);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var x=v.dependencies;if(x!==null){E=v.child;for(var M=x.firstContext;M!==null;){if(M.context===d){if(v.tag===1){M=zr(-1,l&-l),M.tag=2;var G=v.updateQueue;if(G!==null){G=G.shared;var te=G.pending;te===null?M.next=M:(M.next=te.next,te.next=M),G.pending=M}}v.lanes|=l,M=v.alternate,M!==null&&(M.lanes|=l),wh(v.return,l,o),x.lanes|=l;break}M=M.next}}else if(v.tag===10)E=v.type===o.type?null:v.child;else if(v.tag===18){if(E=v.return,E===null)throw Error(t(341));E.lanes|=l,x=E.alternate,x!==null&&(x.lanes|=l),wh(E,l,o),E=v.sibling}else E=v.child;if(E!==null)E.return=v;else for(E=v;E!==null;){if(E===o){E=null;break}if(v=E.sibling,v!==null){v.return=E.return,E=v;break}E=E.return}v=E}Gt(i,o,p.children,l),o=o.child}return o;case 9:return p=o.type,d=o.pendingProps.children,Ns(o,l),p=kn(p),d=d(p),o.flags|=1,Gt(i,o,d,l),o.child;case 14:return d=o.type,p=Hn(d,o.pendingProps),p=Hn(d.type,p),dv(i,o,d,p,l);case 15:return hv(i,o,o.type,o.pendingProps,l);case 17:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:Hn(d,p),nc(i,o),o.tag=1,tn(d)?(i=!0,Fu(o)):i=!1,Ns(o,l),rv(o,d,p),Lh(o,d,p,l),jh(null,o,d,!0,i,l);case 19:return wv(i,o,l);case 22:return fv(i,o,l)}throw Error(t(156,o.tag))};function $v(i,o){return os(i,o)}function M1(i,o,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(i,o,l,d){return new M1(i,o,l,d)}function af(i){return i=i.prototype,!(!i||!i.isReactComponent)}function L1(i){if(typeof i=="function")return af(i)?1:0;if(i!=null){if(i=i.$$typeof,i===O)return 11;if(i===Fe)return 14}return 2}function ki(i,o){var l=i.alternate;return l===null?(l=xn(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function fc(i,o,l,d,p,v){var E=2;if(d=i,typeof i=="function")af(i)&&(E=1);else if(typeof i=="string")E=5;else e:switch(i){case N:return xo(l.children,p,v,o);case C:E=8,p|=8;break;case b:return i=xn(12,l,o,p|2),i.elementType=b,i.lanes=v,i;case k:return i=xn(13,l,o,p),i.elementType=k,i.lanes=v,i;case Ee:return i=xn(19,l,o,p),i.elementType=Ee,i.lanes=v,i;case ne:return pc(l,p,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:E=10;break e;case L:E=9;break e;case O:E=11;break e;case Fe:E=14;break e;case ke:E=16,d=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=xn(E,l,o,p),o.elementType=i,o.type=d,o.lanes=v,o}function xo(i,o,l,d){return i=xn(7,i,d,o),i.lanes=l,i}function pc(i,o,l,d){return i=xn(22,i,d,o),i.elementType=ne,i.lanes=l,i.stateNode={isHidden:!1},i}function lf(i,o,l){return i=xn(6,i,null,o),i.lanes=l,i}function uf(i,o,l){return o=xn(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function V1(i,o,l,d,p){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ui(0),this.expirationTimes=ui(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function cf(i,o,l,d,p,v,E,x,M){return i=new V1(i,o,l,x,M),o===1?(o=1,v===!0&&(o|=8)):o=0,v=xn(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Th(v),i}function F1(i,o,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:d==null?null:""+d,children:i,containerInfo:o,implementation:l}}function Hv(i){if(!i)return _i;i=i._reactInternals;e:{if(Ln(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(tn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(tn(l))return _g(i,l,o)}return o}function qv(i,o,l,d,p,v,E,x,M){return i=cf(l,d,!0,i,p,v,E,x,M),i.context=Hv(null),l=i.current,d=Kt(),p=Ai(l),v=zr(d,p),v.callback=o??null,Ti(l,v,p),i.current.lanes=p,ci(i,p,d),on(i,d),i}function mc(i,o,l,d){var p=o.current,v=Kt(),E=Ai(p);return l=Hv(l),o.context===null?o.context=l:o.pendingContext=l,o=zr(v,E),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=Ti(p,o,E),i!==null&&(Kn(i,p,E,v),qu(i,p,E)),E}function gc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Gv(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function df(i,o){Gv(i,o),(i=i.alternate)&&Gv(i,o)}function U1(){return null}var Kv=typeof reportError=="function"?reportError:function(i){console.error(i)};function hf(i){this._internalRoot=i}vc.prototype.render=hf.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));mc(i,o,null,null)},vc.prototype.unmount=hf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;ko(function(){mc(null,i,null,null)}),o[Lr]=null}};function vc(i){this._internalRoot=i}vc.prototype.unstable_scheduleHydration=function(i){if(i){var o=vu();i={blockedOn:null,target:i,priority:o};for(var l=0;l<sr.length&&o!==0&&o<sr[l].priority;l++);sr.splice(l,0,i),l===0&&wu(i)}};function ff(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function yc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Qv(){}function j1(i,o,l,d,p){if(p){if(typeof d=="function"){var v=d;d=function(){var G=gc(E);v.call(G)}}var E=qv(o,d,i,0,null,!1,!1,"",Qv);return i._reactRootContainer=E,i[Lr]=E.current,Ja(i.nodeType===8?i.parentNode:i),ko(),E}for(;p=i.lastChild;)i.removeChild(p);if(typeof d=="function"){var x=d;d=function(){var G=gc(M);x.call(G)}}var M=cf(i,0,!1,null,null,!1,!1,"",Qv);return i._reactRootContainer=M,i[Lr]=M.current,Ja(i.nodeType===8?i.parentNode:i),ko(function(){mc(o,M,l,d)}),M}function _c(i,o,l,d,p){var v=l._reactRootContainer;if(v){var E=v;if(typeof p=="function"){var x=p;p=function(){var M=gc(E);x.call(M)}}mc(o,E,i,p)}else E=j1(l,o,i,p,d);return gc(E)}mu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=li(o.pendingLanes);l!==0&&(di(o,l|1),on(o,Xe()),!(We&6)&&(Vs=Xe()+500,wi()))}break;case 13:ko(function(){var d=jr(i,1);if(d!==null){var p=Kt();Kn(d,i,1,p)}}),df(i,1)}},ls=function(i){if(i.tag===13){var o=jr(i,134217728);if(o!==null){var l=Kt();Kn(o,i,134217728,l)}df(i,134217728)}},gu=function(i){if(i.tag===13){var o=Ai(i),l=jr(i,o);if(l!==null){var d=Kt();Kn(l,i,o,d)}df(i,o)}},vu=function(){return Le},yu=function(i,o){var l=Le;try{return Le=i,o()}finally{Le=l}},Zo=function(i,o,l){switch(o){case"input":if(ro(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==i&&d.form===i.form){var p=Lu(d);if(!p)throw Error(t(90));Ar(d),ro(d,p)}}}break;case"textarea":Xo(i,l);break;case"select":o=l.value,o!=null&&kr(i,!!l.multiple,o,!1)}},ao=rf,Da=ko;var z1={usingClientEntryPoint:!1,Events:[tl,Is,Lu,ir,Na,rf]},ml={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B1={bundleType:ml.bundleType,version:ml.version,rendererPackageName:ml.rendererPackageName,rendererConfig:ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=La(i),i===null?null:i.stateNode},findFiberByHostInstance:ml.findFiberByHostInstance||U1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{fo=wc.inject(B1),cn=wc}catch{}}return sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z1,sn.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ff(o))throw Error(t(200));return F1(i,o,null,l)},sn.createRoot=function(i,o){if(!ff(i))throw Error(t(299));var l=!1,d="",p=Kv;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),o=cf(i,1,!1,null,null,l,!1,d,p),i[Lr]=o.current,Ja(i.nodeType===8?i.parentNode:i),new hf(o)},sn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=La(o),i=i===null?null:i.stateNode,i},sn.flushSync=function(i){return ko(i)},sn.hydrate=function(i,o,l){if(!yc(o))throw Error(t(200));return _c(null,i,o,!0,l)},sn.hydrateRoot=function(i,o,l){if(!ff(i))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,p=!1,v="",E=Kv;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),o=qv(o,null,i,1,l??null,p,!1,v,E),i[Lr]=o.current,Ja(i),d)for(i=0;i<d.length;i++)l=d[i],p=l._getVersion,p=p(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,p]:o.mutableSourceEagerHydrationData.push(l,p);return new vc(o)},sn.render=function(i,o,l){if(!yc(o))throw Error(t(200));return _c(null,i,o,!1,l)},sn.unmountComponentAtNode=function(i){if(!yc(i))throw Error(t(40));return i._reactRootContainer?(ko(function(){_c(null,null,i,!1,function(){i._reactRootContainer=null,i[Lr]=null})}),!0):!1},sn.unstable_batchedUpdates=rf,sn.unstable_renderSubtreeIntoContainer=function(i,o,l,d){if(!yc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return _c(i,o,l,!1,d)},sn.version="18.3.1-next-f1338f8080-20240426",sn}var ry;function r0(){if(ry)return gf.exports;ry=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gf.exports=X1(),gf.exports}var iy;function J1(){if(iy)return Ec;iy=1;var n=r0();return Ec.createRoot=n.createRoot,Ec.hydrateRoot=n.hydrateRoot,Ec}var Z1=J1();const eS=Ap(Z1);var oy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},tS=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],h=n[t++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},o0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,h=u?n[s+1]:0,f=s+2<n.length,m=f?n[s+2]:0,y=a>>2,w=(a&3)<<4|h>>4;let T=(h&15)<<2|m>>6,I=m&63;f||(I=64,u||(T=64)),r.push(t[y],t[w],t[T],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(i0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):tS(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const m=s<n.length?t[n.charAt(s)]:64;++s;const w=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||h==null||m==null||w==null)throw new nS;const T=a<<2|h>>4;if(r.push(T),m!==64){const I=h<<4&240|m>>2;if(r.push(I),w!==64){const R=m<<6&192|w;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class nS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rS=function(n){const e=i0(n);return o0.encodeByteArray(e,!0)},Kc=function(n){return rS(n).replace(/\./g,"")},s0=function(n){try{return o0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=()=>iS().__FIREBASE_DEFAULTS__,sS=()=>{if(typeof process>"u"||typeof oy>"u")return;const n=oy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},aS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&s0(n[1]);return e&&JSON.parse(e)},yd=()=>{try{return oS()||sS()||aS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},a0=n=>{var e,t;return(t=(e=yd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},lS=n=>{const e=a0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},l0=()=>{var n;return(n=yd())===null||n===void 0?void 0:n.config},u0=n=>{var e;return(e=yd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Kc(JSON.stringify(t)),Kc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function hS(){var n;const e=(n=yd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function mS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gS(){const n=$t();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function vS(){return!hS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yS(){try{return typeof indexedDB=="object"}catch{return!1}}function _S(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="FirebaseError";class ri extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=wS,Object.setPrototypeOf(this,ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$l.prototype.create)}}class $l{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?ES(a,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new ri(s,h,r)}}function ES(n,e){return n.replace(TS,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const TS=/\{\$([^}]+)}/g;function SS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Qc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(sy(a)&&sy(u)){if(!Qc(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function sy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function IS(n,e){const t=new CS(n,e);return t.subscribe.bind(t)}class CS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");AS(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=_f),s.error===void 0&&(s.error=_f),s.complete===void 0&&(s.complete=_f);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AS(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function _f(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(n){return n&&n._delegate?n._delegate:n}class Uo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new uS;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RS(e))try{this.getOrInitializeService({instanceIdentifier:No})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=No){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=No){return this.instances.has(e)}getOptions(e=No){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kS(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=No){return this.component?this.component.multipleInstances?e:No:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kS(n){return n===No?void 0:n}function RS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new PS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Oe||(Oe={}));const xS={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},NS=Oe.INFO,DS={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},OS=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=DS[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kp{constructor(e){this.name=e,this._logLevel=NS,this._logHandler=OS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const MS=(n,e)=>e.some(t=>n instanceof t);let ay,ly;function LS(){return ay||(ay=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VS(){return ly||(ly=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c0=new WeakMap,Gf=new WeakMap,d0=new WeakMap,wf=new WeakMap,Rp=new WeakMap;function FS(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Ui(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&c0.set(t,n)}).catch(()=>{}),Rp.set(e,n),e}function US(n){if(Gf.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Gf.set(n,e)}let Kf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Gf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||d0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ui(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function jS(n){Kf=n(Kf)}function zS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Ef(this),e,...t);return d0.set(r,e.sort?e.sort():[e]),Ui(r)}:VS().includes(n)?function(...e){return n.apply(Ef(this),e),Ui(c0.get(this))}:function(...e){return Ui(n.apply(Ef(this),e))}}function BS(n){return typeof n=="function"?zS(n):(n instanceof IDBTransaction&&US(n),MS(n,LS())?new Proxy(n,Kf):n)}function Ui(n){if(n instanceof IDBRequest)return FS(n);if(wf.has(n))return wf.get(n);const e=BS(n);return e!==n&&(wf.set(n,e),Rp.set(e,n)),e}const Ef=n=>Rp.get(n);function WS(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),h=Ui(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ui(u.result),f.oldVersion,f.newVersion,Ui(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const $S=["get","getKey","getAll","getAllKeys","count"],HS=["put","add","delete","clear"],Tf=new Map;function uy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Tf.get(e))return Tf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=HS.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||$S.includes(t)))return;const a=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),s&&f.done]))[0]};return Tf.set(e,a),a}jS(n=>({...n,get:(e,t,r)=>uy(e,t)||n.get(e,t,r),has:(e,t)=>!!uy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(GS(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function GS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qf="@firebase/app",cy="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new kp("@firebase/app"),KS="@firebase/app-compat",QS="@firebase/analytics-compat",YS="@firebase/analytics",XS="@firebase/app-check-compat",JS="@firebase/app-check",ZS="@firebase/auth",eI="@firebase/auth-compat",tI="@firebase/database",nI="@firebase/data-connect",rI="@firebase/database-compat",iI="@firebase/functions",oI="@firebase/functions-compat",sI="@firebase/installations",aI="@firebase/installations-compat",lI="@firebase/messaging",uI="@firebase/messaging-compat",cI="@firebase/performance",dI="@firebase/performance-compat",hI="@firebase/remote-config",fI="@firebase/remote-config-compat",pI="@firebase/storage",mI="@firebase/storage-compat",gI="@firebase/firestore",vI="@firebase/vertexai",yI="@firebase/firestore-compat",_I="firebase",wI="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf="[DEFAULT]",EI={[Qf]:"fire-core",[KS]:"fire-core-compat",[YS]:"fire-analytics",[QS]:"fire-analytics-compat",[JS]:"fire-app-check",[XS]:"fire-app-check-compat",[ZS]:"fire-auth",[eI]:"fire-auth-compat",[tI]:"fire-rtdb",[nI]:"fire-data-connect",[rI]:"fire-rtdb-compat",[iI]:"fire-fn",[oI]:"fire-fn-compat",[sI]:"fire-iid",[aI]:"fire-iid-compat",[lI]:"fire-fcm",[uI]:"fire-fcm-compat",[cI]:"fire-perf",[dI]:"fire-perf-compat",[hI]:"fire-rc",[fI]:"fire-rc-compat",[pI]:"fire-gcs",[mI]:"fire-gcs-compat",[gI]:"fire-fst",[yI]:"fire-fst-compat",[vI]:"fire-vertex","fire-js":"fire-js",[_I]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new Map,TI=new Map,Xf=new Map;function dy(n,e){try{n.container.addComponent(e)}catch(t){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function na(n){const e=n.name;if(Xf.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;Xf.set(e,n);for(const t of Yc.values())dy(t,n);for(const t of TI.values())dy(t,n);return!0}function bp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Gr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ji=new $l("app","Firebase",SI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=wI;function h0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Yf,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ji.create("bad-app-name",{appName:String(s)});if(t||(t=l0()),!t)throw ji.create("no-options");const a=Yc.get(s);if(a){if(Qc(t,a.options)&&Qc(r,a.config))return a;throw ji.create("duplicate-app",{appName:s})}const u=new bS(s);for(const f of Xf.values())u.addComponent(f);const h=new II(t,r,u);return Yc.set(s,h),h}function f0(n=Yf){const e=Yc.get(n);if(!e&&n===Yf&&l0())return h0();if(!e)throw ji.create("no-app",{appName:n});return e}function zi(n,e,t){var r;let s=(r=EI[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(h.join(" "));return}na(new Uo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="firebase-heartbeat-database",AI=1,Nl="firebase-heartbeat-store";let Sf=null;function p0(){return Sf||(Sf=WS(CI,AI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Nl)}catch(t){console.warn(t)}}}}).catch(n=>{throw ji.create("idb-open",{originalErrorMessage:n.message})})),Sf}async function PI(n){try{const t=(await p0()).transaction(Nl),r=await t.objectStore(Nl).get(m0(n));return await t.done,r}catch(e){if(e instanceof ri)Xr.warn(e.message);else{const t=ji.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xr.warn(t.message)}}}async function hy(n,e){try{const r=(await p0()).transaction(Nl,"readwrite");await r.objectStore(Nl).put(e,m0(n)),await r.done}catch(t){if(t instanceof ri)Xr.warn(t.message);else{const r=ji.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Xr.warn(r.message)}}}function m0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=1024,RI=30*24*60*60*1e3;class bI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new NI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=fy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const h=new Date(u.date).valueOf();return Date.now()-h<=RI}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Xr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=fy(),{heartbeatsToSend:r,unsentEntries:s}=xI(this._heartbeatsCache.heartbeats),a=Kc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Xr.warn(t),""}}}function fy(){return new Date().toISOString().substring(0,10)}function xI(n,e=kI){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),py(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),py(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class NI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yS()?_S().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await PI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return hy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return hy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function py(n){return Kc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(n){na(new Uo("platform-logger",e=>new qS(e),"PRIVATE")),na(new Uo("heartbeat",e=>new bI(e),"PRIVATE")),zi(Qf,cy,n),zi(Qf,cy,"esm2017"),zi("fire-js","")}DI("");var OI="firebase",MI="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zi(OI,MI,"app");var pr=function(){return pr=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},pr.apply(this,arguments)};function ql(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function LI(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}function g0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VI=g0,v0=new $l("auth","Firebase",g0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new kp("@firebase/auth");function FI(n,...e){Xc.logLevel<=Oe.WARN&&Xc.warn(`Auth (${pa}): ${n}`,...e)}function Oc(n,...e){Xc.logLevel<=Oe.ERROR&&Xc.error(`Auth (${pa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(n,...e){throw Np(n,...e)}function Yn(n,...e){return Np(n,...e)}function xp(n,e,t){const r=Object.assign(Object.assign({},VI()),{[e]:t});return new $l("auth","Firebase",r).create(e,{appName:n.name})}function Lo(n){return xp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function UI(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Er(n,"argument-error"),xp(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Np(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return v0.create(n,...e)}function Ce(n,e,...t){if(!n)throw Np(e,...t)}function Kr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Oc(e),new Error(e)}function Jr(n,e){n||Kr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function jI(){return my()==="http:"||my()==="https:"}function my(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jI()||pS()||"connection"in navigator)?navigator.onLine:!0}function BI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Jr(t>e,"Short delay should be less than long delay!"),this.isMobile=dS()||mS()}get(){return zI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(n,e){Jr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=new Gl(3e4,6e4);function Op(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ma(n,e,t,r,s={}){return _0(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=Hl(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},a);return fS()||(m.referrerPolicy="no-referrer"),y0.fetch()(w0(n,n.config.apiHost,t,h),m)})}async function _0(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},WI),e);try{const s=new qI(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Tc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Tc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Tc(n,"user-disabled",u);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw xp(n,y,m);Er(n,y)}}catch(s){if(s instanceof ri)throw s;Er(n,"network-request-failed",{message:String(s)})}}async function HI(n,e,t,r,s={}){const a=await ma(n,e,t,r,s);return"mfaPendingCredential"in a&&Er(n,"multi-factor-auth-required",{_serverResponse:a}),a}function w0(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?Dp(n.config,s):`${n.config.apiScheme}://${s}`}class qI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Yn(this.auth,"network-request-failed")),$I.get())})}}function Tc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Yn(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(n,e){return ma(n,"POST","/v1/accounts:delete",e)}async function E0(n,e){return ma(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KI(n,e=!1){const t=Yt(n),r=await t.getIdToken(e),s=Mp(r);Ce(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Al(If(s.auth_time)),issuedAtTime:Al(If(s.iat)),expirationTime:Al(If(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function If(n){return Number(n)*1e3}function Mp(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const s=s0(t);return s?JSON.parse(s):(Oc("Failed to decode base64 JWT payload"),null)}catch(s){return Oc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function gy(n){const e=Mp(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ri&&QI(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function QI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jc(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Dl(n,E0(t,{idToken:r}));Ce(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?T0(a.providerUserInfo):[],h=JI(n.providerData,u),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),y=f?m:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Zf(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(n,w)}async function XI(n){const e=Yt(n);await Jc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JI(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function T0(n){return n.map(e=>{var{providerId:t}=e,r=ql(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI(n,e){const t=await _0(n,{},async()=>{const r=Hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=w0(n,s,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",y0.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function eC(n,e){return ma(n,"POST","/v2/accounts:revokeToken",Op(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=gy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await ZI(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new Gs;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Ce(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(Ce(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gs,this.toJSON())}_performRefresh(){return Kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Qr{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=ql(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new YI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Zf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Dl(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return KI(this,e)}reload(){return XI(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Qr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Jc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gr(this.auth.app))return Promise.reject(Lo(this.auth));const e=await this.getIdToken();return await Dl(this,GI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,u,h,f,m,y;const w=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(s=t.email)!==null&&s!==void 0?s:void 0,I=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,R=(u=t.photoURL)!==null&&u!==void 0?u:void 0,A=(h=t.tenantId)!==null&&h!==void 0?h:void 0,P=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,z=(m=t.createdAt)!==null&&m!==void 0?m:void 0,H=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:Q,emailVerified:Y,isAnonymous:ie,providerData:se,stsTokenManager:N}=t;Ce(Q&&N,e,"internal-error");const C=Gs.fromJSON(this.name,N);Ce(typeof Q=="string",e,"internal-error"),bi(w,e.name),bi(T,e.name),Ce(typeof Y=="boolean",e,"internal-error"),Ce(typeof ie=="boolean",e,"internal-error"),bi(I,e.name),bi(R,e.name),bi(A,e.name),bi(P,e.name),bi(z,e.name),bi(H,e.name);const b=new Qr({uid:Q,auth:e,email:T,emailVerified:Y,displayName:w,isAnonymous:ie,photoURL:R,phoneNumber:I,tenantId:A,stsTokenManager:C,createdAt:z,lastLoginAt:H});return se&&Array.isArray(se)&&(b.providerData=se.map(D=>Object.assign({},D))),P&&(b._redirectEventId=P),b}static async _fromIdTokenResponse(e,t,r=!1){const s=new Gs;s.updateFromServerResponse(t);const a=new Qr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Jc(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ce(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?T0(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),h=new Gs;h.updateFromIdToken(r);const f=new Qr({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Zf(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=new Map;function Yr(n){Jr(n instanceof Function,"Expected a class definition");let e=vy.get(n);return e?(Jr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,vy.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}S0.type="NONE";const yy=S0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(n,e,t){return`firebase:${n}:${e}:${t}`}class Ks{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Mc(this.userKey,s.apiKey,a),this.fullPersistenceKey=Mc("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Qr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ks(Yr(yy),e,r);const s=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=s[0]||Yr(yy);const u=Mc(r,e.config.apiKey,e.name);let h=null;for(const m of t)try{const y=await m._get(u);if(y){const w=Qr._fromJSON(e,y);m!==a&&(h=w),a=m;break}}catch{}const f=s.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Ks(a,e,r):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new Ks(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(P0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(I0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(R0(e))return"Blackberry";if(b0(e))return"Webos";if(C0(e))return"Safari";if((e.includes("chrome/")||A0(e))&&!e.includes("edge/"))return"Chrome";if(k0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function I0(n=$t()){return/firefox\//i.test(n)}function C0(n=$t()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function A0(n=$t()){return/crios\//i.test(n)}function P0(n=$t()){return/iemobile/i.test(n)}function k0(n=$t()){return/android/i.test(n)}function R0(n=$t()){return/blackberry/i.test(n)}function b0(n=$t()){return/webos/i.test(n)}function Lp(n=$t()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function tC(n=$t()){var e;return Lp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nC(){return gS()&&document.documentMode===10}function x0(n=$t()){return Lp(n)||k0(n)||b0(n)||R0(n)||/windows phone/i.test(n)||P0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(n,e=[]){let t;switch(n){case"Browser":t=_y($t());break;case"Worker":t=`${_y($t())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${pa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(n,e={}){return ma(n,"GET","/v2/passwordPolicy",Op(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=6;class sC{constructor(e){var t,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:oC,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wy(this),this.idTokenSubscription=new wy(this),this.beforeStateQueue=new rC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=v0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Yr(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ks.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await E0(this,{idToken:e}),r=await Qr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Gr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Jc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gr(this.app))return Promise.reject(Lo(this));const t=e?Yt(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gr(this.app)?Promise.reject(Lo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gr(this.app)?Promise.reject(Lo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iC(this),t=new sC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $l("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await eC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Yr(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await Ks.create(this,[Yr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=N0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&FI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function _d(n){return Yt(n)}class wy{constructor(e){this.auth=e,this.observer=null,this.addObserver=IS(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lC(n){Vp=n}function uC(n){return Vp.loadJS(n)}function cC(){return Vp.gapiScript}function dC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(n,e){const t=bp(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(Qc(a,e??{}))return s;Er(s,"already-initialized")}return t.initialize({options:e})}function fC(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Yr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function pC(n,e,t){const r=_d(n);Ce(r._canInitEmulator,r,"emulator-config-failed"),Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=D0(e),{host:u,port:h}=mC(e),f=h===null?"":`:${h}`;r.config.emulator={url:`${a}//${u}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),gC()}function D0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function mC(n){const e=D0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:Ey(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:Ey(u)}}}function Ey(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function gC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Kr("not implemented")}_getIdTokenResponse(e){return Kr("not implemented")}_linkToIdToken(e,t){return Kr("not implemented")}_getReauthenticationResolver(e){return Kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qs(n,e){return HI(n,"POST","/v1/accounts:signInWithIdp",Op(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="http://localhost";class jo extends O0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new jo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Er("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=ql(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new jo(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Qs(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Qs(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qs(e,t)}buildRequest(){const e={requestUri:vC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Hl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends Fp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Kl{constructor(){super("facebook.com")}static credential(e){return jo._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return jo._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return qr.credential(t,r)}catch{return null}}}qr.GOOGLE_SIGN_IN_METHOD="google.com";qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Kl{constructor(){super("github.com")}static credential(e){return jo._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.GITHUB_SIGN_IN_METHOD="github.com";Li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Kl{constructor(){super("twitter.com")}static credential(e,t){return jo._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Vi.credential(t,r)}catch{return null}}}Vi.TWITTER_SIGN_IN_METHOD="twitter.com";Vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await Qr._fromIdTokenResponse(e,r,s),u=Ty(r);return new ra({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Ty(r);return new ra({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Ty(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends ri{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Zc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Zc(e,t,r,s)}}function M0(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Zc._fromErrorAndOperation(n,a,e,r):a})}async function yC(n,e,t=!1){const r=await Dl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ra._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(n,e,t=!1){const{auth:r}=n;if(Gr(r.app))return Promise.reject(Lo(r));const s="reauthenticate";try{const a=await Dl(n,M0(r,s,e,n),t);Ce(a.idToken,r,"internal-error");const u=Mp(a.idToken);Ce(u,r,"internal-error");const{sub:h}=u;return Ce(n.uid===h,r,"user-mismatch"),ra._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Er(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(n,e,t=!1){if(Gr(n.app))return Promise.reject(Lo(n));const r="signIn",s=await M0(n,r,e),a=await ra._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}function EC(n,e,t,r){return Yt(n).onIdTokenChanged(e,t,r)}function TC(n,e,t){return Yt(n).beforeAuthStateChanged(e,t)}function SC(n,e,t,r){return Yt(n).onAuthStateChanged(e,t,r)}function IC(n){return Yt(n).signOut()}const ed="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ed,"1"),this.storage.removeItem(ed),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=1e3,AC=10;class V0 extends L0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=x0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);nC()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,AC):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},CC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}V0.type="LOCAL";const PC=V0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0 extends L0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}F0.type="SESSION";const U0=F0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new wd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async m=>m(t.origin,a)),f=await kC(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const m=Up("",20);s.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(w){const T=w;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(T.data.response);break;default:clearTimeout(y),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return window}function bC(n){gr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function xC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function DC(){return j0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="firebaseLocalStorageDb",OC=1,td="firebaseLocalStorage",B0="fbase_key";class Ql{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ed(n,e){return n.transaction([td],e?"readwrite":"readonly").objectStore(td)}function MC(){const n=indexedDB.deleteDatabase(z0);return new Ql(n).toPromise()}function ep(){const n=indexedDB.open(z0,OC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(td,{keyPath:B0})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(td)?e(r):(r.close(),await MC(),e(await ep()))})})}async function Sy(n,e,t){const r=Ed(n,!0).put({[B0]:e,value:t});return new Ql(r).toPromise()}async function LC(n,e){const t=Ed(n,!1).get(e),r=await new Ql(t).toPromise();return r===void 0?null:r.value}function Iy(n,e){const t=Ed(n,!0).delete(e);return new Ql(t).toPromise()}const VC=800,FC=3;class W0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ep(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>FC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return j0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wd._getInstance(DC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await xC(),!this.activeServiceWorker)return;this.sender=new RC(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ep();return await Sy(e,ed,"1"),await Iy(e,ed),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Sy(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>LC(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Iy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Ed(s,!1).getAll();return new Ql(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}W0.type="LOCAL";const UC=W0;new Gl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(n,e){return e?Yr(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp extends O0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function jC(n){return wC(n.auth,new jp(n),n.bypassAuthState)}function zC(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),_C(t,new jp(n),n.bypassAuthState)}async function BC(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),yC(t,new jp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jC;case"linkViaPopup":case"linkViaRedirect":return BC;case"reauthViaPopup":case"reauthViaRedirect":return zC;default:Er(this.auth,"internal-error")}}resolve(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=new Gl(2e3,1e4);async function $C(n,e,t){if(Gr(n.app))return Promise.reject(Yn(n,"operation-not-supported-in-this-environment"));const r=_d(n);UI(n,e,Fp);const s=$0(r,t);return new Oo(r,"signInViaPopup",e,s).executeNotNull()}class Oo extends H0{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Oo.currentPopupAction&&Oo.currentPopupAction.cancel(),Oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Jr(this.filter.length===1,"Popup operations only handle one event");const e=Up();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WC.get())};e()}}Oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="pendingRedirect",Lc=new Map;class qC extends H0{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Lc.get(this.auth._key());if(!e){try{const r=await GC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Lc.set(this.auth._key(),e)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GC(n,e){const t=YC(e),r=QC(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function KC(n,e){Lc.set(n._key(),e)}function QC(n){return Yr(n._redirectPersistence)}function YC(n){return Mc(HC,n.config.apiKey,n.name)}async function XC(n,e,t=!1){if(Gr(n.app))return Promise.reject(Lo(n));const r=_d(n),s=$0(r,e),u=await new qC(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=10*60*1e3;class ZC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eA(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!q0(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Yn(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cy(e))}saveEventToCache(e){this.cachedEventUids.add(Cy(e)),this.lastProcessedEventTime=Date.now()}}function Cy(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function q0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function eA(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return q0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tA(n,e={}){return ma(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rA=/^https?/;async function iA(n){if(n.config.emulator)return;const{authorizedDomains:e}=await tA(n);for(const t of e)try{if(oA(t))return}catch{}Er(n,"unauthorized-domain")}function oA(n){const e=Jf(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!rA.test(t))return!1;if(nA.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=new Gl(3e4,6e4);function Ay(){const n=gr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function aA(n){return new Promise((e,t)=>{var r,s,a;function u(){Ay(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ay(),t(Yn(n,"network-request-failed"))},timeout:sA.get()})}if(!((s=(r=gr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=gr().gapi)===null||a===void 0)&&a.load)u();else{const h=dC("iframefcb");return gr()[h]=()=>{gapi.load?u():t(Yn(n,"network-request-failed"))},uC(`${cC()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw Vc=null,e})}let Vc=null;function lA(n){return Vc=Vc||aA(n),Vc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=new Gl(5e3,15e3),cA="__/auth/iframe",dA="emulator/auth/iframe",hA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pA(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Dp(e,dA):`https://${n.config.authDomain}/${cA}`,r={apiKey:e.apiKey,appName:n.name,v:pa},s=fA.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Hl(r).slice(1)}`}async function mA(n){const e=await lA(n),t=gr().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:pA(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hA,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=Yn(n,"network-request-failed"),h=gr().setTimeout(()=>{a(u)},uA.get());function f(){gr().clearTimeout(h),s(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vA=500,yA=600,_A="_blank",wA="http://localhost";class Py{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EA(n,e,t,r=vA,s=yA){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},gA),{width:r.toString(),height:s.toString(),top:a,left:u}),m=$t().toLowerCase();t&&(h=A0(m)?_A:t),I0(m)&&(e=e||wA,f.scrollbars="yes");const y=Object.entries(f).reduce((T,[I,R])=>`${T}${I}=${R},`,"");if(tC(m)&&h!=="_self")return TA(e||"",h),new Py(null);const w=window.open(e||"",h,y);Ce(w,n,"popup-blocked");try{w.focus()}catch{}return new Py(w)}function TA(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="__/auth/handler",IA="emulator/auth/handler",CA=encodeURIComponent("fac");async function ky(n,e,t,r,s,a){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:pa,eventId:s};if(e instanceof Fp){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",SS(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries({}))u[y]=w}if(e instanceof Kl){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),m=f?`#${CA}=${encodeURIComponent(f)}`:"";return`${AA(n)}?${Hl(h).slice(1)}${m}`}function AA({config:n}){return n.emulator?Dp(n,IA):`https://${n.authDomain}/${SA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf="webStorageSupport";class PA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=U0,this._completeRedirectFn=XC,this._overrideRedirectResult=KC}async _openPopup(e,t,r,s){var a;Jr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await ky(e,t,r,Jf(),s);return EA(e,u,Up())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await ky(e,t,r,Jf(),s);return bC(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(Jr(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await mA(e),r=new ZC(e);return t.register("authEvent",s=>(Ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Cf,{type:Cf},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[Cf];u!==void 0&&t(!!u),Er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=iA(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return x0()||C0()||Lp()}}const kA=PA;var Ry="@firebase/auth",by="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xA(n){na(new Uo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ce(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:N0(n)},m=new aC(r,s,a,f);return fC(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),na(new Uo("auth-internal",e=>{const t=_d(e.getProvider("auth").getImmediate());return(r=>new RA(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),zi(Ry,by,bA(n)),zi(Ry,by,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=5*60,DA=u0("authIdTokenMaxAge")||NA;let xy=null;const OA=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>DA)return;const s=t==null?void 0:t.token;xy!==s&&(xy=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function MA(n=f0()){const e=bp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=hC(n,{popupRedirectResolver:kA,persistence:[UC,PC,U0]}),r=u0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=OA(a.toString());TC(t,u,()=>u(t.currentUser)),EC(t,h=>u(h))}}const s=a0("auth");return s&&pC(t,`http://${s}`),t}function LA(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}lC({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=Yn("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",LA().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xA("Browser");var Ny=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vo,G0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,C){function b(){}b.prototype=C.prototype,N.D=C.prototype,N.prototype=new b,N.prototype.constructor=N,N.C=function(D,L,O){for(var k=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)k[Ee-2]=arguments[Ee];return C.prototype[L].apply(D,k)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,C,b){b||(b=0);var D=Array(16);if(typeof C=="string")for(var L=0;16>L;++L)D[L]=C.charCodeAt(b++)|C.charCodeAt(b++)<<8|C.charCodeAt(b++)<<16|C.charCodeAt(b++)<<24;else for(L=0;16>L;++L)D[L]=C[b++]|C[b++]<<8|C[b++]<<16|C[b++]<<24;C=N.g[0],b=N.g[1],L=N.g[2];var O=N.g[3],k=C+(O^b&(L^O))+D[0]+3614090360&4294967295;C=b+(k<<7&4294967295|k>>>25),k=O+(L^C&(b^L))+D[1]+3905402710&4294967295,O=C+(k<<12&4294967295|k>>>20),k=L+(b^O&(C^b))+D[2]+606105819&4294967295,L=O+(k<<17&4294967295|k>>>15),k=b+(C^L&(O^C))+D[3]+3250441966&4294967295,b=L+(k<<22&4294967295|k>>>10),k=C+(O^b&(L^O))+D[4]+4118548399&4294967295,C=b+(k<<7&4294967295|k>>>25),k=O+(L^C&(b^L))+D[5]+1200080426&4294967295,O=C+(k<<12&4294967295|k>>>20),k=L+(b^O&(C^b))+D[6]+2821735955&4294967295,L=O+(k<<17&4294967295|k>>>15),k=b+(C^L&(O^C))+D[7]+4249261313&4294967295,b=L+(k<<22&4294967295|k>>>10),k=C+(O^b&(L^O))+D[8]+1770035416&4294967295,C=b+(k<<7&4294967295|k>>>25),k=O+(L^C&(b^L))+D[9]+2336552879&4294967295,O=C+(k<<12&4294967295|k>>>20),k=L+(b^O&(C^b))+D[10]+4294925233&4294967295,L=O+(k<<17&4294967295|k>>>15),k=b+(C^L&(O^C))+D[11]+2304563134&4294967295,b=L+(k<<22&4294967295|k>>>10),k=C+(O^b&(L^O))+D[12]+1804603682&4294967295,C=b+(k<<7&4294967295|k>>>25),k=O+(L^C&(b^L))+D[13]+4254626195&4294967295,O=C+(k<<12&4294967295|k>>>20),k=L+(b^O&(C^b))+D[14]+2792965006&4294967295,L=O+(k<<17&4294967295|k>>>15),k=b+(C^L&(O^C))+D[15]+1236535329&4294967295,b=L+(k<<22&4294967295|k>>>10),k=C+(L^O&(b^L))+D[1]+4129170786&4294967295,C=b+(k<<5&4294967295|k>>>27),k=O+(b^L&(C^b))+D[6]+3225465664&4294967295,O=C+(k<<9&4294967295|k>>>23),k=L+(C^b&(O^C))+D[11]+643717713&4294967295,L=O+(k<<14&4294967295|k>>>18),k=b+(O^C&(L^O))+D[0]+3921069994&4294967295,b=L+(k<<20&4294967295|k>>>12),k=C+(L^O&(b^L))+D[5]+3593408605&4294967295,C=b+(k<<5&4294967295|k>>>27),k=O+(b^L&(C^b))+D[10]+38016083&4294967295,O=C+(k<<9&4294967295|k>>>23),k=L+(C^b&(O^C))+D[15]+3634488961&4294967295,L=O+(k<<14&4294967295|k>>>18),k=b+(O^C&(L^O))+D[4]+3889429448&4294967295,b=L+(k<<20&4294967295|k>>>12),k=C+(L^O&(b^L))+D[9]+568446438&4294967295,C=b+(k<<5&4294967295|k>>>27),k=O+(b^L&(C^b))+D[14]+3275163606&4294967295,O=C+(k<<9&4294967295|k>>>23),k=L+(C^b&(O^C))+D[3]+4107603335&4294967295,L=O+(k<<14&4294967295|k>>>18),k=b+(O^C&(L^O))+D[8]+1163531501&4294967295,b=L+(k<<20&4294967295|k>>>12),k=C+(L^O&(b^L))+D[13]+2850285829&4294967295,C=b+(k<<5&4294967295|k>>>27),k=O+(b^L&(C^b))+D[2]+4243563512&4294967295,O=C+(k<<9&4294967295|k>>>23),k=L+(C^b&(O^C))+D[7]+1735328473&4294967295,L=O+(k<<14&4294967295|k>>>18),k=b+(O^C&(L^O))+D[12]+2368359562&4294967295,b=L+(k<<20&4294967295|k>>>12),k=C+(b^L^O)+D[5]+4294588738&4294967295,C=b+(k<<4&4294967295|k>>>28),k=O+(C^b^L)+D[8]+2272392833&4294967295,O=C+(k<<11&4294967295|k>>>21),k=L+(O^C^b)+D[11]+1839030562&4294967295,L=O+(k<<16&4294967295|k>>>16),k=b+(L^O^C)+D[14]+4259657740&4294967295,b=L+(k<<23&4294967295|k>>>9),k=C+(b^L^O)+D[1]+2763975236&4294967295,C=b+(k<<4&4294967295|k>>>28),k=O+(C^b^L)+D[4]+1272893353&4294967295,O=C+(k<<11&4294967295|k>>>21),k=L+(O^C^b)+D[7]+4139469664&4294967295,L=O+(k<<16&4294967295|k>>>16),k=b+(L^O^C)+D[10]+3200236656&4294967295,b=L+(k<<23&4294967295|k>>>9),k=C+(b^L^O)+D[13]+681279174&4294967295,C=b+(k<<4&4294967295|k>>>28),k=O+(C^b^L)+D[0]+3936430074&4294967295,O=C+(k<<11&4294967295|k>>>21),k=L+(O^C^b)+D[3]+3572445317&4294967295,L=O+(k<<16&4294967295|k>>>16),k=b+(L^O^C)+D[6]+76029189&4294967295,b=L+(k<<23&4294967295|k>>>9),k=C+(b^L^O)+D[9]+3654602809&4294967295,C=b+(k<<4&4294967295|k>>>28),k=O+(C^b^L)+D[12]+3873151461&4294967295,O=C+(k<<11&4294967295|k>>>21),k=L+(O^C^b)+D[15]+530742520&4294967295,L=O+(k<<16&4294967295|k>>>16),k=b+(L^O^C)+D[2]+3299628645&4294967295,b=L+(k<<23&4294967295|k>>>9),k=C+(L^(b|~O))+D[0]+4096336452&4294967295,C=b+(k<<6&4294967295|k>>>26),k=O+(b^(C|~L))+D[7]+1126891415&4294967295,O=C+(k<<10&4294967295|k>>>22),k=L+(C^(O|~b))+D[14]+2878612391&4294967295,L=O+(k<<15&4294967295|k>>>17),k=b+(O^(L|~C))+D[5]+4237533241&4294967295,b=L+(k<<21&4294967295|k>>>11),k=C+(L^(b|~O))+D[12]+1700485571&4294967295,C=b+(k<<6&4294967295|k>>>26),k=O+(b^(C|~L))+D[3]+2399980690&4294967295,O=C+(k<<10&4294967295|k>>>22),k=L+(C^(O|~b))+D[10]+4293915773&4294967295,L=O+(k<<15&4294967295|k>>>17),k=b+(O^(L|~C))+D[1]+2240044497&4294967295,b=L+(k<<21&4294967295|k>>>11),k=C+(L^(b|~O))+D[8]+1873313359&4294967295,C=b+(k<<6&4294967295|k>>>26),k=O+(b^(C|~L))+D[15]+4264355552&4294967295,O=C+(k<<10&4294967295|k>>>22),k=L+(C^(O|~b))+D[6]+2734768916&4294967295,L=O+(k<<15&4294967295|k>>>17),k=b+(O^(L|~C))+D[13]+1309151649&4294967295,b=L+(k<<21&4294967295|k>>>11),k=C+(L^(b|~O))+D[4]+4149444226&4294967295,C=b+(k<<6&4294967295|k>>>26),k=O+(b^(C|~L))+D[11]+3174756917&4294967295,O=C+(k<<10&4294967295|k>>>22),k=L+(C^(O|~b))+D[2]+718787259&4294967295,L=O+(k<<15&4294967295|k>>>17),k=b+(O^(L|~C))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+C&4294967295,N.g[1]=N.g[1]+(L+(k<<21&4294967295|k>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+O&4294967295}r.prototype.u=function(N,C){C===void 0&&(C=N.length);for(var b=C-this.blockSize,D=this.B,L=this.h,O=0;O<C;){if(L==0)for(;O<=b;)s(this,N,O),O+=this.blockSize;if(typeof N=="string"){for(;O<C;)if(D[L++]=N.charCodeAt(O++),L==this.blockSize){s(this,D),L=0;break}}else for(;O<C;)if(D[L++]=N[O++],L==this.blockSize){s(this,D),L=0;break}}this.h=L,this.o+=C},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var C=1;C<N.length-8;++C)N[C]=0;var b=8*this.o;for(C=N.length-8;C<N.length;++C)N[C]=b&255,b/=256;for(this.u(N),N=Array(16),C=b=0;4>C;++C)for(var D=0;32>D;D+=8)N[b++]=this.g[C]>>>D&255;return N};function a(N,C){var b=h;return Object.prototype.hasOwnProperty.call(b,N)?b[N]:b[N]=C(N)}function u(N,C){this.h=C;for(var b=[],D=!0,L=N.length-1;0<=L;L--){var O=N[L]|0;D&&O==C||(b[L]=O,D=!1)}this.g=b}var h={};function f(N){return-128<=N&&128>N?a(N,function(C){return new u([C|0],0>C?-1:0)}):new u([N|0],0>N?-1:0)}function m(N){if(isNaN(N)||!isFinite(N))return w;if(0>N)return P(m(-N));for(var C=[],b=1,D=0;N>=b;D++)C[D]=N/b|0,b*=4294967296;return new u(C,0)}function y(N,C){if(N.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(N.charAt(0)=="-")return P(y(N.substring(1),C));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=m(Math.pow(C,8)),D=w,L=0;L<N.length;L+=8){var O=Math.min(8,N.length-L),k=parseInt(N.substring(L,L+O),C);8>O?(O=m(Math.pow(C,O)),D=D.j(O).add(m(k))):(D=D.j(b),D=D.add(m(k)))}return D}var w=f(0),T=f(1),I=f(16777216);n=u.prototype,n.m=function(){if(A(this))return-P(this).m();for(var N=0,C=1,b=0;b<this.g.length;b++){var D=this.i(b);N+=(0<=D?D:4294967296+D)*C,C*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(R(this))return"0";if(A(this))return"-"+P(this).toString(N);for(var C=m(Math.pow(N,6)),b=this,D="";;){var L=Y(b,C).g;b=z(b,L.j(C));var O=((0<b.g.length?b.g[0]:b.h)>>>0).toString(N);if(b=L,R(b))return O+D;for(;6>O.length;)O="0"+O;D=O+D}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function R(N){if(N.h!=0)return!1;for(var C=0;C<N.g.length;C++)if(N.g[C]!=0)return!1;return!0}function A(N){return N.h==-1}n.l=function(N){return N=z(this,N),A(N)?-1:R(N)?0:1};function P(N){for(var C=N.g.length,b=[],D=0;D<C;D++)b[D]=~N.g[D];return new u(b,~N.h).add(T)}n.abs=function(){return A(this)?P(this):this},n.add=function(N){for(var C=Math.max(this.g.length,N.g.length),b=[],D=0,L=0;L<=C;L++){var O=D+(this.i(L)&65535)+(N.i(L)&65535),k=(O>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);D=k>>>16,O&=65535,k&=65535,b[L]=k<<16|O}return new u(b,b[b.length-1]&-2147483648?-1:0)};function z(N,C){return N.add(P(C))}n.j=function(N){if(R(this)||R(N))return w;if(A(this))return A(N)?P(this).j(P(N)):P(P(this).j(N));if(A(N))return P(this.j(P(N)));if(0>this.l(I)&&0>N.l(I))return m(this.m()*N.m());for(var C=this.g.length+N.g.length,b=[],D=0;D<2*C;D++)b[D]=0;for(D=0;D<this.g.length;D++)for(var L=0;L<N.g.length;L++){var O=this.i(D)>>>16,k=this.i(D)&65535,Ee=N.i(L)>>>16,Fe=N.i(L)&65535;b[2*D+2*L]+=k*Fe,H(b,2*D+2*L),b[2*D+2*L+1]+=O*Fe,H(b,2*D+2*L+1),b[2*D+2*L+1]+=k*Ee,H(b,2*D+2*L+1),b[2*D+2*L+2]+=O*Ee,H(b,2*D+2*L+2)}for(D=0;D<C;D++)b[D]=b[2*D+1]<<16|b[2*D];for(D=C;D<2*C;D++)b[D]=0;return new u(b,0)};function H(N,C){for(;(N[C]&65535)!=N[C];)N[C+1]+=N[C]>>>16,N[C]&=65535,C++}function Q(N,C){this.g=N,this.h=C}function Y(N,C){if(R(C))throw Error("division by zero");if(R(N))return new Q(w,w);if(A(N))return C=Y(P(N),C),new Q(P(C.g),P(C.h));if(A(C))return C=Y(N,P(C)),new Q(P(C.g),C.h);if(30<N.g.length){if(A(N)||A(C))throw Error("slowDivide_ only works with positive integers.");for(var b=T,D=C;0>=D.l(N);)b=ie(b),D=ie(D);var L=se(b,1),O=se(D,1);for(D=se(D,2),b=se(b,2);!R(D);){var k=O.add(D);0>=k.l(N)&&(L=L.add(b),O=k),D=se(D,1),b=se(b,1)}return C=z(N,L.j(C)),new Q(L,C)}for(L=w;0<=N.l(C);){for(b=Math.max(1,Math.floor(N.m()/C.m())),D=Math.ceil(Math.log(b)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),O=m(b),k=O.j(C);A(k)||0<k.l(N);)b-=D,O=m(b),k=O.j(C);R(O)&&(O=T),L=L.add(O),N=z(N,k)}return new Q(L,N)}n.A=function(N){return Y(this,N).h},n.and=function(N){for(var C=Math.max(this.g.length,N.g.length),b=[],D=0;D<C;D++)b[D]=this.i(D)&N.i(D);return new u(b,this.h&N.h)},n.or=function(N){for(var C=Math.max(this.g.length,N.g.length),b=[],D=0;D<C;D++)b[D]=this.i(D)|N.i(D);return new u(b,this.h|N.h)},n.xor=function(N){for(var C=Math.max(this.g.length,N.g.length),b=[],D=0;D<C;D++)b[D]=this.i(D)^N.i(D);return new u(b,this.h^N.h)};function ie(N){for(var C=N.g.length+1,b=[],D=0;D<C;D++)b[D]=N.i(D)<<1|N.i(D-1)>>>31;return new u(b,N.h)}function se(N,C){var b=C>>5;C%=32;for(var D=N.g.length-b,L=[],O=0;O<D;O++)L[O]=0<C?N.i(O+b)>>>C|N.i(O+b+1)<<32-C:N.i(O+b);return new u(L,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,G0=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,Vo=u}).apply(typeof Ny<"u"?Ny:typeof self<"u"?self:typeof window<"u"?window:{});var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var K0,El,Q0,Fc,tp,Y0,X0,J0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sc=="object"&&Sc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function s(c,g){if(g)e:{var _=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var W=c[S];if(!(W in _))break e;_=_[W]}c=c[c.length-1],S=_[c],g=g(S),g!=S&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,S=!1,W={next:function(){if(!S&&_<c.length){var K=_++;return{value:g(K,c[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}s("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function y(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,S),c.apply(g,W)}}return function(){return c.apply(g,arguments)}}function T(c,g,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:w,T.apply(null,arguments)}function I(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function R(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,W,K){for(var le=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)le[Ke-2]=arguments[Ke];return g.prototype[W].apply(S,le)}}function A(c){const g=c.length;if(0<g){const _=Array(g);for(let S=0;S<g;S++)_[S]=c[S];return _}return[]}function P(c,g){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(f(S)){const W=c.length||0,K=S.length||0;c.length=W+K;for(let le=0;le<K;le++)c[W+le]=S[le]}else c.push(S)}}class z{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function H(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function Y(c){return Y[" "](c),c}Y[" "]=function(){};var ie=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function se(c,g,_){for(const S in c)g.call(_,c[S],S,c)}function N(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function C(c){const g={};for(const _ in c)g[_]=c[_];return g}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,g){let _,S;for(let W=1;W<arguments.length;W++){S=arguments[W];for(_ in S)c[_]=S[_];for(let K=0;K<b.length;K++)_=b[K],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function L(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function O(c){h.setTimeout(()=>{throw c},0)}function k(){var c=ue;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Ee{constructor(){this.h=this.g=null}add(g,_){const S=Fe.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Fe=new z(()=>new ke,c=>c.reset());class ke{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,B=!1,ue=new Ee,ae=()=>{const c=h.Promise.resolve(void 0);ne=()=>{c.then(U)}};var U=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(_){O(_)}var g=Fe;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}B=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};h.addEventListener("test",_,g),h.removeEventListener("test",_,g)}catch{}return c}();function xe(c,g){if(ve.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ie){e:{try{Y(g.nodeName);var W=!0;break e}catch{}W=!1}W||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:De[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xe.aa.h.call(this)}}R(xe,ve);var De={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),je=0;function Ge(c,g,_,S,W){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=W,this.key=++je,this.da=this.fa=!1}function ct(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function En(c){this.src=c,this.g={},this.h=0}En.prototype.add=function(c,g,_,S,W){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var le=Xt(c,g,S,W);return-1<le?(g=c[le],_||(g.fa=!1)):(g=new Ge(g,this.src,K,!!S,W),g.fa=_,c.push(g)),g};function Ar(c,g){var _=g.type;if(_ in c.g){var S=c.g[_],W=Array.prototype.indexOf.call(S,g,void 0),K;(K=0<=W)&&Array.prototype.splice.call(S,W,1),K&&(ct(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Xt(c,g,_,S){for(var W=0;W<c.length;++W){var K=c[W];if(!K.da&&K.listener==g&&K.capture==!!_&&K.ha==S)return W}return-1}var nr="closure_lm_"+(1e6*Math.random()|0),oi={};function no(c,g,_,S,W){if(Array.isArray(g)){for(var K=0;K<g.length;K++)no(c,g[K],_,S,W);return null}return _=Ca(_),c&&c[Ue]?c.K(g,_,m(S)?!!S.capture:!!S,W):ro(c,g,_,!1,S,W)}function ro(c,g,_,S,W,K){if(!g)throw Error("Invalid event type");var le=m(W)?!!W.capture:!!W,Ke=Yo(c);if(Ke||(c[nr]=Ke=new En(c)),_=Ke.add(g,_,S,le,K),_.proxy)return _;if(S=Qo(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)Re||(W=le),W===void 0&&(W=!1),c.addEventListener(g.toString(),S,W);else if(c.attachEvent)c.attachEvent(kr(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Qo(){function c(_){return g.call(c.src,c.listener,_)}const g=Ia;return c}function Dn(c,g,_,S,W){if(Array.isArray(g))for(var K=0;K<g.length;K++)Dn(c,g[K],_,S,W);else S=m(S)?!!S.capture:!!S,_=Ca(_),c&&c[Ue]?(c=c.i,g=String(g).toString(),g in c.g&&(K=c.g[g],_=Xt(K,_,S,W),-1<_&&(ct(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[g],c.h--)))):c&&(c=Yo(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Xt(g,_,S,W)),(_=-1<c?g[c]:null)&&Pr(_))}function Pr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ue])Ar(g.i,c);else{var _=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(_,S,c.capture):g.detachEvent?g.detachEvent(kr(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=Yo(g))?(Ar(_,c),_.h==0&&(_.src=null,g[nr]=null)):ct(c)}}}function kr(c){return c in oi?oi[c]:oi[c]="on"+c}function Ia(c,g){if(c.da)c=!0;else{g=new xe(g,this);var _=c.listener,S=c.ha||c.src;c.fa&&Pr(c),c=_.call(S,g)}return c}function Yo(c){return c=c[nr],c instanceof En?c:null}var Xo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ca(c){return typeof c=="function"?c:(c[Xo]||(c[Xo]=function(g){return c.handleEvent(g)}),c[Xo])}function yt(){X.call(this),this.i=new En(this),this.M=this,this.F=null}R(yt,X),yt.prototype[Ue]=!0,yt.prototype.removeEventListener=function(c,g,_,S){Dn(this,c,g,_,S)};function _t(c,g){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new ve(g,c);else if(g instanceof ve)g.target=g.target||c;else{var W=g;g=new ve(S,c),D(g,W)}if(W=!0,_)for(var K=_.length-1;0<=K;K--){var le=g.g=_[K];W=Rr(le,S,!0,g)&&W}if(le=g.g=c,W=Rr(le,S,!0,g)&&W,W=Rr(le,S,!1,g)&&W,_)for(K=0;K<_.length;K++)le=g.g=_[K],W=Rr(le,S,!1,g)&&W}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],S=0;S<_.length;S++)ct(_[S]);delete c.g[g],c.h--}}this.F=null},yt.prototype.K=function(c,g,_,S){return this.i.add(String(c),g,!1,_,S)},yt.prototype.L=function(c,g,_,S){return this.i.add(String(c),g,!0,_,S)};function Rr(c,g,_,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var W=!0,K=0;K<g.length;++K){var le=g[K];if(le&&!le.da&&le.capture==_){var Ke=le.listener,wt=le.ha||le.src;le.fa&&Ar(c.i,le),W=Ke.call(wt,S)!==!1&&W}}return W&&!S.defaultPrevented}function Aa(c,g,_){if(typeof c=="function")_&&(c=T(c,_));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(c,g||0)}function si(c){c.g=Aa(()=>{c.g=null,c.i&&(c.i=!1,si(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class io extends X{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:si(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oo(c){X.call(this),this.h=c,this.g={}}R(oo,X);var Pa=[];function ka(c){se(c.g,function(g,_){this.g.hasOwnProperty(_)&&Pr(g)},c),c.g={}}oo.prototype.N=function(){oo.aa.N.call(this),ka(this)},oo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ra=h.JSON.stringify,ba=h.JSON.parse,xa=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function so(){}so.prototype.h=null;function Jo(c){return c.h||(c.h=c.i())}function Zo(){}var Tn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rr(){ve.call(this,"d")}R(rr,ve);function es(){ve.call(this,"c")}R(es,ve);var ir={},Na=null;function ao(){return Na=Na||new yt}ir.La="serverreachability";function Da(c){ve.call(this,ir.La,c)}R(Da,ve);function br(c){const g=ao();_t(g,new Da(g))}ir.STAT_EVENT="statevent";function Oa(c,g){ve.call(this,ir.STAT_EVENT,c),this.stat=g}R(Oa,ve);function dt(c){const g=ao();_t(g,new Oa(g,c))}ir.Ma="timingevent";function ts(c,g){ve.call(this,ir.Ma,c),this.size=g}R(ts,ve);function On(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function lo(){this.g=!0}lo.prototype.xa=function(){this.g=!1};function uo(c,g,_,S,W,K){c.info(function(){if(c.g)if(K)for(var le="",Ke=K.split("&"),wt=0;wt<Ke.length;wt++){var ze=Ke[wt].split("=");if(1<ze.length){var Ct=ze[0];ze=ze[1];var pt=Ct.split("_");le=2<=pt.length&&pt[1]=="type"?le+(Ct+"="+ze+"&"):le+(Ct+"=redacted&")}}else le=null;else le=K;return"XMLHTTP REQ ("+S+") [attempt "+W+"]: "+g+`
`+_+`
`+le})}function ns(c,g,_,S,W,K,le){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+W+"]: "+g+`
`+_+`
`+K+" "+le})}function Mn(c,g,_,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+zd(c,_)+(S?" "+S:"")})}function Ma(c,g){c.info(function(){return"TIMEOUT: "+g})}lo.prototype.info=function(){};function zd(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var W=S[1];if(Array.isArray(W)&&!(1>W.length)){var K=W[0];if(K!="noop"&&K!="stop"&&K!="close")for(var le=1;le<W.length;le++)W[le]=""}}}}return Ra(_)}catch{return g}}var rs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},au={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ln;function co(){}R(co,so),co.prototype.g=function(){return new XMLHttpRequest},co.prototype.i=function(){return{}},Ln=new co;function Vn(c,g,_,S){this.j=c,this.i=g,this.l=_,this.R=S||1,this.U=new oo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lu}function lu(){this.i=null,this.g="",this.h=!1}var La={},is={};function os(c,g,_){c.L=1,c.v=di(dn(g)),c.m=_,c.P=!0,Va(c,null)}function Va(c,g){c.F=Date.now(),Xe(c),c.A=dn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),fi(_.i,"t",S),c.C=0,_=c.j.J,c.h=new lu,c.g=Au(c.j,_?g:null,!c.m),0<c.O&&(c.M=new io(T(c.Y,c,c.g),c.O)),g=c.U,_=c.g,S=c.ca;var W="readystatechange";Array.isArray(W)||(W&&(Pa[0]=W.toString()),W=Pa);for(var K=0;K<W.length;K++){var le=no(_,W[K],S||g.handleEvent,!1,g.h||g);if(!le)break;g.g[le.key]=le}g=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),br(),uo(c.i,c.u,c.A,c.l,c.R,c.m)}Vn.prototype.ca=function(c){c=c.target;const g=this.M;g&&Zt(c)==3?g.j():this.Y(c)},Vn.prototype.Y=function(c){try{if(c==this.g)e:{const pt=Zt(this.g);var g=this.g.Ba();const Cn=this.g.Z();if(!(3>pt)&&(pt!=3||this.g&&(this.h.h||this.g.oa()||Wa(this.g)))){this.J||pt!=4||g==7||(g==8||0>=Cn?br(3):br(2)),ho(this);var _=this.g.Z();this.X=_;t:if(uu(this)){var S=Wa(this.g);c="";var W=S.length,K=Zt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sn(this),ai(this);var le="";break t}this.h.i=new h.TextDecoder}for(g=0;g<W;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(K&&g==W-1)});S.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=_==200,ns(this.i,this.u,this.A,this.l,this.R,pt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,wt=this.g;if((Ke=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Ke)){var ze=Ke;break t}}ze=null}if(_=ze)Mn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fa(this,_);else{this.o=!1,this.s=3,dt(12),Sn(this),ai(this);break e}}if(this.P){_=!0;let fn;for(;!this.J&&this.C<le.length;)if(fn=Bd(this,le),fn==is){pt==4&&(this.s=4,dt(14),_=!1),Mn(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==La){this.s=4,dt(15),Mn(this.i,this.l,le,"[Invalid Chunk]"),_=!1;break}else Mn(this.i,this.l,fn,null),Fa(this,fn);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||le.length!=0||this.h.h||(this.s=1,dt(16),_=!1),this.o=this.o&&_,!_)Mn(this.i,this.l,le,"[Invalid Chunked Response]"),Sn(this),ai(this);else if(0<le.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Ha(Ct),Ct.M=!0,dt(11))}}else Mn(this.i,this.l,le,null),Fa(this,le);pt==4&&Sn(this),this.o&&!this.J&&(pt==4?gs(this.j,this):(this.o=!1,Xe(this)))}else ds(this.g),_==400&&0<le.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Sn(this),ai(this)}}}catch{}finally{}};function uu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Bd(c,g){var _=c.C,S=g.indexOf(`
`,_);return S==-1?is:(_=Number(g.substring(_,S)),isNaN(_)?La:(S+=1,S+_>g.length?is:(g=g.slice(S,S+_),c.C=S+_,g)))}Vn.prototype.cancel=function(){this.J=!0,Sn(this)};function Xe(c){c.S=Date.now()+c.I,cu(c,c.I)}function cu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=On(T(c.ba,c),g)}function ho(c){c.B&&(h.clearTimeout(c.B),c.B=null)}Vn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ma(this.i,this.A),this.L!=2&&(br(),dt(17)),Sn(this),this.s=2,ai(this)):cu(this,this.S-c)};function ai(c){c.j.G==0||c.J||gs(c.j,c)}function Sn(c){ho(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,ka(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Fa(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Ht(_.h,c))){if(!c.K&&Ht(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var W=S;if(W[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ms(_),Bn(_);else break e;ps(_),dt(18)}}else _.za=W[1],0<_.za-_.T&&37500>W[2]&&_.F&&_.v==0&&!_.C&&(_.C=On(T(_.Za,_),6e3));if(1>=hu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Mr(_,11)}else if((c.K||_.g==c)&&ms(_),!H(g))for(W=_.Da.g.parse(g),g=0;g<W.length;g++){let ze=W[g];if(_.T=ze[0],ze=ze[1],_.G==2)if(ze[0]=="c"){_.K=ze[1],_.ia=ze[2];const Ct=ze[3];Ct!=null&&(_.la=Ct,_.j.info("VER="+_.la));const pt=ze[4];pt!=null&&(_.Aa=pt,_.j.info("SVER="+_.Aa));const Cn=ze[5];Cn!=null&&typeof Cn=="number"&&0<Cn&&(S=1.5*Cn,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const fn=c.g;if(fn){const _o=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_o){var K=S.h;K.g||_o.indexOf("spdy")==-1&&_o.indexOf("quic")==-1&&_o.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ua(K,K.h),K.h=null))}if(S.D){const ys=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;ys&&(S.ya=ys,Ye(S.I,S.D,ys))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var le=c;if(S.qa=Cu(S,S.J?S.ia:null,S.W),le.K){fu(S.h,le);var Ke=le,wt=S.L;wt&&(Ke.I=wt),Ke.B&&(ho(Ke),Xe(Ke)),S.g=le}else yo(S);0<_.i.length&&lr(_)}else ze[0]!="stop"&&ze[0]!="close"||Mr(_,7);else _.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Mr(_,7):xt(_):ze[0]!="noop"&&_.l&&_.l.ta(ze),_.v=0)}}br(4)}catch{}}var du=class{constructor(c,g){this.g=c,this.map=g}};function fo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function hu(c){return c.h?1:c.g?c.g.size:0}function Ht(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Ua(c,g){c.g?c.g.add(g):c.h=g}function fu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}fo.prototype.cancel=function(){if(this.i=pu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function pu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return A(c.i)}function ss(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,S=0;S<_;S++)g.push(c[S]);return g}g=[],_=0;for(S in c)g[_++]=c[S];return g}function as(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const S in c)g[_++]=S;return g}}}function li(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=as(c),S=ss(c),W=S.length,K=0;K<W;K++)g.call(void 0,S[K],_&&_[K],c)}var po=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wd(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),W=null;if(0<=S){var K=c[_].substring(0,S);W=c[_].substring(S+1)}else K=c[_];g(K,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function xr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof xr){this.h=c.h,mo(this,c.j),this.o=c.o,this.g=c.g,ui(this,c.s),this.l=c.l;var g=c.i,_=new or;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),ci(this,_),this.m=c.m}else c&&(g=String(c).match(po))?(this.h=!1,mo(this,g[1]||"",!0),this.o=Le(g[2]||""),this.g=Le(g[3]||"",!0),ui(this,g[4]),this.l=Le(g[5]||"",!0),ci(this,g[6]||"",!0),this.m=Le(g[7]||"")):(this.h=!1,this.i=new or(null,this.h))}xr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(hi(g,ls,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(hi(g,ls,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(hi(_,_.charAt(0)=="/"?vu:gu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",hi(_,ja)),c.join("")};function dn(c){return new xr(c)}function mo(c,g,_){c.j=_?Le(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ui(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function ci(c,g,_){g instanceof or?(c.i=g,sr(c.i,c.h)):(_||(g=hi(g,yu)),c.i=new or(g,c.h))}function Ye(c,g,_){c.i.set(g,_)}function di(c){return Ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Le(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function hi(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,mu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function mu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ls=/[#\/\?@]/g,gu=/[#\?:]/g,vu=/[#\?]/g,yu=/[#\?@]/g,ja=/#/g;function or(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function bt(c){c.g||(c.g=new Map,c.h=0,c.i&&Wd(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=or.prototype,n.add=function(c,g){bt(this),this.i=null,c=In(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Fn(c,g){bt(c),g=In(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Un(c,g){return bt(c),g=In(c,g),c.g.has(g)}n.forEach=function(c,g){bt(this),this.g.forEach(function(_,S){_.forEach(function(W){c.call(g,W,S,this)},this)},this)},n.na=function(){bt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let S=0;S<g.length;S++){const W=c[S];for(let K=0;K<W.length;K++)_.push(g[S])}return _},n.V=function(c){bt(this);let g=[];if(typeof c=="string")Un(this,c)&&(g=g.concat(this.g.get(In(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return bt(this),this.i=null,c=In(this,c),Un(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function fi(c,g,_){Fn(c,g),0<_.length&&(c.i=null,c.g.set(In(c,g),A(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var S=g[_];const K=encodeURIComponent(String(S)),le=this.V(S);for(S=0;S<le.length;S++){var W=K;le[S]!==""&&(W+="="+encodeURIComponent(String(le[S]))),c.push(W)}}return this.i=c.join("&")};function In(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function sr(c,g){g&&!c.j&&(bt(c),c.i=null,c.g.forEach(function(_,S){var W=S.toLowerCase();S!=W&&(Fn(this,S),fi(this,W,_))},c)),c.j=g}function $d(c,g){const _=new lo;if(h.Image){const S=new Image;S.onload=I(Jt,_,"TestLoadImage: loaded",!0,g,S),S.onerror=I(Jt,_,"TestLoadImage: error",!1,g,S),S.onabort=I(Jt,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=I(Jt,_,"TestLoadImage: timeout",!1,g,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function _u(c,g){const _=new lo,S=new AbortController,W=setTimeout(()=>{S.abort(),Jt(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(W),K.ok?Jt(_,"TestPingServer: ok",!0,g):Jt(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(W),Jt(_,"TestPingServer: error",!1,g)})}function Jt(c,g,_,S,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),S(_)}catch{}}function Hd(){this.g=new xa}function wu(c,g,_){const S=_||"";try{li(c,function(W,K){let le=W;m(W)&&(le=Ra(W)),g.push(S+K+"="+encodeURIComponent(le))})}catch(W){throw g.push(S+"type="+encodeURIComponent("_badmap")),W}}function Nr(c){this.l=c.Ub||null,this.j=c.eb||!1}R(Nr,so),Nr.prototype.g=function(){return new go(this.l,this.j)},Nr.prototype.i=function(c){return function(){return c}}({});function go(c,g){yt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(go,yt),n=go.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,zn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,zn(this)),this.g&&(this.readyState=3,zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Eu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?jn(this):zn(this),this.readyState==3&&Eu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,jn(this))},n.Qa=function(c){this.g&&(this.response=c,jn(this))},n.ga=function(){this.g&&jn(this)};function jn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,zn(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(go.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Dr(c){let g="";return se(c,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function pi(c,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Dr(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ye(c,g,_))}function it(c){yt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(it,yt);var qd=/^https?$/i,za=["POST","PUT"];n=it.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ln.g(),this.v=this.o?Jo(this.o):Jo(Ln),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(K){vo(this,K);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var W in S)_.set(W,S[W]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())_.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),W=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(za,g,void 0))||S||W||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,le]of _)this.g.setRequestHeader(K,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cs(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){vo(this,K)}};function vo(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,us(c),hn(c)}function us(c){c.A||(c.A=!0,_t(c,"complete"),_t(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,_t(this,"complete"),_t(this,"abort"),hn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hn(this,!0)),it.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ba(this):this.bb())},n.bb=function(){Ba(this)};function Ba(c){if(c.h&&typeof u<"u"&&(!c.v[1]||Zt(c)!=4||c.Z()!=2)){if(c.u&&Zt(c)==4)Aa(c.Ea,0,c);else if(_t(c,"readystatechange"),Zt(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=le===0){var W=String(c.D).match(po)[1]||null;!W&&h.self&&h.self.location&&(W=h.self.location.protocol.slice(0,-1)),S=!qd.test(W?W.toLowerCase():"")}_=S}if(_)_t(c,"complete"),_t(c,"success");else{c.m=6;try{var K=2<Zt(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",us(c)}}finally{hn(c)}}}}function hn(c,g){if(c.g){cs(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||_t(c,"ready");try{_.onreadystatechange=S}catch{}}}function cs(c){c.I&&(h.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Zt(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Zt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ba(g)}};function Wa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ds(c){const g={};c=(c.g&&2<=Zt(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(H(c[S]))continue;var _=L(c[S]);const W=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=g[W]||[];g[W]=K,K.push(_)}N(g,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ar(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function $a(c){this.Aa=0,this.i=[],this.j=new lo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ar("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ar("baseRetryDelayMs",5e3,c),this.cb=ar("retryDelaySeedMs",1e4,c),this.Wa=ar("forwardChannelMaxRetries",2,c),this.wa=ar("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new fo(c&&c.concurrentRequestLimit),this.Da=new Hd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=$a.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,S){dt(0),this.W=c,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Cu(this,null,this.W),lr(this)};function xt(c){if(hs(c),c.G==3){var g=c.U++,_=dn(c.I);if(Ye(_,"SID",c.K),Ye(_,"RID",g),Ye(_,"TYPE","terminate"),Or(c,_),g=new Vn(c,c.j,g),g.L=2,g.v=di(dn(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=g.v,_=!0),_||(g.g=Au(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Xe(g)}Iu(c)}function Bn(c){c.g&&(Ha(c),c.g.cancel(),c.g=null)}function hs(c){Bn(c),c.u&&(h.clearTimeout(c.u),c.u=null),ms(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function lr(c){if(!cn(c.h)&&!c.s){c.s=!0;var g=c.Ga;ne||ae(),B||(ne(),B=!0),ue.add(g,c),c.B=0}}function Gd(c,g){return hu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=On(T(c.Ga,c,g),Su(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const W=new Vn(this,this.j,c);let K=this.o;if(this.S&&(K?(K=C(K),D(K,this.S)):K=this.S),this.m!==null||this.O||(W.H=K,K=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=mi(this,W,g),_=dn(this.I),Ye(_,"RID",c),Ye(_,"CVER",22),this.D&&Ye(_,"X-HTTP-Session-Id",this.D),Or(this,_),K&&(this.O?g="headers="+encodeURIComponent(String(Dr(K)))+"&"+g:this.m&&pi(_,this.m,K)),Ua(this.h,W),this.Ua&&Ye(_,"TYPE","init"),this.P?(Ye(_,"$req",g),Ye(_,"SID","null"),W.T=!0,os(W,_,null)):os(W,_,g),this.G=2}}else this.G==3&&(c?fs(this,c):this.i.length==0||cn(this.h)||fs(this))};function fs(c,g){var _;g?_=g.l:_=c.U++;const S=dn(c.I);Ye(S,"SID",c.K),Ye(S,"RID",_),Ye(S,"AID",c.T),Or(c,S),c.m&&c.o&&pi(S,c.m,c.o),_=new Vn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=mi(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ua(c.h,_),os(_,S,g)}function Or(c,g){c.H&&se(c.H,function(_,S){Ye(g,S,_)}),c.l&&li({},function(_,S){Ye(g,S,_)})}function mi(c,g,_){_=Math.min(c.i.length,_);var S=c.l?T(c.l.Na,c.l,c):null;e:{var W=c.i;let K=-1;for(;;){const le=["count="+_];K==-1?0<_?(K=W[0].g,le.push("ofs="+K)):K=0:le.push("ofs="+K);let Ke=!0;for(let wt=0;wt<_;wt++){let ze=W[wt].g;const Ct=W[wt].map;if(ze-=K,0>ze)K=Math.max(0,W[wt].g-100),Ke=!1;else try{wu(Ct,le,"req"+ze+"_")}catch{S&&S(Ct)}}if(Ke){S=le.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,S}function yo(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ne||ae(),B||(ne(),B=!0),ue.add(g,c),c.v=0}}function ps(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=On(T(c.Fa,c),Su(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=On(T(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Bn(this),Tu(this))};function Ha(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function Tu(c){c.g=new Vn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=dn(c.qa);Ye(g,"RID","rpc"),Ye(g,"SID",c.K),Ye(g,"AID",c.T),Ye(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ye(g,"TO",c.ja),Ye(g,"TYPE","xmlhttp"),Or(c,g),c.m&&c.o&&pi(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=di(dn(g)),_.m=null,_.P=!0,Va(_,c)}n.Za=function(){this.C!=null&&(this.C=null,Bn(this),ps(this),dt(19))};function ms(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function gs(c,g){var _=null;if(c.g==g){ms(c),Ha(c),c.g=null;var S=2}else if(Ht(c.h,g))_=g.D,fu(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var W=c.B;S=ao(),_t(S,new ts(S,_)),lr(c)}else yo(c);else if(W=g.s,W==3||W==0&&0<g.X||!(S==1&&Gd(c,g)||S==2&&ps(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),W){case 1:Mr(c,5);break;case 4:Mr(c,10);break;case 3:Mr(c,6);break;default:Mr(c,2)}}}function Su(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Mr(c,g){if(c.j.info("Error code "+g),g==2){var _=T(c.fb,c),S=c.Xa;const W=!S;S=new xr(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||mo(S,"https"),di(S),W?$d(S.toString(),_):_u(S.toString(),_)}else dt(2);c.G=0,c.l&&c.l.sa(g),Iu(c),hs(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Iu(c){if(c.G=0,c.ka=[],c.l){const g=pu(c.h);(g.length!=0||c.i.length!=0)&&(P(c.ka,g),P(c.ka,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.ra()}}function Cu(c,g,_){var S=_ instanceof xr?dn(_):new xr(_);if(S.g!="")g&&(S.g=g+"."+S.g),ui(S,S.s);else{var W=h.location;S=W.protocol,g=g?g+"."+W.hostname:W.hostname,W=+W.port;var K=new xr(null);S&&mo(K,S),g&&(K.g=g),W&&ui(K,W),_&&(K.l=_),S=K}return _=c.D,g=c.ya,_&&g&&Ye(S,_,g),Ye(S,"VER",c.la),Or(c,S),S}function Au(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new it(new Nr({eb:_})):new it(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function qa(){}n=qa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function vs(){}vs.prototype.g=function(c,g){return new qt(c,g)};function qt(c,g){yt.call(this),this.g=new $a(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!H(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!H(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ur(this)}R(qt,yt),qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){xt(this.g)},qt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Ra(c),c=_);g.i.push(new du(g.Ya++,c)),g.G==3&&lr(g)},qt.prototype.N=function(){this.g.l=null,delete this.j,xt(this.g),delete this.g,qt.aa.N.call(this)};function Pu(c){rr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}R(Pu,rr);function ku(){es.call(this),this.status=1}R(ku,es);function ur(c){this.g=c}R(ur,qa),ur.prototype.ua=function(){_t(this.g,"a")},ur.prototype.ta=function(c){_t(this.g,new Pu(c))},ur.prototype.sa=function(c){_t(this.g,new ku)},ur.prototype.ra=function(){_t(this.g,"b")},vs.prototype.createWebChannel=vs.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,J0=function(){return new vs},X0=function(){return ao()},Y0=ir,tp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rs.NO_ERROR=0,rs.TIMEOUT=8,rs.HTTP_ERROR=6,Fc=rs,au.COMPLETE="complete",Q0=au,Zo.EventType=Tn,Tn.OPEN="a",Tn.CLOSE="b",Tn.ERROR="c",Tn.MESSAGE="d",yt.prototype.listen=yt.prototype.K,El=Zo,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,K0=it}).apply(typeof Sc<"u"?Sc:typeof self<"u"?self:typeof window<"u"?window:{});const Dy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ga="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=new kp("@firebase/firestore");function Ws(){return zo.logLevel}function de(n,...e){if(zo.logLevel<=Oe.DEBUG){const t=e.map(zp);zo.debug(`Firestore (${ga}): ${n}`,...t)}}function Zr(n,...e){if(zo.logLevel<=Oe.ERROR){const t=e.map(zp);zo.error(`Firestore (${ga}): ${n}`,...t)}}function ia(n,...e){if(zo.logLevel<=Oe.WARN){const t=e.map(zp);zo.warn(`Firestore (${ga}): ${n}`,...t)}}function zp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(n="Unexpected state"){const e=`FIRESTORE (${ga}) INTERNAL ASSERTION FAILED: `+n;throw Zr(e),new Error(e)}function qe(n,e){n||Ie()}function Pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends ri{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bt.UNAUTHENTICATED))}shutdown(){}}class FA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class UA{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qe(this.o===void 0);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Fo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Fo,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},h=f=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Fo)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string"),new Z0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new Bt(e)}}class jA{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class zA{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new jA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){qe(this.o===void 0);const r=a=>{a.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,de("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qe(typeof t.token=="string"),this.R=t.token,new BA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=$A(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%e.length))}return r}}function Ve(n,e){return n<e?-1:n>e?1:0}function oa(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new St(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new St(0,0))}static max(){return new Ae(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ie(),r===void 0?r=e.length-t:r>e.length-t&&Ie(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ol.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ol?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=e.get(s),u=t.get(s);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class rt extends Ol{construct(e,t,r){return new rt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new rt(t)}static emptyPath(){return new rt([])}}const HA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends Ol{construct(e,t,r){return new Mt(e,t,r)}static isValidIdentifier(e){return HA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Mt(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new me(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new me(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new me(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(a(),s++)}if(a(),u)throw new me(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mt(t)}static emptyPath(){return new Mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(rt.fromString(e))}static fromName(e){return new ye(rt.fromString(e).popFirst(5))}static empty(){return new ye(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new rt(e.slice()))}}function qA(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ae.fromTimestamp(r===1e9?new St(t+1,0):new St(t,r));return new $i(s,ye.empty(),e)}function GA(n){return new $i(n.readTime,n.key,-1)}class $i{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new $i(Ae.min(),ye.empty(),-1)}static max(){return new $i(Ae.max(),ye.empty(),-1)}}function KA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function va(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==QA)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):J.reject(t)}static resolve(e){return new J((t,r)=>{t(e)})}static reject(e){return new J((t,r)=>{r(e)})}static waitFor(e){return new J((t,r)=>{let s=0,a=0,u=!1;e.forEach(h=>{++s,h.next(()=>{++a,u&&a===s&&t()},f=>r(f))}),u=!0,a===s&&t()})}static or(e){let t=J.resolve(!1);for(const r of e)t=t.next(s=>s?J.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new J((r,s)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next(y=>{u[m]=y,++h,h===a&&r(u)},y=>s(y))}})}static doWhile(e,t){return new J((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function XA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ya(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Td.oe=-1;function Sd(n){return n==null}function nd(n){return n===0&&1/n==-1/0}function JA(n){return typeof n=="number"&&Number.isInteger(n)&&!nd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Oy(e)),e=eP(n.get(t),e);return Oy(e)}function eP(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function Oy(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ho(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function tw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,t){this.comparator=e,this.root=t||Ot.EMPTY}insert(e,t){return new lt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ic(this.root,e,this.comparator,!0)}}class Ic{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Ot.RED,this.left=s??Ot.EMPTY,this.right=a??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Ot(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Ot.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,t,r,s,a){return this}insert(e,t,r){return new Ot(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ly(this.data.getIterator())}getIteratorFrom(e){return new Ly(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new It(this.comparator);return t.data=e,t}}class Ly{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new Qn([])}unionWith(e){let t=new It(Mt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Qn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oa(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new nw("Invalid base64 string: "+a):a}}(e);return new Lt(t)}static fromUint8Array(e){const t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new Lt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const tP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hi(n){if(qe(!!n),typeof n=="string"){let e=0;const t=tP.exec(n);if(qe(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ft(n.seconds),nanos:ft(n.nanos)}}function ft(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qi(n){return typeof n=="string"?Lt.fromBase64String(n):Lt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Id(n){const e=n.mapValue.fields.__previous_value__;return Bp(e)?Id(e):e}function Ml(n){const e=Hi(n.mapValue.fields.__local_write_time__.timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,t,r,s,a,u,h,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m}}class Ll{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ll&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Bp(n)?4:iP(n)?9007199254740991:rP(n)?10:11:Ie()}function Tr(n,e){if(n===e)return!0;const t=Gi(n);if(t!==Gi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ml(n).isEqual(Ml(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=Hi(s.timestampValue),h=Hi(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return qi(s.bytesValue).isEqual(qi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return ft(s.geoPointValue.latitude)===ft(a.geoPointValue.latitude)&&ft(s.geoPointValue.longitude)===ft(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return ft(s.integerValue)===ft(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=ft(s.doubleValue),h=ft(a.doubleValue);return u===h?nd(u)===nd(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return oa(n.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},h=a.mapValue.fields||{};if(My(u)!==My(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Tr(u[f],h[f])))return!1;return!0}(n,e);default:return Ie()}}function Vl(n,e){return(n.values||[]).find(t=>Tr(t,e))!==void 0}function sa(n,e){if(n===e)return 0;const t=Gi(n),r=Gi(e);if(t!==r)return Ve(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return function(a,u){const h=ft(a.integerValue||a.doubleValue),f=ft(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return Vy(n.timestampValue,e.timestampValue);case 4:return Vy(Ml(n),Ml(e));case 5:return Ve(n.stringValue,e.stringValue);case 6:return function(a,u){const h=qi(a),f=qi(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),f=u.split("/");for(let m=0;m<h.length&&m<f.length;m++){const y=Ve(h[m],f[m]);if(y!==0)return y}return Ve(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const h=Ve(ft(a.latitude),ft(u.latitude));return h!==0?h:Ve(ft(a.longitude),ft(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Fy(n.arrayValue,e.arrayValue);case 10:return function(a,u){var h,f,m,y;const w=a.fields||{},T=u.fields||{},I=(h=w.value)===null||h===void 0?void 0:h.arrayValue,R=(f=T.value)===null||f===void 0?void 0:f.arrayValue,A=Ve(((m=I==null?void 0:I.values)===null||m===void 0?void 0:m.length)||0,((y=R==null?void 0:R.values)===null||y===void 0?void 0:y.length)||0);return A!==0?A:Fy(I,R)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Cc.mapValue&&u===Cc.mapValue)return 0;if(a===Cc.mapValue)return 1;if(u===Cc.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),m=u.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let w=0;w<f.length&&w<y.length;++w){const T=Ve(f[w],y[w]);if(T!==0)return T;const I=sa(h[f[w]],m[y[w]]);if(I!==0)return I}return Ve(f.length,y.length)}(n.mapValue,e.mapValue);default:throw Ie()}}function Vy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=Hi(n),r=Hi(e),s=Ve(t.seconds,r.seconds);return s!==0?s:Ve(t.nanos,r.nanos)}function Fy(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=sa(t[s],r[s]);if(a)return a}return Ve(t.length,r.length)}function aa(n){return np(n)}function np(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Hi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return qi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=np(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${np(t.fields[u])}`;return s+"}"}(n.mapValue):Ie()}function Uc(n){switch(Gi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Id(n);return e?16+Uc(e):16;case 5:return 2*n.stringValue.length;case 6:return qi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+Uc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return Ho(r.fields,(a,u)=>{s+=a.length+Uc(u)}),s}(n.mapValue);default:throw Ie()}}function Uy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function rp(n){return!!n&&"integerValue"in n}function Wp(n){return!!n&&"arrayValue"in n}function jy(n){return!!n&&"nullValue"in n}function zy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jc(n){return!!n&&"mapValue"in n}function rP(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Pl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ho(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Pl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function iP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!jc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(t)}setAll(e){let t=Mt.emptyPath(),r={},s=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=h.popLast()}u?r[h.lastSegment()]=Pl(u):s.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());jc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];jc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Ho(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Nn(Pl(this.value))}}function rw(n){const e=[];return Ho(n.fields,(t,r)=>{const s=new Mt([t]);if(jc(r)){const a=rw(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,r,s,a,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Wt(e,0,Ae.min(),Ae.min(),Ae.min(),Nn.empty(),0)}static newFoundDocument(e,t,r,s){return new Wt(e,1,t,Ae.min(),r,s,0)}static newNoDocument(e,t){return new Wt(e,2,t,Ae.min(),Ae.min(),Nn.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,Ae.min(),Ae.min(),Nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,t){this.position=e,this.inclusive=t}}function By(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=ye.comparator(ye.fromName(u.referenceValue),t.key):r=sa(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Wy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Tr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,t="asc"){this.field=e,this.dir=t}}function oP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{}class vt extends iw{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new aP(e,t,r):t==="array-contains"?new cP(e,r):t==="in"?new dP(e,r):t==="not-in"?new hP(e,r):t==="array-contains-any"?new fP(e,r):new vt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new lP(e,r):new uP(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(sa(t,this.value)):t!==null&&Gi(this.value)===Gi(t)&&this.matchesComparison(sa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends iw{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Xn(e,t)}matches(e){return ow(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ow(n){return n.op==="and"}function sw(n){return sP(n)&&ow(n)}function sP(n){for(const e of n.filters)if(e instanceof Xn)return!1;return!0}function ip(n){if(n instanceof vt)return n.field.canonicalString()+n.op.toString()+aa(n.value);if(sw(n))return n.filters.map(e=>ip(e)).join(",");{const e=n.filters.map(t=>ip(t)).join(",");return`${n.op}(${e})`}}function aw(n,e){return n instanceof vt?function(r,s){return s instanceof vt&&r.op===s.op&&r.field.isEqual(s.field)&&Tr(r.value,s.value)}(n,e):n instanceof Xn?function(r,s){return s instanceof Xn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,h)=>a&&aw(u,s.filters[h]),!0):!1}(n,e):void Ie()}function lw(n){return n instanceof vt?function(t){return`${t.field.canonicalString()} ${t.op} ${aa(t.value)}`}(n):n instanceof Xn?function(t){return t.op.toString()+" {"+t.getFilters().map(lw).join(" ,")+"}"}(n):"Filter"}class aP extends vt{constructor(e,t,r){super(e,t,r),this.key=ye.fromName(r.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class lP extends vt{constructor(e,t){super(e,"in",t),this.keys=uw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class uP extends vt{constructor(e,t){super(e,"not-in",t),this.keys=uw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function uw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ye.fromName(r.referenceValue))}class cP extends vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wp(t)&&Vl(t.arrayValue,this.value)}}class dP extends vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Vl(this.value.arrayValue,t)}}class hP extends vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Vl(this.value.arrayValue,t)}}class fP extends vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Vl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,t=null,r=[],s=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=h,this.ue=null}}function $y(n,e=null,t=[],r=[],s=null,a=null,u=null){return new pP(n,e,t,r,s,a,u)}function $p(n){const e=Pe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ip(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Sd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>aa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>aa(r)).join(",")),e.ue=t}return e.ue}function Hp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!oP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!aw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Wy(n.startAt,e.startAt)&&Wy(n.endAt,e.endAt)}function op(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,t=null,r=[],s=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function mP(n,e,t,r,s,a,u,h){return new Yl(n,e,t,r,s,a,u,h)}function qp(n){return new Yl(n)}function Hy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function cw(n){return n.collectionGroup!==null}function kl(n){const e=Pe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new It(Mt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new id(a,r))}),t.has(Mt.keyField().canonicalString())||e.ce.push(new id(Mt.keyField(),r))}return e.ce}function vr(n){const e=Pe(n);return e.le||(e.le=gP(e,kl(n))),e.le}function gP(n,e){if(n.limitType==="F")return $y(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new id(s.field,a)});const t=n.endAt?new rd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new rd(n.startAt.position,n.startAt.inclusive):null;return $y(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function sp(n,e){const t=n.filters.concat([e]);return new Yl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ap(n,e,t){return new Yl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Cd(n,e){return Hp(vr(n),vr(e))&&n.limitType===e.limitType}function dw(n){return`${$p(vr(n))}|lt:${n.limitType}`}function $s(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>lw(s)).join(", ")}]`),Sd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>aa(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>aa(s)).join(",")),`Target(${r})`}(vr(n))}; limitType=${n.limitType})`}function Ad(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ye.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of kl(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,h,f){const m=By(u,h,f);return u.inclusive?m<=0:m<0}(r.startAt,kl(r),s)||r.endAt&&!function(u,h,f){const m=By(u,h,f);return u.inclusive?m>=0:m>0}(r.endAt,kl(r),s))}(n,e)}function vP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function hw(n){return(e,t)=>{let r=!1;for(const s of kl(n)){const a=yP(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function yP(n,e,t){const r=n.field.isKeyField()?ye.comparator(e.key,t.key):function(a,u,h){const f=u.data.field(a),m=h.data.field(a);return f!==null&&m!==null?sa(f,m):Ie()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ho(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return tw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=new lt(ye.comparator);function ei(){return _P}const fw=new lt(ye.comparator);function Tl(...n){let e=fw;for(const t of n)e=e.insert(t.key,t);return e}function pw(n){let e=fw;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Mo(){return Rl()}function mw(){return Rl()}function Rl(){return new qo(n=>n.toString(),(n,e)=>n.isEqual(e))}const wP=new lt(ye.comparator),EP=new It(ye.comparator);function Me(...n){let e=EP;for(const t of n)e=e.add(t);return e}const TP=new It(Ve);function SP(){return TP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nd(e)?"-0":e}}function gw(n){return{integerValue:""+n}}function IP(n,e){return JA(e)?gw(e):Gp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(){this._=void 0}}function CP(n,e,t){return n instanceof od?function(s,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Bp(a)&&(a=Id(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof Fl?yw(n,e):n instanceof Ul?_w(n,e):function(s,a){const u=vw(s,a),h=qy(u)+qy(s.Pe);return rp(u)&&rp(s.Pe)?gw(h):Gp(s.serializer,h)}(n,e)}function AP(n,e,t){return n instanceof Fl?yw(n,e):n instanceof Ul?_w(n,e):t}function vw(n,e){return n instanceof sd?function(r){return rp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class od extends Pd{}class Fl extends Pd{constructor(e){super(),this.elements=e}}function yw(n,e){const t=ww(e);for(const r of n.elements)t.some(s=>Tr(s,r))||t.push(r);return{arrayValue:{values:t}}}class Ul extends Pd{constructor(e){super(),this.elements=e}}function _w(n,e){let t=ww(e);for(const r of n.elements)t=t.filter(s=>!Tr(s,r));return{arrayValue:{values:t}}}class sd extends Pd{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function qy(n){return ft(n.integerValue||n.doubleValue)}function ww(n){return Wp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function PP(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Fl&&s instanceof Fl||r instanceof Ul&&s instanceof Ul?oa(r.elements,s.elements,Tr):r instanceof sd&&s instanceof sd?Tr(r.Pe,s.Pe):r instanceof od&&s instanceof od}(n.transform,e.transform)}class kP{constructor(e,t){this.version=e,this.transformResults=t}}class yr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yr}static exists(e){return new yr(void 0,e)}static updateTime(e){return new yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class kd{}function Ew(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Kp(n.key,yr.none()):new Xl(n.key,n.data,yr.none());{const t=n.data,r=Nn.empty();let s=new It(Mt.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new Go(n.key,r,new Qn(s.toArray()),yr.none())}}function RP(n,e,t){n instanceof Xl?function(s,a,u){const h=s.value.clone(),f=Ky(s.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Go?function(s,a,u){if(!zc(s.precondition,a))return void a.convertToUnknownDocument(u.version);const h=Ky(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(Tw(s)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function bl(n,e,t,r){return n instanceof Xl?function(a,u,h,f){if(!zc(a.precondition,u))return h;const m=a.value.clone(),y=Qy(a.fieldTransforms,f,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof Go?function(a,u,h,f){if(!zc(a.precondition,u))return h;const m=Qy(a.fieldTransforms,f,u),y=u.data;return y.setAll(Tw(a)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(a,u,h){return zc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function bP(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=vw(r.transform,s||null);a!=null&&(t===null&&(t=Nn.empty()),t.set(r.field,a))}return t||null}function Gy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&oa(r,s,(a,u)=>PP(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Xl extends kd{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Go extends kd{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Tw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Ky(n,e,t){const r=new Map;qe(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,h=e.data.field(a.field);r.set(a.field,AP(u,h,t[s]))}return r}function Qy(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,CP(a,u,e))}return r}class Kp extends kd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xP extends kd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&RP(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=bl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=bl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=mw();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(s.key)?null:h;const f=Ew(u,h);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&oa(this.mutations,e.mutations,(t,r)=>Gy(t,r))&&oa(this.baseMutations,e.baseMutations,(t,r)=>Gy(t,r))}}class Qp{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){qe(e.mutations.length===r.length);let s=function(){return wP}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new Qp(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Be;function MP(n){switch(n){default:return Ie();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function Sw(n){if(n===void 0)return Zr("GRPC error has no .code"),Z.UNKNOWN;switch(n){case gt.OK:return Z.OK;case gt.CANCELLED:return Z.CANCELLED;case gt.UNKNOWN:return Z.UNKNOWN;case gt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case gt.INTERNAL:return Z.INTERNAL;case gt.UNAVAILABLE:return Z.UNAVAILABLE;case gt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case gt.NOT_FOUND:return Z.NOT_FOUND;case gt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case gt.ABORTED:return Z.ABORTED;case gt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case gt.DATA_LOSS:return Z.DATA_LOSS;default:return Ie()}}(Be=gt||(gt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=new Vo([4294967295,4294967295],0);function Yy(n){const e=LP().encode(n),t=new G0;return t.update(e),new Uint8Array(t.digest())}function Xy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Vo([t,r],0),new Vo([s,a],0)]}class Yp{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Sl(`Invalid padding: ${t}`);if(r<0)throw new Sl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Vo.fromNumber(this.Te)}Ee(e,t,r){let s=e.add(t.multiply(Vo.fromNumber(r)));return s.compare(VP)===1&&(s=new Vo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Yy(e),[r,s]=Xy(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,s,a);if(!this.de(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Yp(a,s,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.Te===0)return;const t=Yy(e),[r,s]=Xy(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,s,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Rd(Ae.min(),s,new lt(Ve),ei(),Me())}}class Jl{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Jl(r,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,t,r,s){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=s}}class Iw{constructor(e,t){this.targetId=e,this.me=t}}class Cw{constructor(e,t,r=Lt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Jy{constructor(){this.fe=0,this.ge=Zy(),this.pe=Lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Me(),t=Me(),r=Me();return this.ge.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ie()}}),new Jl(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=Zy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class FP{constructor(e){this.Le=e,this.Be=new Map,this.ke=ei(),this.qe=Ac(),this.Qe=Ac(),this.Ke=new lt(Ve)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:Ie()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,s)=>{this.je(s)&&t(s)})}Je(e){const t=e.targetId,r=e.me.count,s=this.Ye(t);if(s){const a=s.target;if(op(a))if(r===0){const u=new ye(a.path);this.We(t,u,Wt.newNoDocument(u,Ae.min()))}else qe(r===1);else{const u=this.Ze(t);if(u!==r){const h=this.Xe(e),f=h?this.et(h,e,u):1;if(f!==0){this.He(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,m)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,h;try{u=qi(r).toUint8Array()}catch(f){if(f instanceof nw)return ia("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Yp(u,s,a)}catch(f){return ia(f instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Te===0?null:h}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const u=this.Le.nt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.We(t,a,null),s++)}),s}it(e){const t=new Map;this.Be.forEach((a,u)=>{const h=this.Ye(u);if(h){if(a.current&&op(h.target)){const f=new ye(h.target.path);this.st(f).has(u)||this.ot(u,f)||this.We(u,f,Wt.newNoDocument(f,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let r=Me();this.Qe.forEach((a,u)=>{let h=!0;u.forEachWhile(f=>{const m=this.Ye(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const s=new Rd(e,t,this.Ke,this.ke,r);return this.ke=ei(),this.qe=Ac(),this.Qe=Ac(),this.Ke=new lt(Ve),s}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const s=this.ze(e);this.ot(e,t)?s.Fe(t,1):s.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Jy,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new It(Ve),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new It(Ve),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Jy),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Ac(){return new lt(ye.comparator)}function Zy(){return new lt(ye.comparator)}const UP={asc:"ASCENDING",desc:"DESCENDING"},jP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zP={and:"AND",or:"OR"};class BP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function lp(n,e){return n.useProto3Json||Sd(e)?e:{value:e}}function ad(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Aw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function WP(n,e){return ad(n,e.toTimestamp())}function _r(n){return qe(!!n),Ae.fromTimestamp(function(t){const r=Hi(t);return new St(r.seconds,r.nanos)}(n))}function Xp(n,e){return up(n,e).canonicalString()}function up(n,e){const t=function(s){return new rt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Pw(n){const e=rt.fromString(n);return qe(Nw(e)),e}function cp(n,e){return Xp(n.databaseId,e.path)}function Af(n,e){const t=Pw(e);if(t.get(1)!==n.databaseId.projectId)throw new me(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(Rw(t))}function kw(n,e){return Xp(n.databaseId,e)}function $P(n){const e=Pw(n);return e.length===4?rt.emptyPath():Rw(e)}function dp(n){return new rt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Rw(n){return qe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function e_(n,e,t){return{name:cp(n,e),fields:t.value.mapValue.fields}}function HP(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(m,y){return m.useProto3Json?(qe(y===void 0||typeof y=="string"),Lt.fromBase64String(y||"")):(qe(y===void 0||y instanceof Buffer||y instanceof Uint8Array),Lt.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(m){const y=m.code===void 0?Z.UNKNOWN:Sw(m.code);return new me(y,m.message||"")}(u);t=new Cw(r,s,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Af(n,r.document.name),a=_r(r.document.updateTime),u=r.document.createTime?_r(r.document.createTime):Ae.min(),h=new Nn({mapValue:{fields:r.document.fields}}),f=Wt.newFoundDocument(s,a,u,h),m=r.targetIds||[],y=r.removedTargetIds||[];t=new Bc(m,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Af(n,r.document),a=r.readTime?_r(r.readTime):Ae.min(),u=Wt.newNoDocument(s,a),h=r.removedTargetIds||[];t=new Bc([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Af(n,r.document),a=r.removedTargetIds||[];t=new Bc([],a,s,null)}else{if(!("filter"in e))return Ie();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new OP(s,a),h=r.targetId;t=new Iw(h,u)}}return t}function qP(n,e){let t;if(e instanceof Xl)t={update:e_(n,e.key,e.value)};else if(e instanceof Kp)t={delete:cp(n,e.key)};else if(e instanceof Go)t={update:e_(n,e.key,e.data),updateMask:tk(e.fieldMask)};else{if(!(e instanceof xP))return Ie();t={verify:cp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const h=u.transform;if(h instanceof od)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Fl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ul)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof sd)return{fieldPath:u.field.canonicalString(),increment:h.Pe};throw Ie()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:WP(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ie()}(n,e.precondition)),t}function GP(n,e){return n&&n.length>0?(qe(e!==void 0),n.map(t=>function(s,a){let u=s.updateTime?_r(s.updateTime):_r(a);return u.isEqual(Ae.min())&&(u=_r(a)),new kP(u,s.transformResults||[])}(t,e))):[]}function KP(n,e){return{documents:[kw(n,e.path)]}}function QP(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=kw(n,s);const a=function(m){if(m.length!==0)return xw(Xn.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(y=>function(T){return{field:Hs(T.field),direction:JP(T.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=lp(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ct:t,parent:s}}function YP(n){let e=$P(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){qe(r===1);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=function(w){const T=bw(w);return T instanceof Xn&&sw(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(T=>function(R){return new id(qs(R.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(T))}(t.orderBy));let h=null;t.limit&&(h=function(w){let T;return T=typeof w=="object"?w.value:w,Sd(T)?null:T}(t.limit));let f=null;t.startAt&&(f=function(w){const T=!!w.before,I=w.values||[];return new rd(I,T)}(t.startAt));let m=null;return t.endAt&&(m=function(w){const T=!w.before,I=w.values||[];return new rd(I,T)}(t.endAt)),mP(e,s,u,a,h,"F",f,m)}function XP(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function bw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=qs(t.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=qs(t.unaryFilter.field);return vt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=qs(t.unaryFilter.field);return vt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=qs(t.unaryFilter.field);return vt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(n):n.fieldFilter!==void 0?function(t){return vt.create(qs(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Xn.create(t.compositeFilter.filters.map(r=>bw(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ie()}}(t.compositeFilter.op))}(n):Ie()}function JP(n){return UP[n]}function ZP(n){return jP[n]}function ek(n){return zP[n]}function Hs(n){return{fieldPath:n.canonicalString()}}function qs(n){return Mt.fromServerFormat(n.fieldPath)}function xw(n){return n instanceof vt?function(t){if(t.op==="=="){if(zy(t.value))return{unaryFilter:{field:Hs(t.field),op:"IS_NAN"}};if(jy(t.value))return{unaryFilter:{field:Hs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(zy(t.value))return{unaryFilter:{field:Hs(t.field),op:"IS_NOT_NAN"}};if(jy(t.value))return{unaryFilter:{field:Hs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hs(t.field),op:ZP(t.op),value:t.value}}}(n):n instanceof Xn?function(t){const r=t.getFilters().map(s=>xw(s));return r.length===1?r[0]:{compositeFilter:{op:ek(t.op),filters:r}}}(n):Ie()}function tk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Nw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,t,r,s,a=Ae.min(),u=Ae.min(),h=Lt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e){this.ht=e}}function rk(n){const e=YP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ap(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(){this.ln=new ok}addToCollectionParentIndex(e,t){return this.ln.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve($i.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve($i.min())}updateCollectionGroup(e,t,r){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class ok{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new It(rt.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new It(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(41943040,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new la(0)}static Qn(){return new la(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_([n,e],[t,r]){const s=Ve(n,t);return s===0?Ve(e,r):s}class sk{constructor(e){this.Gn=e,this.buffer=new It(n_),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();n_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ak{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){de("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ya(t)?de("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await va(t)}await this.Yn(3e5)})}}class lk{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return J.resolve(Td.oe);const r=new sk(t);return this.Zn.forEachTarget(e,s=>r.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>r.Hn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(t_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t_):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,s,a,u,h,f,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,u=Date.now(),this.nthSequenceNumber(e,s))).next(w=>(r=w,h=Date.now(),this.removeTargets(e,r,t))).next(w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(m=Date.now(),Ws()<=Oe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${w} documents in `+(m-f)+`ms
Total Duration: ${m-y}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:w})))}}function uk(n,e){return new lk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(){this.changes=new qo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?J.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&bl(r.mutation,s,Qn.empty(),St.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Me()){const s=Mo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let u=Tl();return a.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Mo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Me()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,s){let a=ei();const u=Rl(),h=function(){return Rl()}();return t.forEach((f,m)=>{const y=r.get(m.key);s.has(m.key)&&(y===void 0||y.mutation instanceof Go)?a=a.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),bl(y.mutation,m,y.mutation.getFieldMask(),St.now())):u.set(m.key,Qn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((m,y)=>u.set(m,y)),t.forEach((m,y)=>{var w;return h.set(m,new dk(y,(w=u.get(m))!==null&&w!==void 0?w:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Rl();let s=new lt((u,h)=>u-h),a=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let y=r.get(f)||Qn.empty();y=h.applyToLocalView(m,y),r.set(f,y);const w=(s.get(h.batchId)||Me()).add(f);s=s.insert(h.batchId,w)})}).next(()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,y=f.value,w=mw();y.forEach(T=>{if(!a.has(T)){const I=Ew(t.get(T),r.get(T));I!==null&&w.set(T,I),a=a.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,w))}return J.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return ye.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):cw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):J.resolve(Mo());let h=-1,f=a;return u.next(m=>J.forEach(m,(y,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),a.get(y)?J.resolve():this.remoteDocumentCache.getEntry(e,y).next(T=>{f=f.insert(y,T)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,f,m,Me())).next(y=>({batchId:h,changes:pw(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(r=>{let s=Tl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=Tl();return this.indexManager.getCollectionParents(e,a).next(h=>J.forEach(h,f=>{const m=function(w,T){return new Yl(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,s).next(y=>{y.forEach((w,T)=>{u=u.insert(w,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(u=>{a.forEach((f,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,Wt.newInvalidDocument(y)))});let h=Tl();return u.forEach((f,m)=>{const y=a.get(f);y!==void 0&&bl(y.mutation,m,Qn.empty(),St.now()),Ad(t,m)&&(h=h.insert(f,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return J.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:_r(s.createTime)}}(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(s){return{name:s.name,query:rk(s.bundledQuery),readTime:_r(s.readTime)}}(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(){this.overlays=new lt(ye.comparator),this.Er=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Mo();return J.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.Tt(e,t,a)}),J.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Er.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(r)),J.resolve()}getOverlaysForCollection(e,t,r){const s=Mo(),a=t.length+1,u=new ye(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return J.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new lt((m,y)=>m-y);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let y=a.get(m.largestBatchId);y===null&&(y=Mo(),a=a.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=Mo(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,y)=>h.set(m,y)),!(h.size()>=s)););return J.resolve(h)}Tt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Er.get(s.largestBatchId).delete(r.key);this.Er.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new DP(t,r));let a=this.Er.get(t);a===void 0&&(a=Me(),this.Er.set(t,a)),this.Er.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(){this.dr=new It(Rt.Ar),this.Rr=new It(Rt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const r=new Rt(e,t);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new Rt(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new ye(new rt([])),r=new Rt(t,e),s=new Rt(t,e+1),a=[];return this.Rr.forEachInRange([r,s],u=>{this.gr(u),a.push(u.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ye(new rt([])),r=new Rt(t,e),s=new Rt(t,e+1);let a=Me();return this.Rr.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Rt(e,0),r=this.dr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Rt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ye.comparator(e.key,t.key)||Ve(e.br,t.br)}static Vr(e,t){return Ve(e.br,t.br)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new It(Rt.Ar)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new NP(a,t,r,s);this.mutationQueue.push(u);for(const h of s)this.vr=this.vr.add(new Rt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return J.resolve(u)}lookupMutationBatch(e,t){return J.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Fr(r),a=s<0?0:s;return J.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Rt(t,0),s=new Rt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([r,s],u=>{const h=this.Cr(u.br);a.push(h)}),J.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new It(Ve);return t.forEach(s=>{const a=new Rt(s,0),u=new Rt(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,u],h=>{r=r.add(h.br)})}),J.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;ye.isDocumentKey(a)||(a=a.child(""));const u=new Rt(new ye(a),0);let h=new It(Ve);return this.vr.forEachWhile(f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===s&&(h=h.add(f.br)),!0)},u),J.resolve(this.Mr(h))}Mr(e){const t=[];return e.forEach(r=>{const s=this.Cr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){qe(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return J.forEach(t.mutations,s=>{const a=new Rt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,t){const r=new Rt(t,0),s=this.vr.firstAfterOrEqual(r);return J.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e){this.Nr=e,this.docs=function(){return new lt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return J.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let r=ei();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Wt.newInvalidDocument(s))}),J.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=ei();const u=t.path,h=new ye(u.child("")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||KA(GA(y),r)<=0||(s.has(y.key)||Ad(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return J.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Ie()}Lr(e,t){return J.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new yk(this)}getSize(e){return J.resolve(this.size)}}class yk extends ck{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.hr.addEntry(e,s)):this.hr.removeEntry(r)}),J.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.persistence=e,this.Br=new qo(t=>$p(t),Hp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.kr=0,this.qr=new Jp,this.targetCount=0,this.Qr=la.qn()}forEachTarget(e,t){return this.Br.forEach((r,s)=>t(s)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),J.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new la(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.Un(t),J.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.Br.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.Br.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),J.waitFor(a).next(()=>s)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const r=this.Br.get(t)||null;return J.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),J.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),J.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return J.resolve(r)}containsKey(e,t){return J.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Td(0),this.Ur=!1,this.Ur=!0,this.Wr=new mk,this.referenceDelegate=e(this),this.Gr=new _k(this),this.indexManager=new ik,this.remoteDocumentCache=function(s){return new vk(s)}(r=>this.referenceDelegate.zr(r)),this.serializer=new nk(t),this.jr=new fk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new gk(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){de("MemoryPersistence","Starting transaction:",e);const s=new wk(this.$r.next());return this.referenceDelegate.Hr(),r(s).next(a=>this.referenceDelegate.Jr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Yr(e,t){return J.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class wk extends YA{constructor(e){super(),this.currentSequenceNumber=e}}class Zp{constructor(e){this.persistence=e,this.Zr=new Jp,this.Xr=null}static ei(e){return new Zp(e)}get ti(){if(this.Xr)return this.Xr;throw Ie()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),J.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),J.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(s=>this.ti.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.ti.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ti,r=>{const s=ye.fromPath(r);return this.ni(e,s).next(a=>{a||t.removeEntry(s,Ae.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return J.or([()=>J.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class ld{constructor(e,t){this.persistence=e,this.ri=new qo(r=>ZA(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=uk(this,t)}static ei(e,t){return new ld(e,t)}Hr(){}Jr(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return J.forEach(this.ri,(r,s)=>this.ir(e,r,s).next(a=>a?J.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Lr(e,u=>this.ir(e,u,t).next(h=>{h||(r++,a.removeEntry(u,Ae.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),J.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Uc(e.data.value)),t}ir(e,t,r){return J.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.ri.get(t);return J.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=s}static zi(e,t){let r=Me(),s=Me();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new em(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return vS()?8:XA($t())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.Xi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.es(e,t,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new Ek;return this.ts(e,t,u).next(h=>{if(a.result=h,this.Hi)return this.ns(e,t,u,h.size)})}).next(()=>a.result)}ns(e,t,r,s){return r.documentReadCount<this.Ji?(Ws()<=Oe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",$s(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),J.resolve()):(Ws()<=Oe.DEBUG&&de("QueryEngine","Query:",$s(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Yi*s?(Ws()<=Oe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",$s(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(t))):J.resolve())}Xi(e,t){if(Hy(t))return J.resolve(null);let r=vr(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=ap(t,null,"F"),r=vr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Me(...a);return this.Zi.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const m=this.rs(t,h);return this.ss(t,m,u,f.readTime)?this.Xi(e,ap(t,null,"F")):this.os(e,m,t,f)}))})))}es(e,t,r,s){return Hy(t)||s.isEqual(Ae.min())?J.resolve(null):this.Zi.getDocuments(e,r).next(a=>{const u=this.rs(t,a);return this.ss(t,u,r,s)?J.resolve(null):(Ws()<=Oe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),$s(t)),this.os(e,u,t,qA(s,-1)).next(h=>h))})}rs(e,t){let r=new It(hw(e));return t.forEach((s,a)=>{Ad(e,a)&&(r=r.add(a))}),r}ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ts(e,t,r){return Ws()<=Oe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",$s(t)),this.Zi.getDocumentsMatchingQuery(e,t,$i.min(),r)}os(e,t,r,s){return this.Zi.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,t,r,s){this.persistence=e,this._s=t,this.serializer=s,this.us=new lt(Ve),this.cs=new qo(a=>$p(a),Hp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hk(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function Ik(n,e,t,r){return new Sk(n,e,t,r)}async function Ow(n,e){const t=Pe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],h=[];let f=Me();for(const m of s){u.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of a){h.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next(m=>({Ts:m,removedBatchIds:u,addedBatchIds:h}))})})}function Ck(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(h,f,m,y){const w=m.batch,T=w.keys();let I=J.resolve();return T.forEach(R=>{I=I.next(()=>y.getEntry(f,R)).next(A=>{const P=m.docVersions.get(R);qe(P!==null),A.version.compareTo(P)<0&&(w.applyToRemoteDocument(A,m),A.isValidDocument()&&(A.setReadTime(m.commitVersion),y.addEntry(A)))})}),I.next(()=>h.mutationQueue.removeMutationBatch(f,w))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=Me();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function Mw(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function Ak(n,e){const t=Pe(n),r=e.snapshotVersion;let s=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});s=t.us;const h=[];e.targetChanges.forEach((y,w)=>{const T=s.get(w);if(!T)return;h.push(t.Gr.removeMatchingKeys(a,y.removedDocuments,w).next(()=>t.Gr.addMatchingKeys(a,y.addedDocuments,w)));let I=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?I=I.withResumeToken(Lt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):y.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(y.resumeToken,r)),s=s.insert(w,I),function(A,P,z){return A.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(T,I,y)&&h.push(t.Gr.updateTargetData(a,I))});let f=ei(),m=Me();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))}),h.push(Pk(a,u,e.documentUpdates).next(y=>{f=y.Is,m=y.Es})),!r.isEqual(Ae.min())){const y=t.Gr.getLastRemoteSnapshotVersion(a).next(w=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(y)}return J.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,m)).next(()=>f)}).then(a=>(t.us=s,a))}function Pk(n,e,t){let r=Me(),s=Me();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=ei();return t.forEach((h,f)=>{const m=a.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(Ae.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):de("LocalStore","Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)}),{Is:u,Es:s}})}function kk(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Rk(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Gr.getTargetData(r,e).next(a=>a?(s=a,J.resolve(s)):t.Gr.allocateTargetId(r).next(u=>(s=new Fi(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.us.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function hp(n,e,t){const r=Pe(n),s=r.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!ya(u))throw u;de("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.us=r.us.remove(e),r.cs.delete(s.target)}function r_(n,e,t){const r=Pe(n);let s=Ae.min(),a=Me();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,m,y){const w=Pe(f),T=w.cs.get(y);return T!==void 0?J.resolve(w.us.get(T)):w.Gr.getTargetData(m,y)}(r,u,vr(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(u,h.targetId).next(f=>{a=f})}).next(()=>r._s.getDocumentsMatchingQuery(u,e,t?s:Ae.min(),t?a:Me())).next(h=>(bk(r,vP(e),h),{documents:h,ds:a})))}function bk(n,e,t){let r=n.ls.get(e)||Ae.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ls.set(e,r)}class i_{constructor(){this.activeTargetIds=SP()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xk{constructor(){this._o=new i_,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new i_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc=null;function Pf(){return Pc===null?Pc=function(){return 268435456+Math.round(2147483648*Math.random())}():Pc++,"0x"+Pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class Mk extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${s}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Oo(t,r,s,a,u){const h=Pf(),f=this.No(t,r.toUriEncodedString());de("RestConnection",`Sending RPC '${t}' ${h}:`,f,s);const m={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(m,a,u),this.Bo(t,f,m,s).then(y=>(de("RestConnection",`Received RPC '${t}' ${h}: `,y),y),y=>{throw ia("RestConnection",`RPC '${t}' ${h} failed with error: `,y,"url: ",f,"request:",s),y})}ko(t,r,s,a,u,h){return this.Oo(t,r,s,a,u)}Lo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ga}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,u)=>t[u]=a),s&&s.headers.forEach((a,u)=>t[u]=a)}No(t,r){const s=Dk[t];return`${this.Fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,r,s){const a=Pf();return new Promise((u,h)=>{const f=new K0;f.setWithCredentials(!0),f.listenOnce(Q0.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Fc.NO_ERROR:const y=f.getResponseJson();de(zt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),u(y);break;case Fc.TIMEOUT:de(zt,`RPC '${e}' ${a} timed out`),h(new me(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const w=f.getStatus();if(de(zt,`RPC '${e}' ${a} failed with status:`,w,"response text:",f.getResponseText()),w>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const I=T==null?void 0:T.error;if(I&&I.status&&I.message){const R=function(P){const z=P.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(z)>=0?z:Z.UNKNOWN}(I.status);h(new me(R,I.message))}else h(new me(Z.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new me(Z.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{de(zt,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(s);de(zt,`RPC '${e}' ${a} sending request:`,s),f.send(t,"POST",m,r,15)})}qo(e,t,r){const s=Pf(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=J0(),h=X0(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Lo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=a.join("");de(zt,`Creating RPC '${e}' stream ${s}: ${y}`,f);const w=u.createWebChannel(y,f);let T=!1,I=!1;const R=new Ok({Eo:P=>{I?de(zt,`Not sending because RPC '${e}' stream ${s} is closed:`,P):(T||(de(zt,`Opening RPC '${e}' stream ${s} transport.`),w.open(),T=!0),de(zt,`RPC '${e}' stream ${s} sending:`,P),w.send(P))},Ao:()=>w.close()}),A=(P,z,H)=>{P.listen(z,Q=>{try{H(Q)}catch(Y){setTimeout(()=>{throw Y},0)}})};return A(w,El.EventType.OPEN,()=>{I||(de(zt,`RPC '${e}' stream ${s} transport opened.`),R.So())}),A(w,El.EventType.CLOSE,()=>{I||(I=!0,de(zt,`RPC '${e}' stream ${s} transport closed`),R.Do())}),A(w,El.EventType.ERROR,P=>{I||(I=!0,ia(zt,`RPC '${e}' stream ${s} transport errored:`,P),R.Do(new me(Z.UNAVAILABLE,"The operation could not be completed")))}),A(w,El.EventType.MESSAGE,P=>{var z;if(!I){const H=P.data[0];qe(!!H);const Q=H,Y=(Q==null?void 0:Q.error)||((z=Q[0])===null||z===void 0?void 0:z.error);if(Y){de(zt,`RPC '${e}' stream ${s} received error:`,Y);const ie=Y.status;let se=function(b){const D=gt[b];if(D!==void 0)return Sw(D)}(ie),N=Y.message;se===void 0&&(se=Z.INTERNAL,N="Unknown error status: "+ie+" with message "+Y.message),I=!0,R.Do(new me(se,N)),w.close()}else de(zt,`RPC '${e}' stream ${s} received:`,H),R.vo(H)}}),A(h,Y0.STAT_EVENT,P=>{P.stat===tp.PROXY?de(zt,`RPC '${e}' stream ${s} detected buffering proxy`):P.stat===tp.NOPROXY&&de(zt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{R.bo()},0),R}}function kf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(n){return new BP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,t,r=1e3,s=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=s,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),s=Math.max(0,t-r);s>0&&de("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,t,r,s,a,u,h,f){this.li=e,this.Yo=r,this.Zo=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Lw(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(Zr(t.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Xo===t&&this.I_(r,s)},r=>{e(()=>{const s=new me(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(s)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{r(()=>this.E_(s))}),this.stream.onMessage(s=>{r(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return de("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Lk extends Vw{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=HP(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ae.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ae.min():u.readTime?_r(u.readTime):Ae.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=dp(this.serializer),t.addTarget=function(a,u){let h;const f=u.target;if(h=op(f)?{documents:KP(a,f)}:{query:QP(a,f).ct},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=Aw(a,u.resumeToken);const m=lp(a,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ae.min())>0){h.readTime=ad(a,u.snapshotVersion.toTimestamp());const m=lp(a,u.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const r=XP(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=dp(this.serializer),t.removeTarget=e,this.c_(t)}}class Vk extends Vw{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=GP(e.writeResults,e.commitTime),r=_r(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=dp(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>qP(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Oo(e,up(t,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(Z.UNKNOWN,a.toString())})}ko(e,t,r,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.ko(e,up(t,r),s,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(Z.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class Uk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Zr(t),this.C_=!1):de("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(u=>{r.enqueueAndForget(async()=>{Ko(this)&&(de("RemoteStore","Restarting streams for network reachability change."),await async function(f){const m=Pe(f);m.k_.add(4),await Zl(m),m.K_.set("Unknown"),m.k_.delete(4),await xd(m)}(this))})}),this.K_=new Uk(r,s)}}async function xd(n){if(Ko(n))for(const e of n.q_)await e(!0)}async function Zl(n){for(const e of n.q_)await e(!1)}function Fw(n,e){const t=Pe(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),im(t)?rm(t):_a(t).s_()&&nm(t,e))}function tm(n,e){const t=Pe(n),r=_a(t);t.B_.delete(e),r.s_()&&Uw(t,e),t.B_.size===0&&(r.s_()?r.a_():Ko(t)&&t.K_.set("Unknown"))}function nm(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_a(n).V_(e)}function Uw(n,e){n.U_.xe(e),_a(n).m_(e)}function rm(n){n.U_=new FP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),_a(n).start(),n.K_.F_()}function im(n){return Ko(n)&&!_a(n).i_()&&n.B_.size>0}function Ko(n){return Pe(n).k_.size===0}function jw(n){n.U_=void 0}async function zk(n){n.K_.set("Online")}async function Bk(n){n.B_.forEach((e,t)=>{nm(n,e)})}async function Wk(n,e){jw(n),im(n)?(n.K_.O_(e),rm(n)):n.K_.set("Unknown")}async function $k(n,e,t){if(n.K_.set("Online"),e instanceof Cw&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const h of a.targetIds)s.B_.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.B_.delete(h),s.U_.removeTarget(h))}(n,e)}catch(r){de("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ud(n,r)}else if(e instanceof Bc?n.U_.$e(e):e instanceof Iw?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ae.min()))try{const r=await Mw(n.localStore);t.compareTo(r)>=0&&await function(a,u){const h=a.U_.it(u);return h.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=a.B_.get(m);y&&a.B_.set(m,y.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,m)=>{const y=a.B_.get(f);if(!y)return;a.B_.set(f,y.withResumeToken(Lt.EMPTY_BYTE_STRING,y.snapshotVersion)),Uw(a,f);const w=new Fi(y.target,f,m,y.sequenceNumber);nm(a,w)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){de("RemoteStore","Failed to raise snapshot:",r),await ud(n,r)}}async function ud(n,e,t){if(!ya(e))throw e;n.k_.add(1),await Zl(n),n.K_.set("Offline"),t||(t=()=>Mw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{de("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await xd(n)})}function zw(n,e){return e().catch(t=>ud(n,t,e))}async function Nd(n){const e=Pe(n),t=Ki(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;Hk(e);)try{const s=await kk(e.localStore,r);if(s===null){e.L_.length===0&&t.a_();break}r=s.batchId,qk(e,s)}catch(s){await ud(e,s)}Bw(e)&&Ww(e)}function Hk(n){return Ko(n)&&n.L_.length<10}function qk(n,e){n.L_.push(e);const t=Ki(n);t.s_()&&t.f_&&t.g_(e.mutations)}function Bw(n){return Ko(n)&&!Ki(n).i_()&&n.L_.length>0}function Ww(n){Ki(n).start()}async function Gk(n){Ki(n).w_()}async function Kk(n){const e=Ki(n);for(const t of n.L_)e.g_(t.mutations)}async function Qk(n,e,t){const r=n.L_.shift(),s=Qp.from(r,e,t);await zw(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Nd(n)}async function Yk(n,e){e&&Ki(n).f_&&await async function(r,s){if(function(u){return MP(u)&&u!==Z.ABORTED}(s.code)){const a=r.L_.shift();Ki(r).__(),await zw(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Nd(r)}}(n,e),Bw(n)&&Ww(n)}async function s_(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const r=Ko(t);t.k_.add(3),await Zl(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await xd(t)}async function Xk(n,e){const t=Pe(n);e?(t.k_.delete(2),await xd(t)):e||(t.k_.add(2),await Zl(t),t.K_.set("Unknown"))}function _a(n){return n.W_||(n.W_=function(t,r,s){const a=Pe(t);return a.b_(),new Lk(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:zk.bind(null,n),mo:Bk.bind(null,n),po:Wk.bind(null,n),R_:$k.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),im(n)?rm(n):n.K_.set("Unknown")):(await n.W_.stop(),jw(n))})),n.W_}function Ki(n){return n.G_||(n.G_=function(t,r,s){const a=Pe(t);return a.b_(),new Vk(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:Gk.bind(null,n),po:Yk.bind(null,n),p_:Kk.bind(null,n),y_:Qk.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Nd(n)):(await n.G_.stop(),n.L_.length>0&&(de("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Fo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,h=new om(e,t,u,s,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sm(n,e){if(Zr("AsyncQueue",`${e}: ${n}`),ya(n))return new me(Z.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{static emptySet(e){return new Ys(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ye.comparator(t.key,r.key):(t,r)=>ye.comparator(t.key,r.key),this.keyedMap=Tl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ys)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ys;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(){this.z_=new lt(ye.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ie():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class ua{constructor(e,t,r,s,a,u,h,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new ua(e,t,Ys.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class Zk{constructor(){this.queries=l_(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const s=Pe(t),a=s.queries;s.queries=l_(),a.forEach((u,h)=>{for(const f of h.J_)f.onError(r)})})(this,new me(Z.ABORTED,"Firestore shutting down"))}}function l_(){return new qo(n=>dw(n),Cd)}async function eR(n,e){const t=Pe(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Y_()&&e.Z_()&&(r=2):(a=new Jk,r=e.Z_()?0:1);try{switch(r){case 0:a.H_=await t.onListen(s,!0);break;case 1:a.H_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const h=sm(u,`Initialization of query '${$s(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&am(t)}async function tR(n,e){const t=Pe(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.J_.indexOf(e);u>=0&&(a.J_.splice(u,1),a.J_.length===0?s=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function nR(n,e){const t=Pe(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const h of u.J_)h.ta(s)&&(r=!0);u.H_=s}}r&&am(t)}function rR(n,e,t){const r=Pe(n),s=r.queries.get(e);if(s)for(const a of s.J_)a.onError(t);r.queries.delete(e)}function am(n){n.X_.forEach(e=>{e.next()})}var fp,u_;(u_=fp||(fp={})).na="default",u_.Cache="cache";class iR{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ua(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==fp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e){this.key=e}}class Hw{constructor(e){this.key=e}}class oR{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Me(),this.mutatedKeys=Me(),this.Va=hw(e),this.ma=new Ys(this.Va)}get fa(){return this.da}ga(e,t){const r=t?t.pa:new a_,s=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,w)=>{const T=s.get(y),I=Ad(this.query,w)?w:null,R=!!T&&this.mutatedKeys.has(T.key),A=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let P=!1;T&&I?T.data.isEqual(I.data)?R!==A&&(r.track({type:3,doc:I}),P=!0):this.ya(T,I)||(r.track({type:2,doc:I}),P=!0,(f&&this.Va(I,f)>0||m&&this.Va(I,m)<0)&&(h=!0)):!T&&I?(r.track({type:0,doc:I}),P=!0):T&&!I&&(r.track({type:1,doc:T}),P=!0,(f||m)&&(h=!0)),P&&(I?(u=u.add(I),a=A?a.add(y):a.delete(y)):(u=u.delete(y),a=a.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{ma:u,pa:r,ss:h,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((y,w)=>function(I,R){const A=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return A(I)-A(R)}(y.type,w.type)||this.Va(y.doc,w.doc)),this.wa(r),s=s!=null&&s;const h=t&&!s?this.Sa():[],f=this.Ra.size===0&&this.current&&!s?1:0,m=f!==this.Aa;return this.Aa=f,u.length!==0||m?{snapshot:new ua(this.query,e.ma,a,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:h}:{ba:h}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new a_,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Me(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new Hw(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new $w(r))}),t}va(e){this.da=e.ds,this.Ra=Me();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return ua.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class sR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class aR{constructor(e){this.key=e,this.Fa=!1}}class lR{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new qo(h=>dw(h),Cd),this.Oa=new Map,this.Na=new Set,this.La=new lt(ye.comparator),this.Ba=new Map,this.ka=new Jp,this.qa={},this.Qa=new Map,this.Ka=la.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function uR(n,e,t=!0){const r=Xw(n);let s;const a=r.xa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Ca()):s=await qw(r,e,t,!0),s}async function cR(n,e){const t=Xw(n);await qw(t,e,!0,!1)}async function qw(n,e,t,r){const s=await Rk(n.localStore,vr(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return r&&(h=await dR(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&Fw(n.remoteStore,s),h}async function dR(n,e,t,r,s){n.Ua=(w,T,I)=>async function(A,P,z,H){let Q=P.view.ga(z);Q.ss&&(Q=await r_(A.localStore,P.query,!1).then(({documents:N})=>P.view.ga(N,Q)));const Y=H&&H.targetChanges.get(P.targetId),ie=H&&H.targetMismatches.get(P.targetId)!=null,se=P.view.applyChanges(Q,A.isPrimaryClient,Y,ie);return d_(A,P.targetId,se.ba),se.snapshot}(n,w,T,I);const a=await r_(n.localStore,e,!0),u=new oR(e,a.ds),h=u.ga(a.documents),f=Jl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),m=u.applyChanges(h,n.isPrimaryClient,f);d_(n,t,m.ba);const y=new sR(e,t,u);return n.xa.set(e,y),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),m.snapshot}async function hR(n,e,t){const r=Pe(n),s=r.xa.get(e),a=r.Oa.get(s.targetId);if(a.length>1)return r.Oa.set(s.targetId,a.filter(u=>!Cd(u,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await hp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&tm(r.remoteStore,s.targetId),pp(r,s.targetId)}).catch(va)):(pp(r,s.targetId),await hp(r.localStore,s.targetId,!0))}async function fR(n,e){const t=Pe(n),r=t.xa.get(e),s=t.Oa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),tm(t.remoteStore,r.targetId))}async function pR(n,e,t){const r=ER(n);try{const s=await function(u,h){const f=Pe(u),m=St.now(),y=h.reduce((I,R)=>I.add(R.key),Me());let w,T;return f.persistence.runTransaction("Locally write mutations","readwrite",I=>{let R=ei(),A=Me();return f.hs.getEntries(I,y).next(P=>{R=P,R.forEach((z,H)=>{H.isValidDocument()||(A=A.add(z))})}).next(()=>f.localDocuments.getOverlayedDocuments(I,R)).next(P=>{w=P;const z=[];for(const H of h){const Q=bP(H,w.get(H.key).overlayedDocument);Q!=null&&z.push(new Go(H.key,Q,rw(Q.value.mapValue),yr.exists(!0)))}return f.mutationQueue.addMutationBatch(I,m,z,h)}).next(P=>{T=P;const z=P.applyToLocalDocumentSet(w,A);return f.documentOverlayCache.saveOverlays(I,P.batchId,z)})}).then(()=>({batchId:T.batchId,changes:pw(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,h,f){let m=u.qa[u.currentUser.toKey()];m||(m=new lt(Ve)),m=m.insert(h,f),u.qa[u.currentUser.toKey()]=m}(r,s.batchId,t),await eu(r,s.changes),await Nd(r.remoteStore)}catch(s){const a=sm(s,"Failed to persist write");t.reject(a)}}async function Gw(n,e){const t=Pe(n);try{const r=await Ak(t.localStore,e);e.targetChanges.forEach((s,a)=>{const u=t.Ba.get(a);u&&(qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.Fa=!0:s.modifiedDocuments.size>0?qe(u.Fa):s.removedDocuments.size>0&&(qe(u.Fa),u.Fa=!1))}),await eu(t,r,e)}catch(r){await va(r)}}function c_(n,e,t){const r=Pe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.xa.forEach((a,u)=>{const h=u.view.ea(e);h.snapshot&&s.push(h.snapshot)}),function(u,h){const f=Pe(u);f.onlineState=h;let m=!1;f.queries.forEach((y,w)=>{for(const T of w.J_)T.ea(h)&&(m=!0)}),m&&am(f)}(r.eventManager,e),s.length&&r.Ma.R_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function mR(n,e,t){const r=Pe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Ba.get(e),a=s&&s.key;if(a){let u=new lt(ye.comparator);u=u.insert(a,Wt.newNoDocument(a,Ae.min()));const h=Me().add(a),f=new Rd(Ae.min(),new Map,new lt(Ve),u,h);await Gw(r,f),r.La=r.La.remove(a),r.Ba.delete(e),lm(r)}else await hp(r.localStore,e,!1).then(()=>pp(r,e,t)).catch(va)}async function gR(n,e){const t=Pe(n),r=e.batch.batchId;try{const s=await Ck(t.localStore,e);Qw(t,r,null),Kw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await eu(t,s)}catch(s){await va(s)}}async function vR(n,e,t){const r=Pe(n);try{const s=await function(u,h){const f=Pe(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return f.mutationQueue.lookupMutationBatch(m,h).next(w=>(qe(w!==null),y=w.keys(),f.mutationQueue.removeMutationBatch(m,w))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,y,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>f.localDocuments.getDocuments(m,y))})}(r.localStore,e);Qw(r,e,t),Kw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await eu(r,s)}catch(s){await va(s)}}function Kw(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function Qw(n,e,t){const r=Pe(n);let s=r.qa[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.qa[r.currentUser.toKey()]=s}}function pp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||Yw(n,r)})}function Yw(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(tm(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),lm(n))}function d_(n,e,t){for(const r of t)r instanceof $w?(n.ka.addReference(r.key,e),yR(n,r)):r instanceof Hw?(de("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||Yw(n,r.key)):Ie()}function yR(n,e){const t=e.key,r=t.path.canonicalString();n.La.get(t)||n.Na.has(r)||(de("SyncEngine","New document in limbo: "+t),n.Na.add(r),lm(n))}function lm(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new ye(rt.fromString(e)),r=n.Ka.next();n.Ba.set(r,new aR(t)),n.La=n.La.insert(t,r),Fw(n.remoteStore,new Fi(vr(qp(t.path)),r,"TargetPurposeLimboResolution",Td.oe))}}async function eu(n,e,t){const r=Pe(n),s=[],a=[],u=[];r.xa.isEmpty()||(r.xa.forEach((h,f)=>{u.push(r.Ua(f,e,t).then(m=>{var y;if((m||t)&&r.isPrimaryClient){const w=m?!m.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(m){s.push(m);const w=em.zi(f.targetId,m);a.push(w)}}))}),await Promise.all(u),r.Ma.R_(s),await async function(f,m){const y=Pe(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>J.forEach(m,T=>J.forEach(T.Wi,I=>y.persistence.referenceDelegate.addReference(w,T.targetId,I)).next(()=>J.forEach(T.Gi,I=>y.persistence.referenceDelegate.removeReference(w,T.targetId,I)))))}catch(w){if(!ya(w))throw w;de("LocalStore","Failed to update sequence numbers: "+w)}for(const w of m){const T=w.targetId;if(!w.fromCache){const I=y.us.get(T),R=I.snapshotVersion,A=I.withLastLimboFreeSnapshotVersion(R);y.us=y.us.insert(T,A)}}}(r.localStore,a))}async function _R(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){de("SyncEngine","User change. New user:",e.toKey());const r=await Ow(t.localStore,e);t.currentUser=e,function(a,u){a.Qa.forEach(h=>{h.forEach(f=>{f.reject(new me(Z.CANCELLED,u))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await eu(t,r.Ts)}}function wR(n,e){const t=Pe(n),r=t.Ba.get(e);if(r&&r.Fa)return Me().add(r.key);{let s=Me();const a=t.Oa.get(e);if(!a)return s;for(const u of a){const h=t.xa.get(u);s=s.unionWith(h.view.fa)}return s}}function Xw(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Gw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mR.bind(null,e),e.Ma.R_=nR.bind(null,e.eventManager),e.Ma.Wa=rR.bind(null,e.eventManager),e}function ER(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vR.bind(null,e),e}class cd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return Ik(this.persistence,new Tk,e.initialUser,this.serializer)}ja(e){return new Dw(Zp.ei,this.serializer)}za(e){return new xk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cd.provider={build:()=>new cd};class TR extends cd{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){qe(this.persistence.referenceDelegate instanceof ld);const r=this.persistence.referenceDelegate.garbageCollector;return new ak(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new Dw(r=>ld.ei(r,t),this.serializer)}}class mp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>c_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_R.bind(null,this.syncEngine),await Xk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Zk}()}createDatastore(e){const t=bd(e.databaseInfo.databaseId),r=function(a){return new Mk(a)}(e.databaseInfo);return function(a,u,h,f){return new Fk(a,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,u,h){return new jk(r,s,a,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>c_(this.syncEngine,t,0),function(){return o_.p()?new o_:new Nk}())}createSyncEngine(e,t){return function(s,a,u,h,f,m,y){const w=new lR(s,a,u,h,f,m);return y&&(w.$a=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=Pe(s);de("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await Zl(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}mp.provider={build:()=>new mp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Bt.UNAUTHENTICATED,this.clientId=ew.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{de("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(de("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=sm(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Rf(n,e){n.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Ow(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function h_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await CR(n);de("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>s_(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>s_(e.remoteStore,s)),n._onlineComponents=e}async function CR(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{await Rf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===Z.FAILED_PRECONDITION||s.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;ia("Error using user provided cache. Falling back to memory cache: "+t),await Rf(n,new cd)}}else de("FirestoreClient","Using default OfflineComponentProvider"),await Rf(n,new TR(void 0));return n._offlineComponents}async function Jw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),await h_(n,n._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),await h_(n,new mp))),n._onlineComponents}function AR(n){return Jw(n).then(e=>e.syncEngine)}async function f_(n){const e=await Jw(n),t=e.eventManager;return t.onListen=uR.bind(null,e.syncEngine),t.onUnlisten=hR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=cR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=fR.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(n,e,t){if(!t)throw new me(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function PR(n,e,t,r){if(e===!0&&r===!0)throw new me(Z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function m_(n){if(!ye.isDocumentKey(n))throw new me(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function g_(n){if(ye.isDocumentKey(n))throw new me(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Dd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie()}function Xs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Dd(n);throw new me(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new me(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new me(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zw((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Od{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new VA;switch(r.type){case"firstParty":return new zA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=p_.get(t);r&&(de("ComponentProvider","Removing Datastore"),p_.delete(t),r.terminate())}(this),Promise.resolve()}}function kR(n,e,t,r={}){var s;const a=(n=Xs(n,Od))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Bt.MOCK_USER;else{h=cS(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new me(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Bt(m)}n._authCredentials=new FA(new Z0(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wa(this.firestore,e,this._query)}}class yn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class Bi extends wa{constructor(e,t,r){super(e,t,qp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new ye(e))}withConverter(e){return new Bi(this.firestore,e,this._path)}}function RR(n,e,...t){if(n=Yt(n),eE("collection","path",e),n instanceof Od){const r=rt.fromString(e,...t);return g_(r),new Bi(n,null,r)}{if(!(n instanceof yn||n instanceof Bi))throw new me(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rt.fromString(e,...t));return g_(r),new Bi(n.firestore,null,r)}}function tE(n,e,...t){if(n=Yt(n),arguments.length===1&&(e=ew.newId()),eE("doc","path",e),n instanceof Od){const r=rt.fromString(e,...t);return m_(r),new yn(n,null,new ye(r))}{if(!(n instanceof yn||n instanceof Bi))throw new me(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rt.fromString(e,...t));return m_(r),new yn(n.firestore,n instanceof Bi?n.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Lw(this,"async_queue_retry"),this.fu=()=>{const r=kf();r&&de("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=kf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=kf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Fo;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ya(e))throw e;de("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const s=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(r);throw Zr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const s=om.createAndSchedule(this,e,t,r,a=>this.Su(a));return this.du.push(s),s}pu(){this.Au&&Ie()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function __(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1}(n,["next","error","complete"])}class jl extends Od{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new y_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new y_(e),this._firestoreClient=void 0,await e}}}function bR(n,e){const t=typeof n=="object"?n:f0(),r=typeof n=="string"?n:"(default)",s=bp(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=lS("firestore");a&&kR(s,...a)}return s}function nE(n){if(n._terminated)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||xR(n),n._firestoreClient}function xR(n){var e,t,r;const s=n._freezeSettings(),a=function(h,f,m,y){return new nP(h,f,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,Zw(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new IR(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ca(Lt.fromBase64String(e))}catch(t){throw new me(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ca(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=/^__.*__$/;class DR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Go(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xl(e,this.data,t,this.fieldTransforms)}}function iE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class hm{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new hm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Lu(e),s}Bu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return dd(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(iE(this.Mu)&&NR.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class OR{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||bd(e)}$u(e,t,r,s=!1){return new hm({Mu:e,methodName:t,Ku:r,path:Mt.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oE(n){const e=n._freezeSettings(),t=bd(n._databaseId);return new OR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function MR(n,e,t,r,s,a={}){const u=n.$u(a.merge||a.mergeFields?2:0,e,t,s);lE("Data must be an object, but it was:",u,r);const h=sE(r,u);let f,m;if(a.merge)f=new Qn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const y=[];for(const w of a.mergeFields){const T=VR(e,w,t);if(!u.contains(T))throw new me(Z.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);UR(y,T)||y.push(T)}f=new Qn(y),m=u.fieldTransforms.filter(w=>f.covers(w.field))}else f=null,m=u.fieldTransforms;return new DR(new Nn(h),f,m)}function LR(n,e,t,r=!1){return fm(t,n.$u(r?4:3,e))}function fm(n,e){if(aE(n=Yt(n)))return lE("Unsupported field value:",e,n),sE(n,e);if(n instanceof rE)return function(r,s){if(!iE(s.Mu))throw s.qu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const h of r){let f=fm(h,s.ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=Yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return IP(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=St.fromDate(r);return{timestampValue:ad(s.serializer,a)}}if(r instanceof St){const a=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ad(s.serializer,a)}}if(r instanceof cm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ca)return{bytesValue:Aw(s.serializer,r._byteString)};if(r instanceof yn){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Xp(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof dm)return function(u,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw h.qu("VectorValues must only contain numeric values.");return Gp(h.serializer,f)})}}}}}}(r,s);throw s.qu(`Unsupported field value: ${Dd(r)}`)}(n,e)}function sE(n,e){const t={};return tw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ho(n,(r,s)=>{const a=fm(s,e.Ou(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function aE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof St||n instanceof cm||n instanceof ca||n instanceof yn||n instanceof rE||n instanceof dm)}function lE(n,e,t){if(!aE(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=Dd(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function VR(n,e,t){if((e=Yt(e))instanceof um)return e._internalPath;if(typeof e=="string")return uE(n,e);throw dd("Field path arguments must be of type string or ",n,!1,void 0,t)}const FR=new RegExp("[~\\*/\\[\\]]");function uE(n,e,t){if(e.search(FR)>=0)throw dd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new um(...e.split("."))._internalPath}catch{throw dd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dd(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new me(Z.INVALID_ARGUMENT,h+n+f)}function UR(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class jR extends cE{data(){return super.data()}}function dE(n,e){return typeof e=="string"?uE(n,e):e instanceof um?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pm{}class BR extends pm{}function WR(n,e,...t){let r=[];e instanceof pm&&r.push(e),r=r.concat(t),function(a){const u=a.filter(f=>f instanceof gm).length,h=a.filter(f=>f instanceof mm).length;if(u>1||u>0&&h>0)throw new me(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class mm extends BR{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new mm(e,t,r)}_apply(e){const t=this._parse(e);return hE(e._query,t),new wa(e.firestore,e.converter,sp(e._query,t))}_parse(e){const t=oE(e.firestore);return function(a,u,h,f,m,y,w){let T;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new me(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){E_(w,y);const I=[];for(const R of w)I.push(w_(f,a,R));T={arrayValue:{values:I}}}else T=w_(f,a,w)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||E_(w,y),T=LR(h,u,w,y==="in"||y==="not-in");return vt.create(m,y,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class gm extends pm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new gm(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Xn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,a){let u=s;const h=a.getFlattenedFilters();for(const f of h)hE(u,f),u=sp(u,f)}(e._query,t),new wa(e.firestore,e.converter,sp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function w_(n,e,t){if(typeof(t=Yt(t))=="string"){if(t==="")throw new me(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cw(e)&&t.indexOf("/")!==-1)throw new me(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(rt.fromString(t));if(!ye.isDocumentKey(r))throw new me(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Uy(n,new ye(r))}if(t instanceof yn)return Uy(n,t._key);throw new me(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dd(t)}.`)}function E_(n,e){if(!Array.isArray(n)||n.length===0)throw new me(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hE(n,e){const t=function(s,a){for(const u of s)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new me(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class $R{convertValue(e,t="none"){switch(Gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ho(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>ft(u.doubleValue));return new dm(a)}convertGeoPoint(e){return new cm(ft(e.latitude),ft(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Id(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ml(e));default:return null}}convertTimestamp(e){const t=Hi(e);return new St(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=rt.fromString(e);qe(Nw(r));const s=new Ll(r.get(1),r.get(3)),a=new ye(r.popFirst(5));return s.isEqual(t)||Zr(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fE extends cE{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(dE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Wc extends fE{data(e={}){return super.data(e)}}class qR{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Il(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Wc(this._firestore,this._userDataWriter,r.key,r,new Il(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(h=>{const f=new Wc(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Il(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new Wc(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Il(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,y=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:GR(h.type),doc:f,oldIndex:m,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function GR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}class pE extends $R{constructor(e){super(),this.firestore=e}convertBytes(e){return new ca(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,t)}}function KR(n){return mE(Xs(n.firestore,jl),[new Kp(n._key,yr.none())])}function QR(n,e){const t=Xs(n.firestore,jl),r=tE(n),s=HR(n.converter,e);return mE(t,[MR(oE(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,yr.exists(!1))]).then(()=>r)}function YR(n,...e){var t,r,s;n=Yt(n);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||__(e[u])||(a=e[u],u++);const h={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(__(e[u])){const w=e[u];e[u]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[u+1]=(r=w.error)===null||r===void 0?void 0:r.bind(w),e[u+2]=(s=w.complete)===null||s===void 0?void 0:s.bind(w)}let f,m,y;if(n instanceof yn)m=Xs(n.firestore,jl),y=qp(n._key.path),f={next:w=>{e[u]&&e[u](XR(m,n,w))},error:e[u+1],complete:e[u+2]};else{const w=Xs(n,wa);m=Xs(w.firestore,jl),y=w._query;const T=new pE(m);f={next:I=>{e[u]&&e[u](new qR(m,T,w,I))},error:e[u+1],complete:e[u+2]},zR(n._query)}return function(T,I,R,A){const P=new SR(A),z=new iR(I,P,R);return T.asyncQueue.enqueueAndForget(async()=>eR(await f_(T),z)),()=>{P.eu(),T.asyncQueue.enqueueAndForget(async()=>tR(await f_(T),z))}}(nE(m),y,h,f)}function mE(n,e){return function(r,s){const a=new Fo;return r.asyncQueue.enqueueAndForget(async()=>pR(await AR(r),s,a)),a.promise}(nE(n),e)}function XR(n,e,t){const r=t.docs.get(e._key),s=new pE(n);return new fE(n,s,e._key,r,new Il(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){ga=s})(pa),na(new Uo("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new jl(new UA(r.getProvider("auth-internal")),new WA(r.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new me(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(m.options.projectId,y)}(u,s),u);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),zi(Dy,"4.7.5",e),zi(Dy,"4.7.5","esm2017")})();const JR={apiKey:"AIzaSyD6GhGi3Mx64S-MU3xksAbaAY9FdS5NW2g",authDomain:"to-do-list-62c03.firebaseapp.com",projectId:"to-do-list-62c03",storageBucket:"to-do-list-62c03.firebasestorage.app",messagingSenderId:"63800374107",appId:"1:63800374107:web:45c68014a2e5587fa7e07e",measurementId:"G-QN68NZQ3V3"},gE=h0(JR),xl=MA(gE),vm=new qr;vm.addScope("profile");vm.addScope("email");const T_=bR(gE),ZR=()=>{const n=async()=>{try{await $C(xl,vm)}catch(e){console.error("Error signing in: ",e)}};return j.jsx("div",{className:"flex items-center justify-center w-screen h-screen",children:j.jsx("button",{onClick:n,className:"px-4 py-2 bg-focus text-white rounded hover:bg-focus transition",children:"Sign in with Google"})})};function eb(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function vE(...n){return e=>n.forEach(t=>eb(t,e))}function Zi(...n){return V.useCallback(vE(...n),n)}var Md=V.forwardRef((n,e)=>{const{children:t,...r}=n,s=V.Children.toArray(t),a=s.find(nb);if(a){const u=a.props.children,h=s.map(f=>f===a?V.Children.count(u)>1?V.Children.only(null):V.isValidElement(u)?u.props.children:null:f);return j.jsx(gp,{...r,ref:e,children:V.isValidElement(u)?V.cloneElement(u,void 0,h):null})}return j.jsx(gp,{...r,ref:e,children:t})});Md.displayName="Slot";var gp=V.forwardRef((n,e)=>{const{children:t,...r}=n;if(V.isValidElement(t)){const s=ib(t);return V.cloneElement(t,{...rb(r,t.props),ref:e?vE(e,s):s})}return V.Children.count(t)>1?V.Children.only(null):null});gp.displayName="SlotClone";var tb=({children:n})=>j.jsx(j.Fragment,{children:n});function nb(n){return V.isValidElement(n)&&n.type===tb}function rb(n,e){const t={...e};for(const r in e){const s=n[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?t[r]=(...h)=>{a(...h),s(...h)}:s&&(t[r]=s):r==="style"?t[r]={...s,...a}:r==="className"&&(t[r]=[s,a].filter(Boolean).join(" "))}return{...n,...t}}function ib(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function yE(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=yE(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function _E(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=yE(n))&&(r&&(r+=" "),r+=e);return r}const S_=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,I_=_E,ob=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return I_(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:a}=e,u=Object.keys(s).map(m=>{const y=t==null?void 0:t[m],w=a==null?void 0:a[m];if(y===null)return null;const T=S_(y)||S_(w);return s[m][T]}),h=t&&Object.entries(t).reduce((m,y)=>{let[w,T]=y;return T===void 0||(m[w]=T),m},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((m,y)=>{let{class:w,className:T,...I}=y;return Object.entries(I).every(R=>{let[A,P]=R;return Array.isArray(P)?P.includes({...a,...h}[A]):{...a,...h}[A]===P})?[...m,w,T]:m},[]);return I_(n,u,f,t==null?void 0:t.class,t==null?void 0:t.className)},ym="-",sb=n=>{const e=lb(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:u=>{const h=u.split(ym);return h[0]===""&&h.length!==1&&h.shift(),wE(h,e)||ab(u)},getConflictingClassGroupIds:(u,h)=>{const f=t[u]||[];return h&&r[u]?[...f,...r[u]]:f}}},wE=(n,e)=>{var u;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?wE(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const a=n.join(ym);return(u=e.validators.find(({validator:h})=>h(a)))==null?void 0:u.classGroupId},C_=/^\[(.+)\]$/,ab=n=>{if(C_.test(n)){const e=C_.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},lb=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return cb(Object.entries(n.classGroups),t).forEach(([a,u])=>{vp(u,r,a,e)}),r},vp=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const a=s===""?e:A_(e,s);a.classGroupId=t;return}if(typeof s=="function"){if(ub(s)){vp(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([a,u])=>{vp(u,A_(e,a),t,r)})})},A_=(n,e)=>{let t=n;return e.split(ym).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},ub=n=>n.isThemeGetter,cb=(n,e)=>e?n.map(([t,r])=>{const s=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([u,h])=>[e+u,h])):a);return[t,s]}):n,db=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(a,u)=>{t.set(a,u),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let u=t.get(a);if(u!==void 0)return u;if((u=r.get(a))!==void 0)return s(a,u),u},set(a,u){t.has(a)?t.set(a,u):s(a,u)}}},EE="!",hb=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,s=e[0],a=e.length,u=h=>{const f=[];let m=0,y=0,w;for(let P=0;P<h.length;P++){let z=h[P];if(m===0){if(z===s&&(r||h.slice(P,P+a)===e)){f.push(h.slice(y,P)),y=P+a;continue}if(z==="/"){w=P;continue}}z==="["?m++:z==="]"&&m--}const T=f.length===0?h:h.substring(y),I=T.startsWith(EE),R=I?T.substring(1):T,A=w&&w>y?w-y:void 0;return{modifiers:f,hasImportantModifier:I,baseClassName:R,maybePostfixModifierPosition:A}};return t?h=>t({className:h,parseClassName:u}):u},fb=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},pb=n=>({cache:db(n.cacheSize),parseClassName:hb(n),...sb(n)}),mb=/\s+/,gb=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s}=e,a=[],u=n.trim().split(mb);let h="";for(let f=u.length-1;f>=0;f-=1){const m=u[f],{modifiers:y,hasImportantModifier:w,baseClassName:T,maybePostfixModifierPosition:I}=t(m);let R=!!I,A=r(R?T.substring(0,I):T);if(!A){if(!R){h=m+(h.length>0?" "+h:h);continue}if(A=r(T),!A){h=m+(h.length>0?" "+h:h);continue}R=!1}const P=fb(y).join(":"),z=w?P+EE:P,H=z+A;if(a.includes(H))continue;a.push(H);const Q=s(A,R);for(let Y=0;Y<Q.length;++Y){const ie=Q[Y];a.push(z+ie)}h=m+(h.length>0?" "+h:h)}return h};function vb(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=TE(e))&&(r&&(r+=" "),r+=t);return r}const TE=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=TE(n[r]))&&(t&&(t+=" "),t+=e);return t};function yb(n,...e){let t,r,s,a=u;function u(f){const m=e.reduce((y,w)=>w(y),n());return t=pb(m),r=t.cache.get,s=t.cache.set,a=h,h(f)}function h(f){const m=r(f);if(m)return m;const y=gb(f,t);return s(f,y),y}return function(){return a(vb.apply(null,arguments))}}const nt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},SE=/^\[(?:([a-z-]+):)?(.+)\]$/i,_b=/^\d+\/\d+$/,wb=new Set(["px","full","screen"]),Eb=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Tb=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Sb=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ib=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Cb=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$r=n=>Js(n)||wb.has(n)||_b.test(n),xi=n=>Ea(n,"length",Db),Js=n=>!!n&&!Number.isNaN(Number(n)),bf=n=>Ea(n,"number",Js),vl=n=>!!n&&Number.isInteger(Number(n)),Ab=n=>n.endsWith("%")&&Js(n.slice(0,-1)),be=n=>SE.test(n),Ni=n=>Eb.test(n),Pb=new Set(["length","size","percentage"]),kb=n=>Ea(n,Pb,IE),Rb=n=>Ea(n,"position",IE),bb=new Set(["image","url"]),xb=n=>Ea(n,bb,Mb),Nb=n=>Ea(n,"",Ob),yl=()=>!0,Ea=(n,e,t)=>{const r=SE.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},Db=n=>Tb.test(n)&&!Sb.test(n),IE=()=>!1,Ob=n=>Ib.test(n),Mb=n=>Cb.test(n),Lb=()=>{const n=nt("colors"),e=nt("spacing"),t=nt("blur"),r=nt("brightness"),s=nt("borderColor"),a=nt("borderRadius"),u=nt("borderSpacing"),h=nt("borderWidth"),f=nt("contrast"),m=nt("grayscale"),y=nt("hueRotate"),w=nt("invert"),T=nt("gap"),I=nt("gradientColorStops"),R=nt("gradientColorStopPositions"),A=nt("inset"),P=nt("margin"),z=nt("opacity"),H=nt("padding"),Q=nt("saturate"),Y=nt("scale"),ie=nt("sepia"),se=nt("skew"),N=nt("space"),C=nt("translate"),b=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",be,e],O=()=>[be,e],k=()=>["",$r,xi],Ee=()=>["auto",Js,be],Fe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ke=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],ue=()=>["","0",be],ae=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[Js,be];return{cacheSize:500,separator:":",theme:{colors:[yl],spacing:[$r,xi],blur:["none","",Ni,be],brightness:U(),borderColor:[n],borderRadius:["none","","full",Ni,be],borderSpacing:O(),borderWidth:k(),contrast:U(),grayscale:ue(),hueRotate:U(),invert:ue(),gap:O(),gradientColorStops:[n],gradientColorStopPositions:[Ab,xi],inset:L(),margin:L(),opacity:U(),padding:O(),saturate:U(),scale:U(),sepia:ue(),skew:U(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",be]}],container:["container"],columns:[{columns:[Ni]}],"break-after":[{"break-after":ae()}],"break-before":[{"break-before":ae()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Fe(),be]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:b()}],"overscroll-x":[{"overscroll-x":b()}],"overscroll-y":[{"overscroll-y":b()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[A]}],"inset-x":[{"inset-x":[A]}],"inset-y":[{"inset-y":[A]}],start:[{start:[A]}],end:[{end:[A]}],top:[{top:[A]}],right:[{right:[A]}],bottom:[{bottom:[A]}],left:[{left:[A]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vl,be]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",be]}],grow:[{grow:ue()}],shrink:[{shrink:ue()}],order:[{order:["first","last","none",vl,be]}],"grid-cols":[{"grid-cols":[yl]}],"col-start-end":[{col:["auto",{span:["full",vl,be]},be]}],"col-start":[{"col-start":Ee()}],"col-end":[{"col-end":Ee()}],"grid-rows":[{"grid-rows":[yl]}],"row-start-end":[{row:["auto",{span:[vl,be]},be]}],"row-start":[{"row-start":Ee()}],"row-end":[{"row-end":Ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",be]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",be]}],gap:[{gap:[T]}],"gap-x":[{"gap-x":[T]}],"gap-y":[{"gap-y":[T]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[H]}],px:[{px:[H]}],py:[{py:[H]}],ps:[{ps:[H]}],pe:[{pe:[H]}],pt:[{pt:[H]}],pr:[{pr:[H]}],pb:[{pb:[H]}],pl:[{pl:[H]}],m:[{m:[P]}],mx:[{mx:[P]}],my:[{my:[P]}],ms:[{ms:[P]}],me:[{me:[P]}],mt:[{mt:[P]}],mr:[{mr:[P]}],mb:[{mb:[P]}],ml:[{ml:[P]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",be,e]}],"min-w":[{"min-w":[be,e,"min","max","fit"]}],"max-w":[{"max-w":[be,e,"none","full","min","max","fit","prose",{screen:[Ni]},Ni]}],h:[{h:[be,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[be,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[be,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[be,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ni,xi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bf]}],"font-family":[{font:[yl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",be]}],"line-clamp":[{"line-clamp":["none",Js,bf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$r,be]}],"list-image":[{"list-image":["none",be]}],"list-style-type":[{list:["none","disc","decimal",be]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[z]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[z]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ke(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",$r,xi]}],"underline-offset":[{"underline-offset":["auto",$r,be]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[z]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Fe(),Rb]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",kb]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},xb]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[R]}],"gradient-via-pos":[{via:[R]}],"gradient-to-pos":[{to:[R]}],"gradient-from":[{from:[I]}],"gradient-via":[{via:[I]}],"gradient-to":[{to:[I]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[z]}],"border-style":[{border:[...ke(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[z]}],"divide-style":[{divide:ke()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ke()]}],"outline-offset":[{"outline-offset":[$r,be]}],"outline-w":[{outline:[$r,xi]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[z]}],"ring-offset-w":[{"ring-offset":[$r,xi]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Ni,Nb]}],"shadow-color":[{shadow:[yl]}],opacity:[{opacity:[z]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",Ni,be]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[w]}],saturate:[{saturate:[Q]}],sepia:[{sepia:[ie]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[z]}],"backdrop-saturate":[{"backdrop-saturate":[Q]}],"backdrop-sepia":[{"backdrop-sepia":[ie]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",be]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",be]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",be]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[Y]}],"scale-x":[{"scale-x":[Y]}],"scale-y":[{"scale-y":[Y]}],rotate:[{rotate:[vl,be]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[se]}],"skew-y":[{"skew-y":[se]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",be]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",be]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",be]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[$r,xi,bf]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Vb=yb(Lb);function Zs(...n){return Vb(_E(n))}const yp=ob("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-focus focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground ",destructive:"text-destructive-foreground ",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground hover:border-hover",secondary:"text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Cl=V.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...s},a)=>{const u=r?Md:"button";return j.jsx(u,{className:Zs(yp({variant:e,size:t,className:n})),ref:a,...s})});Cl.displayName="Button";const CE=V.forwardRef(({className:n,type:e,...t},r)=>j.jsx("input",{type:e,className:Zs("flex h-10 w-full rounded-md border border-input bg-background hover:bg-background px-3 py-2 text-base file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-0 focus:border-focus disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...t}));CE.displayName="Input";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AE=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ub={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=V.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:u,...h},f)=>V.createElement("svg",{ref:f,...Ub,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:AE("lucide",s),...h},[...u.map(([m,y])=>V.createElement(m,y)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=(n,e)=>{const t=V.forwardRef(({className:r,...s},a)=>V.createElement(jb,{ref:a,iconNode:e,className:AE(`lucide-${Fb(n)}`,r),...s}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=PE("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=PE("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);function $e(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function wn(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}function Qt(n,e){const t=$e(n);return isNaN(e)?wn(n,NaN):(e&&t.setDate(t.getDate()+e),t)}function Jn(n,e){const t=$e(n);if(isNaN(e))return wn(n,NaN);if(!e)return t;const r=t.getDate(),s=wn(n,t.getTime());s.setMonth(t.getMonth()+e+1,0);const a=s.getDate();return r>=a?s:(t.setFullYear(s.getFullYear(),s.getMonth(),r),t)}const _m=6048e5,Wb=864e5;let $b={};function tu(){return $b}function Sr(n,e){var h,f,m,y;const t=tu(),r=(e==null?void 0:e.weekStartsOn)??((f=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??t.weekStartsOn??((y=(m=t.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??0,s=$e(n),a=s.getDay(),u=(a<r?7:0)+a-r;return s.setDate(s.getDate()-u),s.setHours(0,0,0,0),s}function Bo(n){return Sr(n,{weekStartsOn:1})}function kE(n){const e=$e(n),t=e.getFullYear(),r=wn(n,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const s=Bo(r),a=wn(n,0);a.setFullYear(t,0,4),a.setHours(0,0,0,0);const u=Bo(a);return e.getTime()>=s.getTime()?t+1:e.getTime()>=u.getTime()?t:t-1}function da(n){const e=$e(n);return e.setHours(0,0,0,0),e}function hd(n){const e=$e(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function mr(n,e){const t=da(n),r=da(e),s=+t-hd(t),a=+r-hd(r);return Math.round((s-a)/Wb)}function Hb(n){const e=kE(n),t=wn(n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),Bo(t)}function _p(n,e){const t=e*7;return Qt(n,t)}function qb(n,e){return Jn(n,e*12)}function Gb(n){let e;return n.forEach(function(t){const r=$e(t);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function Kb(n){let e;return n.forEach(t=>{const r=$e(t);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function ln(n,e){const t=da(n),r=da(e);return+t==+r}function wm(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Qb(n){if(!wm(n)&&typeof n!="number")return!1;const e=$e(n);return!isNaN(Number(e))}function zl(n,e){const t=$e(n),r=$e(e),s=t.getFullYear()-r.getFullYear(),a=t.getMonth()-r.getMonth();return s*12+a}function Yb(n,e,t){const r=Sr(n,t),s=Sr(e,t),a=+r-hd(r),u=+s-hd(s);return Math.round((a-u)/_m)}function Em(n){const e=$e(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function un(n){const e=$e(n);return e.setDate(1),e.setHours(0,0,0,0),e}function RE(n){const e=$e(n),t=wn(n,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}function Tm(n,e){var h,f,m,y;const t=tu(),r=(e==null?void 0:e.weekStartsOn)??((f=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??t.weekStartsOn??((y=(m=t.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??0,s=$e(n),a=s.getDay(),u=(a<r?-7:0)+6-(a-r);return s.setDate(s.getDate()+u),s.setHours(23,59,59,999),s}function bE(n){return Tm(n,{weekStartsOn:1})}const Xb={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Jb=(n,e,t)=>{let r;const s=Xb[n];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function xf(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const Zb={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ex={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tx={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nx={date:xf({formats:Zb,defaultWidth:"full"}),time:xf({formats:ex,defaultWidth:"full"}),dateTime:xf({formats:tx,defaultWidth:"full"})},rx={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ix=(n,e,t,r)=>rx[n];function _l(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let s;if(r==="formatting"&&n.formattingValues){const u=n.defaultFormattingWidth||n.defaultWidth,h=t!=null&&t.width?String(t.width):u;s=n.formattingValues[h]||n.formattingValues[u]}else{const u=n.defaultWidth,h=t!=null&&t.width?String(t.width):n.defaultWidth;s=n.values[h]||n.values[u]}const a=n.argumentCallback?n.argumentCallback(e):e;return s[a]}}const ox={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},sx={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ax={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lx={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ux={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dx=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},hx={ordinalNumber:dx,era:_l({values:ox,defaultWidth:"wide"}),quarter:_l({values:sx,defaultWidth:"wide",argumentCallback:n=>n-1}),month:_l({values:ax,defaultWidth:"wide"}),day:_l({values:lx,defaultWidth:"wide"}),dayPeriod:_l({values:ux,defaultWidth:"wide",formattingValues:cx,defaultFormattingWidth:"wide"})};function wl(n){return(e,t={})=>{const r=t.width,s=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],a=e.match(s);if(!a)return null;const u=a[0],h=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(h)?px(h,w=>w.test(u)):fx(h,w=>w.test(u));let m;m=n.valueCallback?n.valueCallback(f):f,m=t.valueCallback?t.valueCallback(m):m;const y=e.slice(u.length);return{value:m,rest:y}}}function fx(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function px(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function mx(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const s=r[0],a=e.match(n.parsePattern);if(!a)return null;let u=n.valueCallback?n.valueCallback(a[0]):a[0];u=t.valueCallback?t.valueCallback(u):u;const h=e.slice(s.length);return{value:u,rest:h}}}const gx=/^(\d+)(th|st|nd|rd)?/i,vx=/\d+/i,yx={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_x={any:[/^b/i,/^(a|c)/i]},wx={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ex={any:[/1/i,/2/i,/3/i,/4/i]},Tx={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Sx={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ix={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Cx={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ax={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Px={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},kx={ordinalNumber:mx({matchPattern:gx,parsePattern:vx,valueCallback:n=>parseInt(n,10)}),era:wl({matchPatterns:yx,defaultMatchWidth:"wide",parsePatterns:_x,defaultParseWidth:"any"}),quarter:wl({matchPatterns:wx,defaultMatchWidth:"wide",parsePatterns:Ex,defaultParseWidth:"any",valueCallback:n=>n+1}),month:wl({matchPatterns:Tx,defaultMatchWidth:"wide",parsePatterns:Sx,defaultParseWidth:"any"}),day:wl({matchPatterns:Ix,defaultMatchWidth:"wide",parsePatterns:Cx,defaultParseWidth:"any"}),dayPeriod:wl({matchPatterns:Ax,defaultMatchWidth:"any",parsePatterns:Px,defaultParseWidth:"any"})},xE={code:"en-US",formatDistance:Jb,formatLong:nx,formatRelative:ix,localize:hx,match:kx,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Rx(n){const e=$e(n);return mr(e,RE(e))+1}function NE(n){const e=$e(n),t=+Bo(e)-+Hb(e);return Math.round(t/_m)+1}function DE(n,e){var y,w,T,I;const t=$e(n),r=t.getFullYear(),s=tu(),a=(e==null?void 0:e.firstWeekContainsDate)??((w=(y=e==null?void 0:e.locale)==null?void 0:y.options)==null?void 0:w.firstWeekContainsDate)??s.firstWeekContainsDate??((I=(T=s.locale)==null?void 0:T.options)==null?void 0:I.firstWeekContainsDate)??1,u=wn(n,0);u.setFullYear(r+1,0,a),u.setHours(0,0,0,0);const h=Sr(u,e),f=wn(n,0);f.setFullYear(r,0,a),f.setHours(0,0,0,0);const m=Sr(f,e);return t.getTime()>=h.getTime()?r+1:t.getTime()>=m.getTime()?r:r-1}function bx(n,e){var h,f,m,y;const t=tu(),r=(e==null?void 0:e.firstWeekContainsDate)??((f=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??t.firstWeekContainsDate??((y=(m=t.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,s=DE(n,e),a=wn(n,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),Sr(a,e)}function OE(n,e){const t=$e(n),r=+Sr(t,e)-+bx(t,e);return Math.round(r/_m)+1}function Qe(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Di={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Qe(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Qe(t+1,2)},d(n,e){return Qe(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Qe(n.getHours()%12||12,e.length)},H(n,e){return Qe(n.getHours(),e.length)},m(n,e){return Qe(n.getMinutes(),e.length)},s(n,e){return Qe(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),s=Math.trunc(r*Math.pow(10,t-3));return Qe(s,e.length)}},Us={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},P_={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),s=r>0?r:1-r;return t.ordinalNumber(s,{unit:"year"})}return Di.y(n,e)},Y:function(n,e,t,r){const s=DE(n,r),a=s>0?s:1-s;if(e==="YY"){const u=a%100;return Qe(u,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):Qe(a,e.length)},R:function(n,e){const t=kE(n);return Qe(t,e.length)},u:function(n,e){const t=n.getFullYear();return Qe(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Qe(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Qe(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Di.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Qe(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const s=OE(n,r);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):Qe(s,e.length)},I:function(n,e,t){const r=NE(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Qe(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Di.d(n,e)},D:function(n,e,t){const r=Rx(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Qe(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const s=n.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Qe(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const s=n.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Qe(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Qe(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const s=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let s;switch(r===12?s=Us.noon:r===0?s=Us.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let s;switch(r>=17?s=Us.evening:r>=12?s=Us.afternoon:r>=4?s=Us.morning:s=Us.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Di.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Di.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Qe(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Qe(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Di.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Di.s(n,e)},S:function(n,e){return Di.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return R_(r);case"XXXX":case"XX":return Do(r);case"XXXXX":case"XXX":default:return Do(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return R_(r);case"xxxx":case"xx":return Do(r);case"xxxxx":case"xxx":default:return Do(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+k_(r,":");case"OOOO":default:return"GMT"+Do(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+k_(r,":");case"zzzz":default:return"GMT"+Do(r,":")}},t:function(n,e,t){const r=Math.trunc(n.getTime()/1e3);return Qe(r,e.length)},T:function(n,e,t){const r=n.getTime();return Qe(r,e.length)}};function k_(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=Math.trunc(r/60),a=r%60;return a===0?t+String(s):t+String(s)+e+Qe(a,2)}function R_(n,e){return n%60===0?(n>0?"-":"+")+Qe(Math.abs(n)/60,2):Do(n,e)}function Do(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=Qe(Math.trunc(r/60),2),a=Qe(r%60,2);return t+s+e+a}const b_=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},ME=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},xx=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],s=t[2];if(!s)return b_(n,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",b_(r,e)).replace("{{time}}",ME(s,e))},Nx={p:ME,P:xx},Dx=/^D+$/,Ox=/^Y+$/,Mx=["D","DD","YY","YYYY"];function Lx(n){return Dx.test(n)}function Vx(n){return Ox.test(n)}function Fx(n,e,t){const r=Ux(n,e,t);if(console.warn(r),Mx.includes(n))throw new RangeError(r)}function Ux(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const jx=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zx=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Bx=/^'([^]*?)'?$/,Wx=/''/g,$x=/[a-zA-Z]/;function eo(n,e,t){var y,w,T,I,R,A,P,z;const r=tu(),s=(t==null?void 0:t.locale)??r.locale??xE,a=(t==null?void 0:t.firstWeekContainsDate)??((w=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:w.firstWeekContainsDate)??r.firstWeekContainsDate??((I=(T=r.locale)==null?void 0:T.options)==null?void 0:I.firstWeekContainsDate)??1,u=(t==null?void 0:t.weekStartsOn)??((A=(R=t==null?void 0:t.locale)==null?void 0:R.options)==null?void 0:A.weekStartsOn)??r.weekStartsOn??((z=(P=r.locale)==null?void 0:P.options)==null?void 0:z.weekStartsOn)??0,h=$e(n);if(!Qb(h))throw new RangeError("Invalid time value");let f=e.match(zx).map(H=>{const Q=H[0];if(Q==="p"||Q==="P"){const Y=Nx[Q];return Y(H,s.formatLong)}return H}).join("").match(jx).map(H=>{if(H==="''")return{isToken:!1,value:"'"};const Q=H[0];if(Q==="'")return{isToken:!1,value:Hx(H)};if(P_[Q])return{isToken:!0,value:H};if(Q.match($x))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Q+"`");return{isToken:!1,value:H}});s.localize.preprocessor&&(f=s.localize.preprocessor(h,f));const m={firstWeekContainsDate:a,weekStartsOn:u,locale:s};return f.map(H=>{if(!H.isToken)return H.value;const Q=H.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&Vx(Q)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&Lx(Q))&&Fx(Q,e,String(n));const Y=P_[Q[0]];return Y(h,Q,s.localize,m)}).join("")}function Hx(n){const e=n.match(Bx);return e?e[1].replace(Wx,"'"):n}function qx(n){const e=$e(n),t=e.getFullYear(),r=e.getMonth(),s=wn(n,0);return s.setFullYear(t,r+1,0),s.setHours(0,0,0,0),s.getDate()}function Gx(n){return Math.trunc(+$e(n)/1e3)}function Kx(n){const e=$e(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(0,0,0,0),e}function Qx(n,e){return Yb(Kx(n),un(n),e)+1}function wp(n,e){const t=$e(n),r=$e(e);return t.getTime()>r.getTime()}function LE(n,e){const t=$e(n),r=$e(e);return+t<+r}function Sm(n,e){const t=$e(n),r=$e(e);return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()}function Yx(n,e){const t=$e(n),r=$e(e);return t.getFullYear()===r.getFullYear()}function Nf(n,e){return Qt(n,-e)}function Df(n,e){const t=$e(n),r=t.getFullYear(),s=t.getDate(),a=wn(n,0);a.setFullYear(r,e,15),a.setHours(0,0,0,0);const u=qx(a);return t.setMonth(e,Math.min(s,u)),t}function x_(n,e){const t=$e(n);return isNaN(+t)?wn(n,NaN):(t.setFullYear(e),t)}var Te=function(){return Te=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Te.apply(this,arguments)};function Xx(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function VE(n,e,t){for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}function nu(n){return n.mode==="multiple"}function ru(n){return n.mode==="range"}function Ld(n){return n.mode==="single"}var Jx={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Zx(n,e){return eo(n,"LLLL y",e)}function eN(n,e){return eo(n,"d",e)}function tN(n,e){return eo(n,"LLLL",e)}function nN(n){return"".concat(n)}function rN(n,e){return eo(n,"cccccc",e)}function iN(n,e){return eo(n,"yyyy",e)}var oN=Object.freeze({__proto__:null,formatCaption:Zx,formatDay:eN,formatMonthCaption:tN,formatWeekNumber:nN,formatWeekdayName:rN,formatYearCaption:iN}),sN=function(n,e,t){return eo(n,"do MMMM (EEEE)",t)},aN=function(){return"Month: "},lN=function(){return"Go to next month"},uN=function(){return"Go to previous month"},cN=function(n,e){return eo(n,"cccc",e)},dN=function(n){return"Week n. ".concat(n)},hN=function(){return"Year: "},fN=Object.freeze({__proto__:null,labelDay:sN,labelMonthDropdown:aN,labelNext:lN,labelPrevious:uN,labelWeekNumber:dN,labelWeekday:cN,labelYearDropdown:hN});function pN(){var n="buttons",e=Jx,t=xE,r={},s={},a=1,u={},h=new Date;return{captionLayout:n,classNames:e,formatters:oN,labels:fN,locale:t,modifiersClassNames:r,modifiers:s,numberOfMonths:a,styles:u,today:h,mode:"default"}}function mN(n){var e=n.fromYear,t=n.toYear,r=n.fromMonth,s=n.toMonth,a=n.fromDate,u=n.toDate;return r?a=un(r):e&&(a=new Date(e,0,1)),s?u=Em(s):t&&(u=new Date(t,11,31)),{fromDate:a?da(a):void 0,toDate:u?da(u):void 0}}var FE=V.createContext(void 0);function gN(n){var e,t=n.initialProps,r=pN(),s=mN(t),a=s.fromDate,u=s.toDate,h=(e=t.captionLayout)!==null&&e!==void 0?e:r.captionLayout;h!=="buttons"&&(!a||!u)&&(h="buttons");var f;(Ld(t)||nu(t)||ru(t))&&(f=t.onSelect);var m=Te(Te(Te({},r),t),{captionLayout:h,classNames:Te(Te({},r.classNames),t.classNames),components:Te({},t.components),formatters:Te(Te({},r.formatters),t.formatters),fromDate:a,labels:Te(Te({},r.labels),t.labels),mode:t.mode||r.mode,modifiers:Te(Te({},r.modifiers),t.modifiers),modifiersClassNames:Te(Te({},r.modifiersClassNames),t.modifiersClassNames),onSelect:f,styles:Te(Te({},r.styles),t.styles),toDate:u});return j.jsx(FE.Provider,{value:m,children:n.children})}function Ze(){var n=V.useContext(FE);if(!n)throw new Error("useDayPicker must be used within a DayPickerProvider.");return n}function UE(n){var e=Ze(),t=e.locale,r=e.classNames,s=e.styles,a=e.formatters.formatCaption;return j.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:n.id,children:a(n.displayMonth,{locale:t})})}function vN(n){return j.jsx("svg",Te({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},n,{children:j.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function jE(n){var e,t,r=n.onChange,s=n.value,a=n.children,u=n.caption,h=n.className,f=n.style,m=Ze(),y=(t=(e=m.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&t!==void 0?t:vN;return j.jsxs("div",{className:h,style:f,children:[j.jsx("span",{className:m.classNames.vhidden,children:n["aria-label"]}),j.jsx("select",{name:n.name,"aria-label":n["aria-label"],className:m.classNames.dropdown,style:m.styles.dropdown,value:s,onChange:r,children:a}),j.jsxs("div",{className:m.classNames.caption_label,style:m.styles.caption_label,"aria-hidden":"true",children:[u,j.jsx(y,{className:m.classNames.dropdown_icon,style:m.styles.dropdown_icon})]})]})}function yN(n){var e,t=Ze(),r=t.fromDate,s=t.toDate,a=t.styles,u=t.locale,h=t.formatters.formatMonthCaption,f=t.classNames,m=t.components,y=t.labels.labelMonthDropdown;if(!r)return j.jsx(j.Fragment,{});if(!s)return j.jsx(j.Fragment,{});var w=[];if(Yx(r,s))for(var T=un(r),I=r.getMonth();I<=s.getMonth();I++)w.push(Df(T,I));else for(var T=un(new Date),I=0;I<=11;I++)w.push(Df(T,I));var R=function(P){var z=Number(P.target.value),H=Df(un(n.displayMonth),z);n.onChange(H)},A=(e=m==null?void 0:m.Dropdown)!==null&&e!==void 0?e:jE;return j.jsx(A,{name:"months","aria-label":y(),className:f.dropdown_month,style:a.dropdown_month,onChange:R,value:n.displayMonth.getMonth(),caption:h(n.displayMonth,{locale:u}),children:w.map(function(P){return j.jsx("option",{value:P.getMonth(),children:h(P,{locale:u})},P.getMonth())})})}function _N(n){var e,t=n.displayMonth,r=Ze(),s=r.fromDate,a=r.toDate,u=r.locale,h=r.styles,f=r.classNames,m=r.components,y=r.formatters.formatYearCaption,w=r.labels.labelYearDropdown,T=[];if(!s)return j.jsx(j.Fragment,{});if(!a)return j.jsx(j.Fragment,{});for(var I=s.getFullYear(),R=a.getFullYear(),A=I;A<=R;A++)T.push(x_(RE(new Date),A));var P=function(H){var Q=x_(un(t),Number(H.target.value));n.onChange(Q)},z=(e=m==null?void 0:m.Dropdown)!==null&&e!==void 0?e:jE;return j.jsx(z,{name:"years","aria-label":w(),className:f.dropdown_year,style:h.dropdown_year,onChange:P,value:t.getFullYear(),caption:y(t,{locale:u}),children:T.map(function(H){return j.jsx("option",{value:H.getFullYear(),children:y(H,{locale:u})},H.getFullYear())})})}function wN(n,e){var t=V.useState(n),r=t[0],s=t[1],a=e===void 0?r:e;return[a,s]}function EN(n){var e=n.month,t=n.defaultMonth,r=n.today,s=e||t||r||new Date,a=n.toDate,u=n.fromDate,h=n.numberOfMonths,f=h===void 0?1:h;if(a&&zl(a,s)<0){var m=-1*(f-1);s=Jn(a,m)}return u&&zl(s,u)<0&&(s=u),un(s)}function TN(){var n=Ze(),e=EN(n),t=wN(e,n.month),r=t[0],s=t[1],a=function(u){var h;if(!n.disableNavigation){var f=un(u);s(f),(h=n.onMonthChange)===null||h===void 0||h.call(n,f)}};return[r,a]}function SN(n,e){for(var t=e.reverseMonths,r=e.numberOfMonths,s=un(n),a=un(Jn(s,r)),u=zl(a,s),h=[],f=0;f<u;f++){var m=Jn(s,f);h.push(m)}return t&&(h=h.reverse()),h}function IN(n,e){if(!e.disableNavigation){var t=e.toDate,r=e.pagedNavigation,s=e.numberOfMonths,a=s===void 0?1:s,u=r?a:1,h=un(n);if(!t)return Jn(h,u);var f=zl(t,n);if(!(f<a))return Jn(h,u)}}function CN(n,e){if(!e.disableNavigation){var t=e.fromDate,r=e.pagedNavigation,s=e.numberOfMonths,a=s===void 0?1:s,u=r?a:1,h=un(n);if(!t)return Jn(h,-u);var f=zl(h,t);if(!(f<=0))return Jn(h,-u)}}var zE=V.createContext(void 0);function AN(n){var e=Ze(),t=TN(),r=t[0],s=t[1],a=SN(r,e),u=IN(r,e),h=CN(r,e),f=function(w){return a.some(function(T){return Sm(w,T)})},m=function(w,T){f(w)||(T&&LE(w,T)?s(Jn(w,1+e.numberOfMonths*-1)):s(w))},y={currentMonth:r,displayMonths:a,goToMonth:s,goToDate:m,previousMonth:h,nextMonth:u,isDateDisplayed:f};return j.jsx(zE.Provider,{value:y,children:n.children})}function iu(){var n=V.useContext(zE);if(!n)throw new Error("useNavigation must be used within a NavigationProvider");return n}function N_(n){var e,t=Ze(),r=t.classNames,s=t.styles,a=t.components,u=iu().goToMonth,h=function(y){u(Jn(y,n.displayIndex?-n.displayIndex:0))},f=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:UE,m=j.jsx(f,{id:n.id,displayMonth:n.displayMonth});return j.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[j.jsx("div",{className:r.vhidden,children:m}),j.jsx(yN,{onChange:h,displayMonth:n.displayMonth}),j.jsx(_N,{onChange:h,displayMonth:n.displayMonth})]})}function PN(n){return j.jsx("svg",Te({width:"16px",height:"16px",viewBox:"0 0 120 120"},n,{children:j.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function kN(n){return j.jsx("svg",Te({width:"16px",height:"16px",viewBox:"0 0 120 120"},n,{children:j.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var fd=V.forwardRef(function(n,e){var t=Ze(),r=t.classNames,s=t.styles,a=[r.button_reset,r.button];n.className&&a.push(n.className);var u=a.join(" "),h=Te(Te({},s.button_reset),s.button);return n.style&&Object.assign(h,n.style),j.jsx("button",Te({},n,{ref:e,type:"button",className:u,style:h}))});function RN(n){var e,t,r=Ze(),s=r.dir,a=r.locale,u=r.classNames,h=r.styles,f=r.labels,m=f.labelPrevious,y=f.labelNext,w=r.components;if(!n.nextMonth&&!n.previousMonth)return j.jsx(j.Fragment,{});var T=m(n.previousMonth,{locale:a}),I=[u.nav_button,u.nav_button_previous].join(" "),R=y(n.nextMonth,{locale:a}),A=[u.nav_button,u.nav_button_next].join(" "),P=(e=w==null?void 0:w.IconRight)!==null&&e!==void 0?e:kN,z=(t=w==null?void 0:w.IconLeft)!==null&&t!==void 0?t:PN;return j.jsxs("div",{className:u.nav,style:h.nav,children:[!n.hidePrevious&&j.jsx(fd,{name:"previous-month","aria-label":T,className:I,style:h.nav_button_previous,disabled:!n.previousMonth,onClick:n.onPreviousClick,children:s==="rtl"?j.jsx(P,{className:u.nav_icon,style:h.nav_icon}):j.jsx(z,{className:u.nav_icon,style:h.nav_icon})}),!n.hideNext&&j.jsx(fd,{name:"next-month","aria-label":R,className:A,style:h.nav_button_next,disabled:!n.nextMonth,onClick:n.onNextClick,children:s==="rtl"?j.jsx(z,{className:u.nav_icon,style:h.nav_icon}):j.jsx(P,{className:u.nav_icon,style:h.nav_icon})})]})}function D_(n){var e=Ze().numberOfMonths,t=iu(),r=t.previousMonth,s=t.nextMonth,a=t.goToMonth,u=t.displayMonths,h=u.findIndex(function(R){return Sm(n.displayMonth,R)}),f=h===0,m=h===u.length-1,y=e>1&&(f||!m),w=e>1&&(m||!f),T=function(){r&&a(r)},I=function(){s&&a(s)};return j.jsx(RN,{displayMonth:n.displayMonth,hideNext:y,hidePrevious:w,nextMonth:s,previousMonth:r,onPreviousClick:T,onNextClick:I})}function bN(n){var e,t=Ze(),r=t.classNames,s=t.disableNavigation,a=t.styles,u=t.captionLayout,h=t.components,f=(e=h==null?void 0:h.CaptionLabel)!==null&&e!==void 0?e:UE,m;return s?m=j.jsx(f,{id:n.id,displayMonth:n.displayMonth}):u==="dropdown"?m=j.jsx(N_,{displayMonth:n.displayMonth,id:n.id}):u==="dropdown-buttons"?m=j.jsxs(j.Fragment,{children:[j.jsx(N_,{displayMonth:n.displayMonth,displayIndex:n.displayIndex,id:n.id}),j.jsx(D_,{displayMonth:n.displayMonth,displayIndex:n.displayIndex,id:n.id})]}):m=j.jsxs(j.Fragment,{children:[j.jsx(f,{id:n.id,displayMonth:n.displayMonth,displayIndex:n.displayIndex}),j.jsx(D_,{displayMonth:n.displayMonth,id:n.id})]}),j.jsx("div",{className:r.caption,style:a.caption,children:m})}function xN(n){var e=Ze(),t=e.footer,r=e.styles,s=e.classNames.tfoot;return t?j.jsx("tfoot",{className:s,style:r.tfoot,children:j.jsx("tr",{children:j.jsx("td",{colSpan:8,children:t})})}):j.jsx(j.Fragment,{})}function NN(n,e,t){for(var r=t?Bo(new Date):Sr(new Date,{locale:n,weekStartsOn:e}),s=[],a=0;a<7;a++){var u=Qt(r,a);s.push(u)}return s}function DN(){var n=Ze(),e=n.classNames,t=n.styles,r=n.showWeekNumber,s=n.locale,a=n.weekStartsOn,u=n.ISOWeek,h=n.formatters.formatWeekdayName,f=n.labels.labelWeekday,m=NN(s,a,u);return j.jsxs("tr",{style:t.head_row,className:e.head_row,children:[r&&j.jsx("td",{style:t.head_cell,className:e.head_cell}),m.map(function(y,w){return j.jsx("th",{scope:"col",className:e.head_cell,style:t.head_cell,"aria-label":f(y,{locale:s}),children:h(y,{locale:s})},w)})]})}function ON(){var n,e=Ze(),t=e.classNames,r=e.styles,s=e.components,a=(n=s==null?void 0:s.HeadRow)!==null&&n!==void 0?n:DN;return j.jsx("thead",{style:r.head,className:t.head,children:j.jsx(a,{})})}function MN(n){var e=Ze(),t=e.locale,r=e.formatters.formatDay;return j.jsx(j.Fragment,{children:r(n.date,{locale:t})})}var Im=V.createContext(void 0);function LN(n){if(!nu(n.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return j.jsx(Im.Provider,{value:e,children:n.children})}return j.jsx(VN,{initialProps:n.initialProps,children:n.children})}function VN(n){var e=n.initialProps,t=n.children,r=e.selected,s=e.min,a=e.max,u=function(m,y,w){var T,I;(T=e.onDayClick)===null||T===void 0||T.call(e,m,y,w);var R=!!(y.selected&&s&&(r==null?void 0:r.length)===s);if(!R){var A=!!(!y.selected&&a&&(r==null?void 0:r.length)===a);if(!A){var P=r?VE([],r):[];if(y.selected){var z=P.findIndex(function(H){return ln(m,H)});P.splice(z,1)}else P.push(m);(I=e.onSelect)===null||I===void 0||I.call(e,P,m,y,w)}}},h={disabled:[]};r&&h.disabled.push(function(m){var y=a&&r.length>a-1,w=r.some(function(T){return ln(T,m)});return!!(y&&!w)});var f={selected:r,onDayClick:u,modifiers:h};return j.jsx(Im.Provider,{value:f,children:t})}function Cm(){var n=V.useContext(Im);if(!n)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return n}function FN(n,e){var t=e||{},r=t.from,s=t.to;return r&&s?ln(s,n)&&ln(r,n)?void 0:ln(s,n)?{from:s,to:void 0}:ln(r,n)?void 0:wp(r,n)?{from:n,to:s}:{from:r,to:n}:s?wp(n,s)?{from:s,to:n}:{from:n,to:s}:r?LE(n,r)?{from:n,to:r}:{from:r,to:n}:{from:n,to:void 0}}var Am=V.createContext(void 0);function UN(n){if(!ru(n.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return j.jsx(Am.Provider,{value:e,children:n.children})}return j.jsx(jN,{initialProps:n.initialProps,children:n.children})}function jN(n){var e=n.initialProps,t=n.children,r=e.selected,s=r||{},a=s.from,u=s.to,h=e.min,f=e.max,m=function(I,R,A){var P,z;(P=e.onDayClick)===null||P===void 0||P.call(e,I,R,A);var H=FN(I,r);(z=e.onSelect)===null||z===void 0||z.call(e,H,I,R,A)},y={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(y.range_start=[a],u?(y.range_end=[u],ln(a,u)||(y.range_middle=[{after:a,before:u}])):y.range_end=[a]):u&&(y.range_start=[u],y.range_end=[u]),h&&(a&&!u&&y.disabled.push({after:Nf(a,h-1),before:Qt(a,h-1)}),a&&u&&y.disabled.push({after:a,before:Qt(a,h-1)}),!a&&u&&y.disabled.push({after:Nf(u,h-1),before:Qt(u,h-1)})),f){if(a&&!u&&(y.disabled.push({before:Qt(a,-f+1)}),y.disabled.push({after:Qt(a,f-1)})),a&&u){var w=mr(u,a)+1,T=f-w;y.disabled.push({before:Nf(a,T)}),y.disabled.push({after:Qt(u,T)})}!a&&u&&(y.disabled.push({before:Qt(u,-f+1)}),y.disabled.push({after:Qt(u,f-1)}))}return j.jsx(Am.Provider,{value:{selected:r,onDayClick:m,modifiers:y},children:t})}function Pm(){var n=V.useContext(Am);if(!n)throw new Error("useSelectRange must be used within a SelectRangeProvider");return n}function $c(n){return Array.isArray(n)?VE([],n):n!==void 0?[n]:[]}function zN(n){var e={};return Object.entries(n).forEach(function(t){var r=t[0],s=t[1];e[r]=$c(s)}),e}var Zn;(function(n){n.Outside="outside",n.Disabled="disabled",n.Selected="selected",n.Hidden="hidden",n.Today="today",n.RangeStart="range_start",n.RangeEnd="range_end",n.RangeMiddle="range_middle"})(Zn||(Zn={}));var BN=Zn.Selected,Hr=Zn.Disabled,WN=Zn.Hidden,$N=Zn.Today,Of=Zn.RangeEnd,Mf=Zn.RangeMiddle,Lf=Zn.RangeStart,HN=Zn.Outside;function qN(n,e,t){var r,s=(r={},r[BN]=$c(n.selected),r[Hr]=$c(n.disabled),r[WN]=$c(n.hidden),r[$N]=[n.today],r[Of]=[],r[Mf]=[],r[Lf]=[],r[HN]=[],r);return n.fromDate&&s[Hr].push({before:n.fromDate}),n.toDate&&s[Hr].push({after:n.toDate}),nu(n)?s[Hr]=s[Hr].concat(e.modifiers[Hr]):ru(n)&&(s[Hr]=s[Hr].concat(t.modifiers[Hr]),s[Lf]=t.modifiers[Lf],s[Mf]=t.modifiers[Mf],s[Of]=t.modifiers[Of]),s}var BE=V.createContext(void 0);function GN(n){var e=Ze(),t=Cm(),r=Pm(),s=qN(e,t,r),a=zN(e.modifiers),u=Te(Te({},s),a);return j.jsx(BE.Provider,{value:u,children:n.children})}function WE(){var n=V.useContext(BE);if(!n)throw new Error("useModifiers must be used within a ModifiersProvider");return n}function KN(n){return!!(n&&typeof n=="object"&&"before"in n&&"after"in n)}function QN(n){return!!(n&&typeof n=="object"&&"from"in n)}function YN(n){return!!(n&&typeof n=="object"&&"after"in n)}function XN(n){return!!(n&&typeof n=="object"&&"before"in n)}function JN(n){return!!(n&&typeof n=="object"&&"dayOfWeek"in n)}function ZN(n,e){var t,r=e.from,s=e.to;if(r&&s){var a=mr(s,r)<0;a&&(t=[s,r],r=t[0],s=t[1]);var u=mr(n,r)>=0&&mr(s,n)>=0;return u}return s?ln(s,n):r?ln(r,n):!1}function eD(n){return wm(n)}function tD(n){return Array.isArray(n)&&n.every(wm)}function nD(n,e){return e.some(function(t){if(typeof t=="boolean")return t;if(eD(t))return ln(n,t);if(tD(t))return t.includes(n);if(QN(t))return ZN(n,t);if(JN(t))return t.dayOfWeek.includes(n.getDay());if(KN(t)){var r=mr(t.before,n),s=mr(t.after,n),a=r>0,u=s<0,h=wp(t.before,t.after);return h?u&&a:a||u}return YN(t)?mr(n,t.after)>0:XN(t)?mr(t.before,n)>0:typeof t=="function"?t(n):!1})}function km(n,e,t){var r=Object.keys(e).reduce(function(a,u){var h=e[u];return nD(n,h)&&a.push(u),a},[]),s={};return r.forEach(function(a){return s[a]=!0}),t&&!Sm(n,t)&&(s.outside=!0),s}function rD(n,e){for(var t=un(n[0]),r=Em(n[n.length-1]),s,a,u=t;u<=r;){var h=km(u,e),f=!h.disabled&&!h.hidden;if(!f){u=Qt(u,1);continue}if(h.selected)return u;h.today&&!a&&(a=u),s||(s=u),u=Qt(u,1)}return a||s}var iD=365;function $E(n,e){var t=e.moveBy,r=e.direction,s=e.context,a=e.modifiers,u=e.retry,h=u===void 0?{count:0,lastFocused:n}:u,f=s.weekStartsOn,m=s.fromDate,y=s.toDate,w=s.locale,T={day:Qt,week:_p,month:Jn,year:qb,startOfWeek:function(P){return s.ISOWeek?Bo(P):Sr(P,{locale:w,weekStartsOn:f})},endOfWeek:function(P){return s.ISOWeek?bE(P):Tm(P,{locale:w,weekStartsOn:f})}},I=T[t](n,r==="after"?1:-1);r==="before"&&m?I=Gb([m,I]):r==="after"&&y&&(I=Kb([y,I]));var R=!0;if(a){var A=km(I,a);R=!A.disabled&&!A.hidden}return R?I:h.count>iD?h.lastFocused:$E(I,{moveBy:t,direction:r,context:s,modifiers:a,retry:Te(Te({},h),{count:h.count+1})})}var HE=V.createContext(void 0);function oD(n){var e=iu(),t=WE(),r=V.useState(),s=r[0],a=r[1],u=V.useState(),h=u[0],f=u[1],m=rD(e.displayMonths,t),y=s??(h&&e.isDateDisplayed(h))?h:m,w=function(){f(s),a(void 0)},T=function(P){a(P)},I=Ze(),R=function(P,z){if(s){var H=$E(s,{moveBy:P,direction:z,context:I,modifiers:t});ln(s,H)||(e.goToDate(H,s),T(H))}},A={focusedDay:s,focusTarget:y,blur:w,focus:T,focusDayAfter:function(){return R("day","after")},focusDayBefore:function(){return R("day","before")},focusWeekAfter:function(){return R("week","after")},focusWeekBefore:function(){return R("week","before")},focusMonthBefore:function(){return R("month","before")},focusMonthAfter:function(){return R("month","after")},focusYearBefore:function(){return R("year","before")},focusYearAfter:function(){return R("year","after")},focusStartOfWeek:function(){return R("startOfWeek","before")},focusEndOfWeek:function(){return R("endOfWeek","after")}};return j.jsx(HE.Provider,{value:A,children:n.children})}function Rm(){var n=V.useContext(HE);if(!n)throw new Error("useFocusContext must be used within a FocusProvider");return n}function sD(n,e){var t=WE(),r=km(n,t,e);return r}var bm=V.createContext(void 0);function aD(n){if(!Ld(n.initialProps)){var e={selected:void 0};return j.jsx(bm.Provider,{value:e,children:n.children})}return j.jsx(lD,{initialProps:n.initialProps,children:n.children})}function lD(n){var e=n.initialProps,t=n.children,r=function(a,u,h){var f,m,y;if((f=e.onDayClick)===null||f===void 0||f.call(e,a,u,h),u.selected&&!e.required){(m=e.onSelect)===null||m===void 0||m.call(e,void 0,a,u,h);return}(y=e.onSelect)===null||y===void 0||y.call(e,a,a,u,h)},s={selected:e.selected,onDayClick:r};return j.jsx(bm.Provider,{value:s,children:t})}function qE(){var n=V.useContext(bm);if(!n)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return n}function uD(n,e){var t=Ze(),r=qE(),s=Cm(),a=Pm(),u=Rm(),h=u.focusDayAfter,f=u.focusDayBefore,m=u.focusWeekAfter,y=u.focusWeekBefore,w=u.blur,T=u.focus,I=u.focusMonthBefore,R=u.focusMonthAfter,A=u.focusYearBefore,P=u.focusYearAfter,z=u.focusStartOfWeek,H=u.focusEndOfWeek,Q=function(ne){var B,ue,ae,U;Ld(t)?(B=r.onDayClick)===null||B===void 0||B.call(r,n,e,ne):nu(t)?(ue=s.onDayClick)===null||ue===void 0||ue.call(s,n,e,ne):ru(t)?(ae=a.onDayClick)===null||ae===void 0||ae.call(a,n,e,ne):(U=t.onDayClick)===null||U===void 0||U.call(t,n,e,ne)},Y=function(ne){var B;T(n),(B=t.onDayFocus)===null||B===void 0||B.call(t,n,e,ne)},ie=function(ne){var B;w(),(B=t.onDayBlur)===null||B===void 0||B.call(t,n,e,ne)},se=function(ne){var B;(B=t.onDayMouseEnter)===null||B===void 0||B.call(t,n,e,ne)},N=function(ne){var B;(B=t.onDayMouseLeave)===null||B===void 0||B.call(t,n,e,ne)},C=function(ne){var B;(B=t.onDayPointerEnter)===null||B===void 0||B.call(t,n,e,ne)},b=function(ne){var B;(B=t.onDayPointerLeave)===null||B===void 0||B.call(t,n,e,ne)},D=function(ne){var B;(B=t.onDayTouchCancel)===null||B===void 0||B.call(t,n,e,ne)},L=function(ne){var B;(B=t.onDayTouchEnd)===null||B===void 0||B.call(t,n,e,ne)},O=function(ne){var B;(B=t.onDayTouchMove)===null||B===void 0||B.call(t,n,e,ne)},k=function(ne){var B;(B=t.onDayTouchStart)===null||B===void 0||B.call(t,n,e,ne)},Ee=function(ne){var B;(B=t.onDayKeyUp)===null||B===void 0||B.call(t,n,e,ne)},Fe=function(ne){var B;switch(ne.key){case"ArrowLeft":ne.preventDefault(),ne.stopPropagation(),t.dir==="rtl"?h():f();break;case"ArrowRight":ne.preventDefault(),ne.stopPropagation(),t.dir==="rtl"?f():h();break;case"ArrowDown":ne.preventDefault(),ne.stopPropagation(),m();break;case"ArrowUp":ne.preventDefault(),ne.stopPropagation(),y();break;case"PageUp":ne.preventDefault(),ne.stopPropagation(),ne.shiftKey?A():I();break;case"PageDown":ne.preventDefault(),ne.stopPropagation(),ne.shiftKey?P():R();break;case"Home":ne.preventDefault(),ne.stopPropagation(),z();break;case"End":ne.preventDefault(),ne.stopPropagation(),H();break}(B=t.onDayKeyDown)===null||B===void 0||B.call(t,n,e,ne)},ke={onClick:Q,onFocus:Y,onBlur:ie,onKeyDown:Fe,onKeyUp:Ee,onMouseEnter:se,onMouseLeave:N,onPointerEnter:C,onPointerLeave:b,onTouchCancel:D,onTouchEnd:L,onTouchMove:O,onTouchStart:k};return ke}function cD(){var n=Ze(),e=qE(),t=Cm(),r=Pm(),s=Ld(n)?e.selected:nu(n)?t.selected:ru(n)?r.selected:void 0;return s}function dD(n){return Object.values(Zn).includes(n)}function hD(n,e){var t=[n.classNames.day];return Object.keys(e).forEach(function(r){var s=n.modifiersClassNames[r];if(s)t.push(s);else if(dD(r)){var a=n.classNames["day_".concat(r)];a&&t.push(a)}}),t}function fD(n,e){var t=Te({},n.styles.day);return Object.keys(e).forEach(function(r){var s;t=Te(Te({},t),(s=n.modifiersStyles)===null||s===void 0?void 0:s[r])}),t}function pD(n,e,t){var r,s,a,u=Ze(),h=Rm(),f=sD(n,e),m=uD(n,f),y=cD(),w=!!(u.onDayClick||u.mode!=="default");V.useEffect(function(){var se;f.outside||h.focusedDay&&w&&ln(h.focusedDay,n)&&((se=t.current)===null||se===void 0||se.focus())},[h.focusedDay,n,t,w,f.outside]);var T=hD(u,f).join(" "),I=fD(u,f),R=!!(f.outside&&!u.showOutsideDays||f.hidden),A=(a=(s=u.components)===null||s===void 0?void 0:s.DayContent)!==null&&a!==void 0?a:MN,P=j.jsx(A,{date:n,displayMonth:e,activeModifiers:f}),z={style:I,className:T,children:P,role:"gridcell"},H=h.focusTarget&&ln(h.focusTarget,n)&&!f.outside,Q=h.focusedDay&&ln(h.focusedDay,n),Y=Te(Te(Te({},z),(r={disabled:f.disabled,role:"gridcell"},r["aria-selected"]=f.selected,r.tabIndex=Q||H?0:-1,r)),m),ie={isButton:w,isHidden:R,activeModifiers:f,selectedDays:y,buttonProps:Y,divProps:z};return ie}function mD(n){var e=V.useRef(null),t=pD(n.date,n.displayMonth,e);return t.isHidden?j.jsx("div",{role:"gridcell"}):t.isButton?j.jsx(fd,Te({name:"day",ref:e},t.buttonProps)):j.jsx("div",Te({},t.divProps))}function gD(n){var e=n.number,t=n.dates,r=Ze(),s=r.onWeekNumberClick,a=r.styles,u=r.classNames,h=r.locale,f=r.labels.labelWeekNumber,m=r.formatters.formatWeekNumber,y=m(Number(e),{locale:h});if(!s)return j.jsx("span",{className:u.weeknumber,style:a.weeknumber,children:y});var w=f(Number(e),{locale:h}),T=function(I){s(e,t,I)};return j.jsx(fd,{name:"week-number","aria-label":w,className:u.weeknumber,style:a.weeknumber,onClick:T,children:y})}function vD(n){var e,t,r=Ze(),s=r.styles,a=r.classNames,u=r.showWeekNumber,h=r.components,f=(e=h==null?void 0:h.Day)!==null&&e!==void 0?e:mD,m=(t=h==null?void 0:h.WeekNumber)!==null&&t!==void 0?t:gD,y;return u&&(y=j.jsx("td",{className:a.cell,style:s.cell,children:j.jsx(m,{number:n.weekNumber,dates:n.dates})})),j.jsxs("tr",{className:a.row,style:s.row,children:[y,n.dates.map(function(w){return j.jsx("td",{className:a.cell,style:s.cell,role:"presentation",children:j.jsx(f,{displayMonth:n.displayMonth,date:w})},Gx(w))})]})}function O_(n,e,t){for(var r=t!=null&&t.ISOWeek?bE(e):Tm(e,t),s=t!=null&&t.ISOWeek?Bo(n):Sr(n,t),a=mr(r,s),u=[],h=0;h<=a;h++)u.push(Qt(s,h));var f=u.reduce(function(m,y){var w=t!=null&&t.ISOWeek?NE(y):OE(y,t),T=m.find(function(I){return I.weekNumber===w});return T?(T.dates.push(y),m):(m.push({weekNumber:w,dates:[y]}),m)},[]);return f}function yD(n,e){var t=O_(un(n),Em(n),e);if(e!=null&&e.useFixedWeeks){var r=Qx(n,e);if(r<6){var s=t[t.length-1],a=s.dates[s.dates.length-1],u=_p(a,6-r),h=O_(_p(a,1),u,e);t.push.apply(t,h)}}return t}function _D(n){var e,t,r,s=Ze(),a=s.locale,u=s.classNames,h=s.styles,f=s.hideHead,m=s.fixedWeeks,y=s.components,w=s.weekStartsOn,T=s.firstWeekContainsDate,I=s.ISOWeek,R=yD(n.displayMonth,{useFixedWeeks:!!m,ISOWeek:I,locale:a,weekStartsOn:w,firstWeekContainsDate:T}),A=(e=y==null?void 0:y.Head)!==null&&e!==void 0?e:ON,P=(t=y==null?void 0:y.Row)!==null&&t!==void 0?t:vD,z=(r=y==null?void 0:y.Footer)!==null&&r!==void 0?r:xN;return j.jsxs("table",{id:n.id,className:u.table,style:h.table,role:"grid","aria-labelledby":n["aria-labelledby"],children:[!f&&j.jsx(A,{}),j.jsx("tbody",{className:u.tbody,style:h.tbody,children:R.map(function(H){return j.jsx(P,{displayMonth:n.displayMonth,dates:H.dates,weekNumber:H.weekNumber},H.weekNumber)})}),j.jsx(z,{displayMonth:n.displayMonth})]})}function wD(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var ED=wD()?V.useLayoutEffect:V.useEffect,Vf=!1,TD=0;function M_(){return"react-day-picker-".concat(++TD)}function SD(n){var e,t=n??(Vf?M_():null),r=V.useState(t),s=r[0],a=r[1];return ED(function(){s===null&&a(M_())},[]),V.useEffect(function(){Vf===!1&&(Vf=!0)},[]),(e=n??s)!==null&&e!==void 0?e:void 0}function ID(n){var e,t,r=Ze(),s=r.dir,a=r.classNames,u=r.styles,h=r.components,f=iu().displayMonths,m=SD(r.id?"".concat(r.id,"-").concat(n.displayIndex):void 0),y=r.id?"".concat(r.id,"-grid-").concat(n.displayIndex):void 0,w=[a.month],T=u.month,I=n.displayIndex===0,R=n.displayIndex===f.length-1,A=!I&&!R;s==="rtl"&&(e=[I,R],R=e[0],I=e[1]),I&&(w.push(a.caption_start),T=Te(Te({},T),u.caption_start)),R&&(w.push(a.caption_end),T=Te(Te({},T),u.caption_end)),A&&(w.push(a.caption_between),T=Te(Te({},T),u.caption_between));var P=(t=h==null?void 0:h.Caption)!==null&&t!==void 0?t:bN;return j.jsxs("div",{className:w.join(" "),style:T,children:[j.jsx(P,{id:m,displayMonth:n.displayMonth,displayIndex:n.displayIndex}),j.jsx(_D,{id:y,"aria-labelledby":m,displayMonth:n.displayMonth})]},n.displayIndex)}function CD(n){var e=Ze(),t=e.classNames,r=e.styles;return j.jsx("div",{className:t.months,style:r.months,children:n.children})}function AD(n){var e,t,r=n.initialProps,s=Ze(),a=Rm(),u=iu(),h=V.useState(!1),f=h[0],m=h[1];V.useEffect(function(){s.initialFocus&&a.focusTarget&&(f||(a.focus(a.focusTarget),m(!0)))},[s.initialFocus,f,a.focus,a.focusTarget,a]);var y=[s.classNames.root,s.className];s.numberOfMonths>1&&y.push(s.classNames.multiple_months),s.showWeekNumber&&y.push(s.classNames.with_weeknumber);var w=Te(Te({},s.styles.root),s.style),T=Object.keys(r).filter(function(R){return R.startsWith("data-")}).reduce(function(R,A){var P;return Te(Te({},R),(P={},P[A]=r[A],P))},{}),I=(t=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&t!==void 0?t:CD;return j.jsx("div",Te({className:y.join(" "),style:w,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},T,{children:j.jsx(I,{children:u.displayMonths.map(function(R,A){return j.jsx(ID,{displayIndex:A,displayMonth:R},A)})})}))}function PD(n){var e=n.children,t=Xx(n,["children"]);return j.jsx(gN,{initialProps:t,children:j.jsx(AN,{children:j.jsx(aD,{initialProps:t,children:j.jsx(LN,{initialProps:t,children:j.jsx(UN,{initialProps:t,children:j.jsx(GN,{children:j.jsx(oD,{children:e})})})})})})})}function kD(n){return j.jsx(PD,Te({},n,{children:j.jsx(AD,{initialProps:n})}))}function GE({className:n,classNames:e,showOutsideDays:t=!0,...r}){return j.jsx(kD,{showOutsideDays:t,className:Zs("p-3",n),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Zs(yp({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Zs(yp({variant:"ghost"}),"h-9 w-9 p-0 font-normal text-foreground bg-transparent border border-transparent focus:border-focus focus:outline-none hover:border-focus"),day_range_end:"day-range-end",day_selected:"bg-transparent text-focus border-[0.5px] border-focus focus:border-focus focus:border-[1px]",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...s})=>j.jsx(zb,{className:"h-4 w-4"}),IconRight:({...s})=>j.jsx(Bb,{className:"h-4 w-4"})},...r})}GE.displayName="Calendar";function Wi(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n==null||n(s),t===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function RD(n,e=[]){let t=[];function r(a,u){const h=V.createContext(u),f=t.length;t=[...t,u];const m=w=>{var z;const{scope:T,children:I,...R}=w,A=((z=T==null?void 0:T[n])==null?void 0:z[f])||h,P=V.useMemo(()=>R,Object.values(R));return j.jsx(A.Provider,{value:P,children:I})};m.displayName=a+"Provider";function y(w,T){var A;const I=((A=T==null?void 0:T[n])==null?void 0:A[f])||h,R=V.useContext(I);if(R)return R;if(u!==void 0)return u;throw new Error(`\`${w}\` must be used within \`${a}\``)}return[m,y]}const s=()=>{const a=t.map(u=>V.createContext(u));return function(h){const f=(h==null?void 0:h[n])||a;return V.useMemo(()=>({[`__scope${n}`]:{...h,[n]:f}}),[h,f])}};return s.scopeName=n,[r,bD(s,...e)]}function bD(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const u=r.reduce((h,{useScope:f,scopeName:m})=>{const w=f(a)[`__scope${m}`];return{...h,...w}},{});return V.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}var xm=r0();const xD=Ap(xm);var ND=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ii=ND.reduce((n,e)=>{const t=V.forwardRef((r,s)=>{const{asChild:a,...u}=r,h=a?Md:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),j.jsx(h,{...u,ref:s})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function DD(n,e){n&&xm.flushSync(()=>n.dispatchEvent(e))}function Qi(n){const e=V.useRef(n);return V.useEffect(()=>{e.current=n}),V.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function OD(n,e=globalThis==null?void 0:globalThis.document){const t=Qi(n);V.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var MD="DismissableLayer",Ep="dismissableLayer.update",LD="dismissableLayer.pointerDownOutside",VD="dismissableLayer.focusOutside",L_,KE=V.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),QE=V.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:u,onDismiss:h,...f}=n,m=V.useContext(KE),[y,w]=V.useState(null),T=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,I]=V.useState({}),R=Zi(e,N=>w(N)),A=Array.from(m.layers),[P]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),z=A.indexOf(P),H=y?A.indexOf(y):-1,Q=m.layersWithOutsidePointerEventsDisabled.size>0,Y=H>=z,ie=jD(N=>{const C=N.target,b=[...m.branches].some(D=>D.contains(C));!Y||b||(s==null||s(N),u==null||u(N),N.defaultPrevented||h==null||h())},T),se=zD(N=>{const C=N.target;[...m.branches].some(D=>D.contains(C))||(a==null||a(N),u==null||u(N),N.defaultPrevented||h==null||h())},T);return OD(N=>{H===m.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&h&&(N.preventDefault(),h()))},T),V.useEffect(()=>{if(y)return t&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(L_=T.body.style.pointerEvents,T.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(y)),m.layers.add(y),V_(),()=>{t&&m.layersWithOutsidePointerEventsDisabled.size===1&&(T.body.style.pointerEvents=L_)}},[y,T,t,m]),V.useEffect(()=>()=>{y&&(m.layers.delete(y),m.layersWithOutsidePointerEventsDisabled.delete(y),V_())},[y,m]),V.useEffect(()=>{const N=()=>I({});return document.addEventListener(Ep,N),()=>document.removeEventListener(Ep,N)},[]),j.jsx(ii.div,{...f,ref:R,style:{pointerEvents:Q?Y?"auto":"none":void 0,...n.style},onFocusCapture:Wi(n.onFocusCapture,se.onFocusCapture),onBlurCapture:Wi(n.onBlurCapture,se.onBlurCapture),onPointerDownCapture:Wi(n.onPointerDownCapture,ie.onPointerDownCapture)})});QE.displayName=MD;var FD="DismissableLayerBranch",UD=V.forwardRef((n,e)=>{const t=V.useContext(KE),r=V.useRef(null),s=Zi(e,r);return V.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),j.jsx(ii.div,{...n,ref:s})});UD.displayName=FD;function jD(n,e=globalThis==null?void 0:globalThis.document){const t=Qi(n),r=V.useRef(!1),s=V.useRef(()=>{});return V.useEffect(()=>{const a=h=>{if(h.target&&!r.current){let f=function(){YE(LD,t,m,{discrete:!0})};const m={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=f,e.addEventListener("click",s.current,{once:!0})):f()}else e.removeEventListener("click",s.current);r.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function zD(n,e=globalThis==null?void 0:globalThis.document){const t=Qi(n),r=V.useRef(!1);return V.useEffect(()=>{const s=a=>{a.target&&!r.current&&YE(VD,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function V_(){const n=new CustomEvent(Ep);document.dispatchEvent(n)}function YE(n,e,t,{discrete:r}){const s=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?DD(s,a):s.dispatchEvent(a)}var Ff=0;function BD(){V.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??F_()),document.body.insertAdjacentElement("beforeend",n[1]??F_()),Ff++,()=>{Ff===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ff--}},[])}function F_(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Uf="focusScope.autoFocusOnMount",jf="focusScope.autoFocusOnUnmount",U_={bubbles:!1,cancelable:!0},WD="FocusScope",XE=V.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...u}=n,[h,f]=V.useState(null),m=Qi(s),y=Qi(a),w=V.useRef(null),T=Zi(e,A=>f(A)),I=V.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;V.useEffect(()=>{if(r){let A=function(Q){if(I.paused||!h)return;const Y=Q.target;h.contains(Y)?w.current=Y:Oi(w.current,{select:!0})},P=function(Q){if(I.paused||!h)return;const Y=Q.relatedTarget;Y!==null&&(h.contains(Y)||Oi(w.current,{select:!0}))},z=function(Q){if(document.activeElement===document.body)for(const ie of Q)ie.removedNodes.length>0&&Oi(h)};document.addEventListener("focusin",A),document.addEventListener("focusout",P);const H=new MutationObserver(z);return h&&H.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",P),H.disconnect()}}},[r,h,I.paused]),V.useEffect(()=>{if(h){z_.add(I);const A=document.activeElement;if(!h.contains(A)){const z=new CustomEvent(Uf,U_);h.addEventListener(Uf,m),h.dispatchEvent(z),z.defaultPrevented||($D(QD(JE(h)),{select:!0}),document.activeElement===A&&Oi(h))}return()=>{h.removeEventListener(Uf,m),setTimeout(()=>{const z=new CustomEvent(jf,U_);h.addEventListener(jf,y),h.dispatchEvent(z),z.defaultPrevented||Oi(A??document.body,{select:!0}),h.removeEventListener(jf,y),z_.remove(I)},0)}}},[h,m,y,I]);const R=V.useCallback(A=>{if(!t&&!r||I.paused)return;const P=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,z=document.activeElement;if(P&&z){const H=A.currentTarget,[Q,Y]=HD(H);Q&&Y?!A.shiftKey&&z===Y?(A.preventDefault(),t&&Oi(Q,{select:!0})):A.shiftKey&&z===Q&&(A.preventDefault(),t&&Oi(Y,{select:!0})):z===H&&A.preventDefault()}},[t,r,I.paused]);return j.jsx(ii.div,{tabIndex:-1,...u,ref:T,onKeyDown:R})});XE.displayName=WD;function $D(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Oi(r,{select:e}),document.activeElement!==t)return}function HD(n){const e=JE(n),t=j_(e,n),r=j_(e.reverse(),n);return[t,r]}function JE(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function j_(n,e){for(const t of n)if(!qD(t,{upTo:e}))return t}function qD(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function GD(n){return n instanceof HTMLInputElement&&"select"in n}function Oi(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&GD(n)&&e&&n.select()}}var z_=KD();function KD(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=B_(n,e),n.unshift(e)},remove(e){var t;n=B_(n,e),(t=n[0])==null||t.resume()}}}function B_(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function QD(n){return n.filter(e=>e.tagName!=="A")}var Wo=globalThis!=null&&globalThis.document?V.useLayoutEffect:()=>{},YD=K1.useId||(()=>{}),XD=0;function JD(n){const[e,t]=V.useState(YD());return Wo(()=>{n||t(r=>r??String(XD++))},[n]),n||(e?`radix-${e}`:"")}const ZD=["top","right","bottom","left"],Yi=Math.min,vn=Math.max,pd=Math.round,kc=Math.floor,wr=n=>({x:n,y:n}),eO={left:"right",right:"left",bottom:"top",top:"bottom"},tO={start:"end",end:"start"};function Tp(n,e,t){return vn(n,Yi(e,t))}function ti(n,e){return typeof n=="function"?n(e):n}function ni(n){return n.split("-")[0]}function Ta(n){return n.split("-")[1]}function Nm(n){return n==="x"?"y":"x"}function Dm(n){return n==="y"?"height":"width"}function Xi(n){return["top","bottom"].includes(ni(n))?"y":"x"}function Om(n){return Nm(Xi(n))}function nO(n,e,t){t===void 0&&(t=!1);const r=Ta(n),s=Om(n),a=Dm(s);let u=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(u=md(u)),[u,md(u)]}function rO(n){const e=md(n);return[Sp(n),e,Sp(e)]}function Sp(n){return n.replace(/start|end/g,e=>tO[e])}function iO(n,e,t){const r=["left","right"],s=["right","left"],a=["top","bottom"],u=["bottom","top"];switch(n){case"top":case"bottom":return t?e?s:r:e?r:s;case"left":case"right":return e?a:u;default:return[]}}function oO(n,e,t,r){const s=Ta(n);let a=iO(ni(n),t==="start",r);return s&&(a=a.map(u=>u+"-"+s),e&&(a=a.concat(a.map(Sp)))),a}function md(n){return n.replace(/left|right|bottom|top/g,e=>eO[e])}function sO(n){return{top:0,right:0,bottom:0,left:0,...n}}function ZE(n){return typeof n!="number"?sO(n):{top:n,right:n,bottom:n,left:n}}function gd(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function W_(n,e,t){let{reference:r,floating:s}=n;const a=Xi(e),u=Om(e),h=Dm(u),f=ni(e),m=a==="y",y=r.x+r.width/2-s.width/2,w=r.y+r.height/2-s.height/2,T=r[h]/2-s[h]/2;let I;switch(f){case"top":I={x:y,y:r.y-s.height};break;case"bottom":I={x:y,y:r.y+r.height};break;case"right":I={x:r.x+r.width,y:w};break;case"left":I={x:r.x-s.width,y:w};break;default:I={x:r.x,y:r.y}}switch(Ta(e)){case"start":I[u]-=T*(t&&m?-1:1);break;case"end":I[u]+=T*(t&&m?-1:1);break}return I}const aO=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:u}=t,h=a.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:n,floating:e,strategy:s}),{x:y,y:w}=W_(m,r,f),T=r,I={},R=0;for(let A=0;A<h.length;A++){const{name:P,fn:z}=h[A],{x:H,y:Q,data:Y,reset:ie}=await z({x:y,y:w,initialPlacement:r,placement:T,strategy:s,middlewareData:I,rects:m,platform:u,elements:{reference:n,floating:e}});y=H??y,w=Q??w,I={...I,[P]:{...I[P],...Y}},ie&&R<=50&&(R++,typeof ie=="object"&&(ie.placement&&(T=ie.placement),ie.rects&&(m=ie.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:s}):ie.rects),{x:y,y:w}=W_(m,T,f)),A=-1)}return{x:y,y:w,placement:T,strategy:s,middlewareData:I}};async function Bl(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:a,rects:u,elements:h,strategy:f}=n,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:w="floating",altBoundary:T=!1,padding:I=0}=ti(e,n),R=ZE(I),P=h[T?w==="floating"?"reference":"floating":w],z=gd(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(P)))==null||t?P:P.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(h.floating)),boundary:m,rootBoundary:y,strategy:f})),H=w==="floating"?{x:r,y:s,width:u.floating.width,height:u.floating.height}:u.reference,Q=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h.floating)),Y=await(a.isElement==null?void 0:a.isElement(Q))?await(a.getScale==null?void 0:a.getScale(Q))||{x:1,y:1}:{x:1,y:1},ie=gd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:H,offsetParent:Q,strategy:f}):H);return{top:(z.top-ie.top+R.top)/Y.y,bottom:(ie.bottom-z.bottom+R.bottom)/Y.y,left:(z.left-ie.left+R.left)/Y.x,right:(ie.right-z.right+R.right)/Y.x}}const lO=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:a,platform:u,elements:h,middlewareData:f}=e,{element:m,padding:y=0}=ti(n,e)||{};if(m==null)return{};const w=ZE(y),T={x:t,y:r},I=Om(s),R=Dm(I),A=await u.getDimensions(m),P=I==="y",z=P?"top":"left",H=P?"bottom":"right",Q=P?"clientHeight":"clientWidth",Y=a.reference[R]+a.reference[I]-T[I]-a.floating[R],ie=T[I]-a.reference[I],se=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let N=se?se[Q]:0;(!N||!await(u.isElement==null?void 0:u.isElement(se)))&&(N=h.floating[Q]||a.floating[R]);const C=Y/2-ie/2,b=N/2-A[R]/2-1,D=Yi(w[z],b),L=Yi(w[H],b),O=D,k=N-A[R]-L,Ee=N/2-A[R]/2+C,Fe=Tp(O,Ee,k),ke=!f.arrow&&Ta(s)!=null&&Ee!==Fe&&a.reference[R]/2-(Ee<O?D:L)-A[R]/2<0,ne=ke?Ee<O?Ee-O:Ee-k:0;return{[I]:T[I]+ne,data:{[I]:Fe,centerOffset:Ee-Fe-ne,...ke&&{alignmentOffset:ne}},reset:ke}}}),uO=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:a,rects:u,initialPlacement:h,platform:f,elements:m}=e,{mainAxis:y=!0,crossAxis:w=!0,fallbackPlacements:T,fallbackStrategy:I="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:A=!0,...P}=ti(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const z=ni(s),H=Xi(h),Q=ni(h)===h,Y=await(f.isRTL==null?void 0:f.isRTL(m.floating)),ie=T||(Q||!A?[md(h)]:rO(h)),se=R!=="none";!T&&se&&ie.push(...oO(h,A,R,Y));const N=[h,...ie],C=await Bl(e,P),b=[];let D=((r=a.flip)==null?void 0:r.overflows)||[];if(y&&b.push(C[z]),w){const Ee=nO(s,u,Y);b.push(C[Ee[0]],C[Ee[1]])}if(D=[...D,{placement:s,overflows:b}],!b.every(Ee=>Ee<=0)){var L,O;const Ee=(((L=a.flip)==null?void 0:L.index)||0)+1,Fe=N[Ee];if(Fe)return{data:{index:Ee,overflows:D},reset:{placement:Fe}};let ke=(O=D.filter(ne=>ne.overflows[0]<=0).sort((ne,B)=>ne.overflows[1]-B.overflows[1])[0])==null?void 0:O.placement;if(!ke)switch(I){case"bestFit":{var k;const ne=(k=D.filter(B=>{if(se){const ue=Xi(B.placement);return ue===H||ue==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(ue=>ue>0).reduce((ue,ae)=>ue+ae,0)]).sort((B,ue)=>B[1]-ue[1])[0])==null?void 0:k[0];ne&&(ke=ne);break}case"initialPlacement":ke=h;break}if(s!==ke)return{reset:{placement:ke}}}return{}}}};function $_(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function H_(n){return ZD.some(e=>n[e]>=0)}const cO=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...s}=ti(n,e);switch(r){case"referenceHidden":{const a=await Bl(e,{...s,elementContext:"reference"}),u=$_(a,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:H_(u)}}}case"escaped":{const a=await Bl(e,{...s,altBoundary:!0}),u=$_(a,t.floating);return{data:{escapedOffsets:u,escaped:H_(u)}}}default:return{}}}}};async function dO(n,e){const{placement:t,platform:r,elements:s}=n,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),u=ni(t),h=Ta(t),f=Xi(t)==="y",m=["left","top"].includes(u)?-1:1,y=a&&f?-1:1,w=ti(e,n);let{mainAxis:T,crossAxis:I,alignmentAxis:R}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return h&&typeof R=="number"&&(I=h==="end"?R*-1:R),f?{x:I*y,y:T*m}:{x:T*m,y:I*y}}const hO=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:a,placement:u,middlewareData:h}=e,f=await dO(e,n);return u===((t=h.offset)==null?void 0:t.placement)&&(r=h.arrow)!=null&&r.alignmentOffset?{}:{x:s+f.x,y:a+f.y,data:{...f,placement:u}}}}},fO=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:s}=e,{mainAxis:a=!0,crossAxis:u=!1,limiter:h={fn:P=>{let{x:z,y:H}=P;return{x:z,y:H}}},...f}=ti(n,e),m={x:t,y:r},y=await Bl(e,f),w=Xi(ni(s)),T=Nm(w);let I=m[T],R=m[w];if(a){const P=T==="y"?"top":"left",z=T==="y"?"bottom":"right",H=I+y[P],Q=I-y[z];I=Tp(H,I,Q)}if(u){const P=w==="y"?"top":"left",z=w==="y"?"bottom":"right",H=R+y[P],Q=R-y[z];R=Tp(H,R,Q)}const A=h.fn({...e,[T]:I,[w]:R});return{...A,data:{x:A.x-t,y:A.y-r,enabled:{[T]:a,[w]:u}}}}}},pO=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:s,rects:a,middlewareData:u}=e,{offset:h=0,mainAxis:f=!0,crossAxis:m=!0}=ti(n,e),y={x:t,y:r},w=Xi(s),T=Nm(w);let I=y[T],R=y[w];const A=ti(h,e),P=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(f){const Q=T==="y"?"height":"width",Y=a.reference[T]-a.floating[Q]+P.mainAxis,ie=a.reference[T]+a.reference[Q]-P.mainAxis;I<Y?I=Y:I>ie&&(I=ie)}if(m){var z,H;const Q=T==="y"?"width":"height",Y=["top","left"].includes(ni(s)),ie=a.reference[w]-a.floating[Q]+(Y&&((z=u.offset)==null?void 0:z[w])||0)+(Y?0:P.crossAxis),se=a.reference[w]+a.reference[Q]+(Y?0:((H=u.offset)==null?void 0:H[w])||0)-(Y?P.crossAxis:0);R<ie?R=ie:R>se&&(R=se)}return{[T]:I,[w]:R}}}},mO=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:s,rects:a,platform:u,elements:h}=e,{apply:f=()=>{},...m}=ti(n,e),y=await Bl(e,m),w=ni(s),T=Ta(s),I=Xi(s)==="y",{width:R,height:A}=a.floating;let P,z;w==="top"||w==="bottom"?(P=w,z=T===(await(u.isRTL==null?void 0:u.isRTL(h.floating))?"start":"end")?"left":"right"):(z=w,P=T==="end"?"top":"bottom");const H=A-y.top-y.bottom,Q=R-y.left-y.right,Y=Yi(A-y[P],H),ie=Yi(R-y[z],Q),se=!e.middlewareData.shift;let N=Y,C=ie;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(C=Q),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=H),se&&!T){const D=vn(y.left,0),L=vn(y.right,0),O=vn(y.top,0),k=vn(y.bottom,0);I?C=R-2*(D!==0||L!==0?D+L:vn(y.left,y.right)):N=A-2*(O!==0||k!==0?O+k:vn(y.top,y.bottom))}await f({...e,availableWidth:C,availableHeight:N});const b=await u.getDimensions(h.floating);return R!==b.width||A!==b.height?{reset:{rects:!0}}:{}}}};function Vd(){return typeof window<"u"}function Sa(n){return eT(n)?(n.nodeName||"").toLowerCase():"#document"}function _n(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Cr(n){var e;return(e=(eT(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function eT(n){return Vd()?n instanceof Node||n instanceof _n(n).Node:!1}function er(n){return Vd()?n instanceof Element||n instanceof _n(n).Element:!1}function Ir(n){return Vd()?n instanceof HTMLElement||n instanceof _n(n).HTMLElement:!1}function q_(n){return!Vd()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof _n(n).ShadowRoot}function ou(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=tr(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(s)}function gO(n){return["table","td","th"].includes(Sa(n))}function Fd(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Mm(n){const e=Lm(),t=er(n)?tr(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function vO(n){let e=Ji(n);for(;Ir(e)&&!ha(e);){if(Mm(e))return e;if(Fd(e))return null;e=Ji(e)}return null}function Lm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ha(n){return["html","body","#document"].includes(Sa(n))}function tr(n){return _n(n).getComputedStyle(n)}function Ud(n){return er(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Ji(n){if(Sa(n)==="html")return n;const e=n.assignedSlot||n.parentNode||q_(n)&&n.host||Cr(n);return q_(e)?e.host:e}function tT(n){const e=Ji(n);return ha(e)?n.ownerDocument?n.ownerDocument.body:n.body:Ir(e)&&ou(e)?e:tT(e)}function Wl(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=tT(n),a=s===((r=n.ownerDocument)==null?void 0:r.body),u=_n(s);if(a){const h=Ip(u);return e.concat(u,u.visualViewport||[],ou(s)?s:[],h&&t?Wl(h):[])}return e.concat(s,Wl(s,[],t))}function Ip(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function nT(n){const e=tr(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ir(n),a=s?n.offsetWidth:t,u=s?n.offsetHeight:r,h=pd(t)!==a||pd(r)!==u;return h&&(t=a,r=u),{width:t,height:r,$:h}}function Vm(n){return er(n)?n:n.contextElement}function ea(n){const e=Vm(n);if(!Ir(e))return wr(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:a}=nT(e);let u=(a?pd(t.width):t.width)/r,h=(a?pd(t.height):t.height)/s;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const yO=wr(0);function rT(n){const e=_n(n);return!Lm()||!e.visualViewport?yO:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function _O(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==_n(n)?!1:e}function $o(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),a=Vm(n);let u=wr(1);e&&(r?er(r)&&(u=ea(r)):u=ea(n));const h=_O(a,t,r)?rT(a):wr(0);let f=(s.left+h.x)/u.x,m=(s.top+h.y)/u.y,y=s.width/u.x,w=s.height/u.y;if(a){const T=_n(a),I=r&&er(r)?_n(r):r;let R=T,A=Ip(R);for(;A&&r&&I!==R;){const P=ea(A),z=A.getBoundingClientRect(),H=tr(A),Q=z.left+(A.clientLeft+parseFloat(H.paddingLeft))*P.x,Y=z.top+(A.clientTop+parseFloat(H.paddingTop))*P.y;f*=P.x,m*=P.y,y*=P.x,w*=P.y,f+=Q,m+=Y,R=_n(A),A=Ip(R)}}return gd({width:y,height:w,x:f,y:m})}function Fm(n,e){const t=Ud(n).scrollLeft;return e?e.left+t:$o(Cr(n)).left+t}function iT(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=r.left+e.scrollLeft-(t?0:Fm(n,r)),a=r.top+e.scrollTop;return{x:s,y:a}}function wO(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const a=s==="fixed",u=Cr(r),h=e?Fd(e.floating):!1;if(r===u||h&&a)return t;let f={scrollLeft:0,scrollTop:0},m=wr(1);const y=wr(0),w=Ir(r);if((w||!w&&!a)&&((Sa(r)!=="body"||ou(u))&&(f=Ud(r)),Ir(r))){const I=$o(r);m=ea(r),y.x=I.x+r.clientLeft,y.y=I.y+r.clientTop}const T=u&&!w&&!a?iT(u,f,!0):wr(0);return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-f.scrollLeft*m.x+y.x+T.x,y:t.y*m.y-f.scrollTop*m.y+y.y+T.y}}function EO(n){return Array.from(n.getClientRects())}function TO(n){const e=Cr(n),t=Ud(n),r=n.ownerDocument.body,s=vn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=vn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let u=-t.scrollLeft+Fm(n);const h=-t.scrollTop;return tr(r).direction==="rtl"&&(u+=vn(e.clientWidth,r.clientWidth)-s),{width:s,height:a,x:u,y:h}}function SO(n,e){const t=_n(n),r=Cr(n),s=t.visualViewport;let a=r.clientWidth,u=r.clientHeight,h=0,f=0;if(s){a=s.width,u=s.height;const m=Lm();(!m||m&&e==="fixed")&&(h=s.offsetLeft,f=s.offsetTop)}return{width:a,height:u,x:h,y:f}}function IO(n,e){const t=$o(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,a=Ir(n)?ea(n):wr(1),u=n.clientWidth*a.x,h=n.clientHeight*a.y,f=s*a.x,m=r*a.y;return{width:u,height:h,x:f,y:m}}function G_(n,e,t){let r;if(e==="viewport")r=SO(n,t);else if(e==="document")r=TO(Cr(n));else if(er(e))r=IO(e,t);else{const s=rT(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return gd(r)}function oT(n,e){const t=Ji(n);return t===e||!er(t)||ha(t)?!1:tr(t).position==="fixed"||oT(t,e)}function CO(n,e){const t=e.get(n);if(t)return t;let r=Wl(n,[],!1).filter(h=>er(h)&&Sa(h)!=="body"),s=null;const a=tr(n).position==="fixed";let u=a?Ji(n):n;for(;er(u)&&!ha(u);){const h=tr(u),f=Mm(u);!f&&h.position==="fixed"&&(s=null),(a?!f&&!s:!f&&h.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ou(u)&&!f&&oT(n,u))?r=r.filter(y=>y!==u):s=h,u=Ji(u)}return e.set(n,r),r}function AO(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const u=[...t==="clippingAncestors"?Fd(e)?[]:CO(e,this._c):[].concat(t),r],h=u[0],f=u.reduce((m,y)=>{const w=G_(e,y,s);return m.top=vn(w.top,m.top),m.right=Yi(w.right,m.right),m.bottom=Yi(w.bottom,m.bottom),m.left=vn(w.left,m.left),m},G_(e,h,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function PO(n){const{width:e,height:t}=nT(n);return{width:e,height:t}}function kO(n,e,t){const r=Ir(e),s=Cr(e),a=t==="fixed",u=$o(n,!0,a,e);let h={scrollLeft:0,scrollTop:0};const f=wr(0);if(r||!r&&!a)if((Sa(e)!=="body"||ou(s))&&(h=Ud(e)),r){const T=$o(e,!0,a,e);f.x=T.x+e.clientLeft,f.y=T.y+e.clientTop}else s&&(f.x=Fm(s));const m=s&&!r&&!a?iT(s,h):wr(0),y=u.left+h.scrollLeft-f.x-m.x,w=u.top+h.scrollTop-f.y-m.y;return{x:y,y:w,width:u.width,height:u.height}}function zf(n){return tr(n).position==="static"}function K_(n,e){if(!Ir(n)||tr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Cr(n)===t&&(t=t.ownerDocument.body),t}function sT(n,e){const t=_n(n);if(Fd(n))return t;if(!Ir(n)){let s=Ji(n);for(;s&&!ha(s);){if(er(s)&&!zf(s))return s;s=Ji(s)}return t}let r=K_(n,e);for(;r&&gO(r)&&zf(r);)r=K_(r,e);return r&&ha(r)&&zf(r)&&!Mm(r)?t:r||vO(n)||t}const RO=async function(n){const e=this.getOffsetParent||sT,t=this.getDimensions,r=await t(n.floating);return{reference:kO(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function bO(n){return tr(n).direction==="rtl"}const xO={convertOffsetParentRelativeRectToViewportRelativeRect:wO,getDocumentElement:Cr,getClippingRect:AO,getOffsetParent:sT,getElementRects:RO,getClientRects:EO,getDimensions:PO,getScale:ea,isElement:er,isRTL:bO};function NO(n,e){let t=null,r;const s=Cr(n);function a(){var h;clearTimeout(r),(h=t)==null||h.disconnect(),t=null}function u(h,f){h===void 0&&(h=!1),f===void 0&&(f=1),a();const{left:m,top:y,width:w,height:T}=n.getBoundingClientRect();if(h||e(),!w||!T)return;const I=kc(y),R=kc(s.clientWidth-(m+w)),A=kc(s.clientHeight-(y+T)),P=kc(m),H={rootMargin:-I+"px "+-R+"px "+-A+"px "+-P+"px",threshold:vn(0,Yi(1,f))||1};let Q=!0;function Y(ie){const se=ie[0].intersectionRatio;if(se!==f){if(!Q)return u();se?u(!1,se):r=setTimeout(()=>{u(!1,1e-7)},1e3)}Q=!1}try{t=new IntersectionObserver(Y,{...H,root:s.ownerDocument})}catch{t=new IntersectionObserver(Y,H)}t.observe(n)}return u(!0),a}function DO(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,m=Vm(n),y=s||a?[...m?Wl(m):[],...Wl(e)]:[];y.forEach(z=>{s&&z.addEventListener("scroll",t,{passive:!0}),a&&z.addEventListener("resize",t)});const w=m&&h?NO(m,t):null;let T=-1,I=null;u&&(I=new ResizeObserver(z=>{let[H]=z;H&&H.target===m&&I&&(I.unobserve(e),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var Q;(Q=I)==null||Q.observe(e)})),t()}),m&&!f&&I.observe(m),I.observe(e));let R,A=f?$o(n):null;f&&P();function P(){const z=$o(n);A&&(z.x!==A.x||z.y!==A.y||z.width!==A.width||z.height!==A.height)&&t(),A=z,R=requestAnimationFrame(P)}return t(),()=>{var z;y.forEach(H=>{s&&H.removeEventListener("scroll",t),a&&H.removeEventListener("resize",t)}),w==null||w(),(z=I)==null||z.disconnect(),I=null,f&&cancelAnimationFrame(R)}}const OO=hO,MO=fO,LO=uO,VO=mO,FO=cO,Q_=lO,UO=pO,jO=(n,e,t)=>{const r=new Map,s={platform:xO,...t},a={...s.platform,_c:r};return aO(n,e,{...s,platform:a})};var Hc=typeof document<"u"?V.useLayoutEffect:V.useEffect;function vd(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!vd(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const a=s[r];if(!(a==="_owner"&&n.$$typeof)&&!vd(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function aT(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Y_(n,e){const t=aT(n);return Math.round(e*t)/t}function Bf(n){const e=V.useRef(n);return Hc(()=>{e.current=n}),e}function zO(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:u}={},transform:h=!0,whileElementsMounted:f,open:m}=n,[y,w]=V.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[T,I]=V.useState(r);vd(T,r)||I(r);const[R,A]=V.useState(null),[P,z]=V.useState(null),H=V.useCallback(B=>{B!==se.current&&(se.current=B,A(B))},[]),Q=V.useCallback(B=>{B!==N.current&&(N.current=B,z(B))},[]),Y=a||R,ie=u||P,se=V.useRef(null),N=V.useRef(null),C=V.useRef(y),b=f!=null,D=Bf(f),L=Bf(s),O=Bf(m),k=V.useCallback(()=>{if(!se.current||!N.current)return;const B={placement:e,strategy:t,middleware:T};L.current&&(B.platform=L.current),jO(se.current,N.current,B).then(ue=>{const ae={...ue,isPositioned:O.current!==!1};Ee.current&&!vd(C.current,ae)&&(C.current=ae,xm.flushSync(()=>{w(ae)}))})},[T,e,t,L,O]);Hc(()=>{m===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,w(B=>({...B,isPositioned:!1})))},[m]);const Ee=V.useRef(!1);Hc(()=>(Ee.current=!0,()=>{Ee.current=!1}),[]),Hc(()=>{if(Y&&(se.current=Y),ie&&(N.current=ie),Y&&ie){if(D.current)return D.current(Y,ie,k);k()}},[Y,ie,k,D,b]);const Fe=V.useMemo(()=>({reference:se,floating:N,setReference:H,setFloating:Q}),[H,Q]),ke=V.useMemo(()=>({reference:Y,floating:ie}),[Y,ie]),ne=V.useMemo(()=>{const B={position:t,left:0,top:0};if(!ke.floating)return B;const ue=Y_(ke.floating,y.x),ae=Y_(ke.floating,y.y);return h?{...B,transform:"translate("+ue+"px, "+ae+"px)",...aT(ke.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ue,top:ae}},[t,h,ke.floating,y.x,y.y]);return V.useMemo(()=>({...y,update:k,refs:Fe,elements:ke,floatingStyles:ne}),[y,k,Fe,ke,ne])}const BO=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Q_({element:r.current,padding:s}).fn(t):{}:r?Q_({element:r,padding:s}).fn(t):{}}}},WO=(n,e)=>({...OO(n),options:[n,e]}),$O=(n,e)=>({...MO(n),options:[n,e]}),HO=(n,e)=>({...UO(n),options:[n,e]}),qO=(n,e)=>({...LO(n),options:[n,e]}),GO=(n,e)=>({...VO(n),options:[n,e]}),KO=(n,e)=>({...FO(n),options:[n,e]}),QO=(n,e)=>({...BO(n),options:[n,e]});var YO="Arrow",lT=V.forwardRef((n,e)=>{const{children:t,width:r=10,height:s=5,...a}=n;return j.jsx(ii.svg,{...a,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:j.jsx("polygon",{points:"0,0 30,0 15,10"})})});lT.displayName=YO;var XO=lT;function JO(n,e=[]){let t=[];function r(a,u){const h=V.createContext(u),f=t.length;t=[...t,u];function m(w){const{scope:T,children:I,...R}=w,A=(T==null?void 0:T[n][f])||h,P=V.useMemo(()=>R,Object.values(R));return j.jsx(A.Provider,{value:P,children:I})}function y(w,T){const I=(T==null?void 0:T[n][f])||h,R=V.useContext(I);if(R)return R;if(u!==void 0)return u;throw new Error(`\`${w}\` must be used within \`${a}\``)}return m.displayName=a+"Provider",[m,y]}const s=()=>{const a=t.map(u=>V.createContext(u));return function(h){const f=(h==null?void 0:h[n])||a;return V.useMemo(()=>({[`__scope${n}`]:{...h,[n]:f}}),[h,f])}};return s.scopeName=n,[r,ZO(s,...e)]}function ZO(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const u=r.reduce((h,{useScope:f,scopeName:m})=>{const w=f(a)[`__scope${m}`];return{...h,...w}},{});return V.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function eM(n){const[e,t]=V.useState(void 0);return Wo(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let u,h;if("borderBoxSize"in a){const f=a.borderBoxSize,m=Array.isArray(f)?f[0]:f;u=m.inlineSize,h=m.blockSize}else u=n.offsetWidth,h=n.offsetHeight;t({width:u,height:h})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var Um="Popper",[uT,cT]=JO(Um),[tM,dT]=uT(Um),hT=n=>{const{__scopePopper:e,children:t}=n,[r,s]=V.useState(null);return j.jsx(tM,{scope:e,anchor:r,onAnchorChange:s,children:t})};hT.displayName=Um;var fT="PopperAnchor",pT=V.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...s}=n,a=dT(fT,t),u=V.useRef(null),h=Zi(e,u);return V.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||u.current)}),r?null:j.jsx(ii.div,{...s,ref:h})});pT.displayName=fT;var jm="PopperContent",[nM,rM]=uT(jm),mT=V.forwardRef((n,e)=>{var Ue,je,Ge,ct,En,Ar;const{__scopePopper:t,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:u=0,arrowPadding:h=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:y=0,sticky:w="partial",hideWhenDetached:T=!1,updatePositionStrategy:I="optimized",onPlaced:R,...A}=n,P=dT(jm,t),[z,H]=V.useState(null),Q=Zi(e,Xt=>H(Xt)),[Y,ie]=V.useState(null),se=eM(Y),N=(se==null?void 0:se.width)??0,C=(se==null?void 0:se.height)??0,b=r+(a!=="center"?"-"+a:""),D=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},L=Array.isArray(m)?m:[m],O=L.length>0,k={padding:D,boundary:L.filter(oM),altBoundary:O},{refs:Ee,floatingStyles:Fe,placement:ke,isPositioned:ne,middlewareData:B}=zO({strategy:"fixed",placement:b,whileElementsMounted:(...Xt)=>DO(...Xt,{animationFrame:I==="always"}),elements:{reference:P.anchor},middleware:[WO({mainAxis:s+C,alignmentAxis:u}),f&&$O({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?HO():void 0,...k}),f&&qO({...k}),GO({...k,apply:({elements:Xt,rects:nr,availableWidth:oi,availableHeight:no})=>{const{width:ro,height:Qo}=nr.reference,Dn=Xt.floating.style;Dn.setProperty("--radix-popper-available-width",`${oi}px`),Dn.setProperty("--radix-popper-available-height",`${no}px`),Dn.setProperty("--radix-popper-anchor-width",`${ro}px`),Dn.setProperty("--radix-popper-anchor-height",`${Qo}px`)}}),Y&&QO({element:Y,padding:h}),sM({arrowWidth:N,arrowHeight:C}),T&&KO({strategy:"referenceHidden",...k})]}),[ue,ae]=yT(ke),U=Qi(R);Wo(()=>{ne&&(U==null||U())},[ne,U]);const X=(Ue=B.arrow)==null?void 0:Ue.x,ve=(je=B.arrow)==null?void 0:je.y,Re=((Ge=B.arrow)==null?void 0:Ge.centerOffset)!==0,[xe,De]=V.useState();return Wo(()=>{z&&De(window.getComputedStyle(z).zIndex)},[z]),j.jsx("div",{ref:Ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...Fe,transform:ne?Fe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[(ct=B.transformOrigin)==null?void 0:ct.x,(En=B.transformOrigin)==null?void 0:En.y].join(" "),...((Ar=B.hide)==null?void 0:Ar.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:j.jsx(nM,{scope:t,placedSide:ue,onArrowChange:ie,arrowX:X,arrowY:ve,shouldHideArrow:Re,children:j.jsx(ii.div,{"data-side":ue,"data-align":ae,...A,ref:Q,style:{...A.style,animation:ne?void 0:"none"}})})})});mT.displayName=jm;var gT="PopperArrow",iM={top:"bottom",right:"left",bottom:"top",left:"right"},vT=V.forwardRef(function(e,t){const{__scopePopper:r,...s}=e,a=rM(gT,r),u=iM[a.placedSide];return j.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:j.jsx(XO,{...s,ref:t,style:{...s.style,display:"block"}})})});vT.displayName=gT;function oM(n){return n!==null}var sM=n=>({name:"transformOrigin",options:n,fn(e){var P,z,H;const{placement:t,rects:r,middlewareData:s}=e,u=((P=s.arrow)==null?void 0:P.centerOffset)!==0,h=u?0:n.arrowWidth,f=u?0:n.arrowHeight,[m,y]=yT(t),w={start:"0%",center:"50%",end:"100%"}[y],T=(((z=s.arrow)==null?void 0:z.x)??0)+h/2,I=(((H=s.arrow)==null?void 0:H.y)??0)+f/2;let R="",A="";return m==="bottom"?(R=u?w:`${T}px`,A=`${-f}px`):m==="top"?(R=u?w:`${T}px`,A=`${r.floating.height+f}px`):m==="right"?(R=`${-f}px`,A=u?w:`${I}px`):m==="left"&&(R=`${r.floating.width+f}px`,A=u?w:`${I}px`),{data:{x:R,y:A}}}});function yT(n){const[e,t="center"]=n.split("-");return[e,t]}var aM=hT,_T=pT,lM=mT,uM=vT,cM="Portal",wT=V.forwardRef((n,e)=>{var h;const{container:t,...r}=n,[s,a]=V.useState(!1);Wo(()=>a(!0),[]);const u=t||s&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return u?xD.createPortal(j.jsx(ii.div,{...r,ref:e}),u):null});wT.displayName=cM;function dM(n,e){return V.useReducer((t,r)=>e[t][r]??t,n)}var zm=n=>{const{present:e,children:t}=n,r=hM(e),s=typeof t=="function"?t({present:r.isPresent}):V.Children.only(t),a=Zi(r.ref,fM(s));return typeof t=="function"||r.isPresent?V.cloneElement(s,{ref:a}):null};zm.displayName="Presence";function hM(n){const[e,t]=V.useState(),r=V.useRef({}),s=V.useRef(n),a=V.useRef("none"),u=n?"mounted":"unmounted",[h,f]=dM(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return V.useEffect(()=>{const m=Rc(r.current);a.current=h==="mounted"?m:"none"},[h]),Wo(()=>{const m=r.current,y=s.current;if(y!==n){const T=a.current,I=Rc(m);n?f("MOUNT"):I==="none"||(m==null?void 0:m.display)==="none"?f("UNMOUNT"):f(y&&T!==I?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,f]),Wo(()=>{if(e){let m;const y=e.ownerDocument.defaultView??window,w=I=>{const A=Rc(r.current).includes(I.animationName);if(I.target===e&&A&&(f("ANIMATION_END"),!s.current)){const P=e.style.animationFillMode;e.style.animationFillMode="forwards",m=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=P)})}},T=I=>{I.target===e&&(a.current=Rc(r.current))};return e.addEventListener("animationstart",T),e.addEventListener("animationcancel",w),e.addEventListener("animationend",w),()=>{y.clearTimeout(m),e.removeEventListener("animationstart",T),e.removeEventListener("animationcancel",w),e.removeEventListener("animationend",w)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:V.useCallback(m=>{m&&(r.current=getComputedStyle(m)),t(m)},[])}}function Rc(n){return(n==null?void 0:n.animationName)||"none"}function fM(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function pM({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,s]=mM({defaultProp:e,onChange:t}),a=n!==void 0,u=a?n:r,h=Qi(t),f=V.useCallback(m=>{if(a){const w=typeof m=="function"?m(n):m;w!==n&&h(w)}else s(m)},[a,n,s,h]);return[u,f]}function mM({defaultProp:n,onChange:e}){const t=V.useState(n),[r]=t,s=V.useRef(r),a=Qi(e);return V.useEffect(()=>{s.current!==r&&(a(r),s.current=r)},[r,s,a]),t}var gM=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},js=new WeakMap,bc=new WeakMap,xc={},Wf=0,ET=function(n){return n&&(n.host||ET(n.parentNode))},vM=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=ET(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},yM=function(n,e,t,r){var s=vM(e,Array.isArray(n)?n:[n]);xc[t]||(xc[t]=new WeakMap);var a=xc[t],u=[],h=new Set,f=new Set(s),m=function(w){!w||h.has(w)||(h.add(w),m(w.parentNode))};s.forEach(m);var y=function(w){!w||f.has(w)||Array.prototype.forEach.call(w.children,function(T){if(h.has(T))y(T);else try{var I=T.getAttribute(r),R=I!==null&&I!=="false",A=(js.get(T)||0)+1,P=(a.get(T)||0)+1;js.set(T,A),a.set(T,P),u.push(T),A===1&&R&&bc.set(T,!0),P===1&&T.setAttribute(t,"true"),R||T.setAttribute(r,"true")}catch(z){console.error("aria-hidden: cannot operate on ",T,z)}})};return y(e),h.clear(),Wf++,function(){u.forEach(function(w){var T=js.get(w)-1,I=a.get(w)-1;js.set(w,T),a.set(w,I),T||(bc.has(w)||w.removeAttribute(r),bc.delete(w)),I||w.removeAttribute(t)}),Wf--,Wf||(js=new WeakMap,js=new WeakMap,bc=new WeakMap,xc={})}},_M=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),s=gM(n);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),yM(r,s,t,"aria-hidden")):function(){return null}},qc="right-scroll-bar-position",Gc="width-before-scroll-bar",wM="with-scroll-bars-hidden",EM="--removed-body-scroll-bar-size";function $f(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function TM(n,e){var t=V.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var s=t.value;s!==r&&(t.value=r,t.callback(r,s))}}}})[0];return t.callback=e,t.facade}var SM=typeof window<"u"?V.useLayoutEffect:V.useEffect,X_=new WeakMap;function IM(n,e){var t=TM(null,function(r){return n.forEach(function(s){return $f(s,r)})});return SM(function(){var r=X_.get(t);if(r){var s=new Set(r),a=new Set(n),u=t.current;s.forEach(function(h){a.has(h)||$f(h,null)}),a.forEach(function(h){s.has(h)||$f(h,u)})}X_.set(t,n)},[n]),t}function CM(n){return n}function AM(n,e){e===void 0&&(e=CM);var t=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var u=e(a,r);return t.push(u),function(){t=t.filter(function(h){return h!==u})}},assignSyncMedium:function(a){for(r=!0;t.length;){var u=t;t=[],u.forEach(a)}t={push:function(h){return a(h)},filter:function(){return t}}},assignMedium:function(a){r=!0;var u=[];if(t.length){var h=t;t=[],h.forEach(a),u=t}var f=function(){var y=u;u=[],y.forEach(a)},m=function(){return Promise.resolve().then(f)};m(),t={push:function(y){u.push(y),m()},filter:function(y){return u=u.filter(y),t}}}};return s}function PM(n){n===void 0&&(n={});var e=AM(null);return e.options=pr({async:!0,ssr:!1},n),e}var TT=function(n){var e=n.sideCar,t=ql(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return V.createElement(r,pr({},t))};TT.isSideCarExport=!0;function kM(n,e){return n.useMedium(e),TT}var ST=PM(),Hf=function(){},jd=V.forwardRef(function(n,e){var t=V.useRef(null),r=V.useState({onScrollCapture:Hf,onWheelCapture:Hf,onTouchMoveCapture:Hf}),s=r[0],a=r[1],u=n.forwardProps,h=n.children,f=n.className,m=n.removeScrollBar,y=n.enabled,w=n.shards,T=n.sideCar,I=n.noIsolation,R=n.inert,A=n.allowPinchZoom,P=n.as,z=P===void 0?"div":P,H=n.gapMode,Q=ql(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),Y=T,ie=IM([t,e]),se=pr(pr({},Q),s);return V.createElement(V.Fragment,null,y&&V.createElement(Y,{sideCar:ST,removeScrollBar:m,shards:w,noIsolation:I,inert:R,setCallbacks:a,allowPinchZoom:!!A,lockRef:t,gapMode:H}),u?V.cloneElement(V.Children.only(h),pr(pr({},se),{ref:ie})):V.createElement(z,pr({},se,{className:f,ref:ie}),h))});jd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jd.classNames={fullWidth:Gc,zeroRight:qc};var RM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bM(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=RM();return e&&n.setAttribute("nonce",e),n}function xM(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function NM(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var DM=function(){var n=0,e=null;return{add:function(t){n==0&&(e=bM())&&(xM(e,t),NM(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},OM=function(){var n=DM();return function(e,t){V.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},IT=function(){var n=OM(),e=function(t){var r=t.styles,s=t.dynamic;return n(r,s),null};return e},MM={left:0,top:0,right:0,gap:0},qf=function(n){return parseInt(n||"",10)||0},LM=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],s=e[n==="padding"?"paddingRight":"marginRight"];return[qf(t),qf(r),qf(s)]},VM=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return MM;var e=LM(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},FM=IT(),ta="data-scroll-locked",UM=function(n,e,t,r){var s=n.left,a=n.top,u=n.right,h=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(wM,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(h,"px ").concat(r,`;
  }
  body[`).concat(ta,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(h,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qc,` {
    right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(Gc,` {
    margin-right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(qc," .").concat(qc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Gc," .").concat(Gc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ta,`] {
    `).concat(EM,": ").concat(h,`px;
  }
`)},J_=function(){var n=parseInt(document.body.getAttribute(ta)||"0",10);return isFinite(n)?n:0},jM=function(){V.useEffect(function(){return document.body.setAttribute(ta,(J_()+1).toString()),function(){var n=J_()-1;n<=0?document.body.removeAttribute(ta):document.body.setAttribute(ta,n.toString())}},[])},zM=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,s=r===void 0?"margin":r;jM();var a=V.useMemo(function(){return VM(s)},[s]);return V.createElement(FM,{styles:UM(a,!e,s,t?"":"!important")})},Cp=!1;if(typeof window<"u")try{var Nc=Object.defineProperty({},"passive",{get:function(){return Cp=!0,!0}});window.addEventListener("test",Nc,Nc),window.removeEventListener("test",Nc,Nc)}catch{Cp=!1}var zs=Cp?{passive:!1}:!1,BM=function(n){return n.tagName==="TEXTAREA"},CT=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!BM(n)&&t[e]==="visible")},WM=function(n){return CT(n,"overflowY")},$M=function(n){return CT(n,"overflowX")},Z_=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=AT(n,r);if(s){var a=PT(n,r),u=a[1],h=a[2];if(u>h)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},HM=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},qM=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},AT=function(n,e){return n==="v"?WM(e):$M(e)},PT=function(n,e){return n==="v"?HM(e):qM(e)},GM=function(n,e){return n==="h"&&e==="rtl"?-1:1},KM=function(n,e,t,r,s){var a=GM(n,window.getComputedStyle(e).direction),u=a*r,h=t.target,f=e.contains(h),m=!1,y=u>0,w=0,T=0;do{var I=PT(n,h),R=I[0],A=I[1],P=I[2],z=A-P-a*R;(R||z)&&AT(n,h)&&(w+=z,T+=R),h instanceof ShadowRoot?h=h.host:h=h.parentNode}while(!f&&h!==document.body||f&&(e.contains(h)||e===h));return(y&&(Math.abs(w)<1||!s)||!y&&(Math.abs(T)<1||!s))&&(m=!0),m},Dc=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},e0=function(n){return[n.deltaX,n.deltaY]},t0=function(n){return n&&"current"in n?n.current:n},QM=function(n,e){return n[0]===e[0]&&n[1]===e[1]},YM=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},XM=0,Bs=[];function JM(n){var e=V.useRef([]),t=V.useRef([0,0]),r=V.useRef(),s=V.useState(XM++)[0],a=V.useState(IT)[0],u=V.useRef(n);V.useEffect(function(){u.current=n},[n]),V.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var A=LI([n.lockRef.current],(n.shards||[]).map(t0),!0).filter(Boolean);return A.forEach(function(P){return P.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),A.forEach(function(P){return P.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var h=V.useCallback(function(A,P){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!u.current.allowPinchZoom;var z=Dc(A),H=t.current,Q="deltaX"in A?A.deltaX:H[0]-z[0],Y="deltaY"in A?A.deltaY:H[1]-z[1],ie,se=A.target,N=Math.abs(Q)>Math.abs(Y)?"h":"v";if("touches"in A&&N==="h"&&se.type==="range")return!1;var C=Z_(N,se);if(!C)return!0;if(C?ie=N:(ie=N==="v"?"h":"v",C=Z_(N,se)),!C)return!1;if(!r.current&&"changedTouches"in A&&(Q||Y)&&(r.current=ie),!ie)return!0;var b=r.current||ie;return KM(b,P,A,b==="h"?Q:Y,!0)},[]),f=V.useCallback(function(A){var P=A;if(!(!Bs.length||Bs[Bs.length-1]!==a)){var z="deltaY"in P?e0(P):Dc(P),H=e.current.filter(function(ie){return ie.name===P.type&&(ie.target===P.target||P.target===ie.shadowParent)&&QM(ie.delta,z)})[0];if(H&&H.should){P.cancelable&&P.preventDefault();return}if(!H){var Q=(u.current.shards||[]).map(t0).filter(Boolean).filter(function(ie){return ie.contains(P.target)}),Y=Q.length>0?h(P,Q[0]):!u.current.noIsolation;Y&&P.cancelable&&P.preventDefault()}}},[]),m=V.useCallback(function(A,P,z,H){var Q={name:A,delta:P,target:z,should:H,shadowParent:ZM(z)};e.current.push(Q),setTimeout(function(){e.current=e.current.filter(function(Y){return Y!==Q})},1)},[]),y=V.useCallback(function(A){t.current=Dc(A),r.current=void 0},[]),w=V.useCallback(function(A){m(A.type,e0(A),A.target,h(A,n.lockRef.current))},[]),T=V.useCallback(function(A){m(A.type,Dc(A),A.target,h(A,n.lockRef.current))},[]);V.useEffect(function(){return Bs.push(a),n.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:T}),document.addEventListener("wheel",f,zs),document.addEventListener("touchmove",f,zs),document.addEventListener("touchstart",y,zs),function(){Bs=Bs.filter(function(A){return A!==a}),document.removeEventListener("wheel",f,zs),document.removeEventListener("touchmove",f,zs),document.removeEventListener("touchstart",y,zs)}},[]);var I=n.removeScrollBar,R=n.inert;return V.createElement(V.Fragment,null,R?V.createElement(a,{styles:YM(s)}):null,I?V.createElement(zM,{gapMode:n.gapMode}):null)}function ZM(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const e2=kM(ST,JM);var kT=V.forwardRef(function(n,e){return V.createElement(jd,pr({},n,{ref:e,sideCar:e2}))});kT.classNames=jd.classNames;var Bm="Popover",[RT,w2]=RD(Bm,[cT]),su=cT(),[t2,to]=RT(Bm),bT=n=>{const{__scopePopover:e,children:t,open:r,defaultOpen:s,onOpenChange:a,modal:u=!1}=n,h=su(e),f=V.useRef(null),[m,y]=V.useState(!1),[w=!1,T]=pM({prop:r,defaultProp:s,onChange:a});return j.jsx(aM,{...h,children:j.jsx(t2,{scope:e,contentId:JD(),triggerRef:f,open:w,onOpenChange:T,onOpenToggle:V.useCallback(()=>T(I=>!I),[T]),hasCustomAnchor:m,onCustomAnchorAdd:V.useCallback(()=>y(!0),[]),onCustomAnchorRemove:V.useCallback(()=>y(!1),[]),modal:u,children:t})})};bT.displayName=Bm;var xT="PopoverAnchor",n2=V.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,s=to(xT,t),a=su(t),{onCustomAnchorAdd:u,onCustomAnchorRemove:h}=s;return V.useEffect(()=>(u(),()=>h()),[u,h]),j.jsx(_T,{...a,...r,ref:e})});n2.displayName=xT;var NT="PopoverTrigger",DT=V.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,s=to(NT,t),a=su(t),u=Zi(e,s.triggerRef),h=j.jsx(ii.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":FT(s.open),...r,ref:u,onClick:Wi(n.onClick,s.onOpenToggle)});return s.hasCustomAnchor?h:j.jsx(_T,{asChild:!0,...a,children:h})});DT.displayName=NT;var Wm="PopoverPortal",[r2,i2]=RT(Wm,{forceMount:void 0}),OT=n=>{const{__scopePopover:e,forceMount:t,children:r,container:s}=n,a=to(Wm,e);return j.jsx(r2,{scope:e,forceMount:t,children:j.jsx(zm,{present:t||a.open,children:j.jsx(wT,{asChild:!0,container:s,children:r})})})};OT.displayName=Wm;var fa="PopoverContent",MT=V.forwardRef((n,e)=>{const t=i2(fa,n.__scopePopover),{forceMount:r=t.forceMount,...s}=n,a=to(fa,n.__scopePopover);return j.jsx(zm,{present:r||a.open,children:a.modal?j.jsx(o2,{...s,ref:e}):j.jsx(s2,{...s,ref:e})})});MT.displayName=fa;var o2=V.forwardRef((n,e)=>{const t=to(fa,n.__scopePopover),r=V.useRef(null),s=Zi(e,r),a=V.useRef(!1);return V.useEffect(()=>{const u=r.current;if(u)return _M(u)},[]),j.jsx(kT,{as:Md,allowPinchZoom:!0,children:j.jsx(LT,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Wi(n.onCloseAutoFocus,u=>{var h;u.preventDefault(),a.current||(h=t.triggerRef.current)==null||h.focus()}),onPointerDownOutside:Wi(n.onPointerDownOutside,u=>{const h=u.detail.originalEvent,f=h.button===0&&h.ctrlKey===!0,m=h.button===2||f;a.current=m},{checkForDefaultPrevented:!1}),onFocusOutside:Wi(n.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1})})})}),s2=V.forwardRef((n,e)=>{const t=to(fa,n.__scopePopover),r=V.useRef(!1),s=V.useRef(!1);return j.jsx(LT,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var u,h;(u=n.onCloseAutoFocus)==null||u.call(n,a),a.defaultPrevented||(r.current||(h=t.triggerRef.current)==null||h.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var f,m;(f=n.onInteractOutside)==null||f.call(n,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const u=a.target;((m=t.triggerRef.current)==null?void 0:m.contains(u))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),LT=V.forwardRef((n,e)=>{const{__scopePopover:t,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:u,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:y,...w}=n,T=to(fa,t),I=su(t);return BD(),j.jsx(XE,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:j.jsx(QE,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:y,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:m,onDismiss:()=>T.onOpenChange(!1),children:j.jsx(lM,{"data-state":FT(T.open),role:"dialog",id:T.contentId,...I,...w,ref:e,style:{...w.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),VT="PopoverClose",a2=V.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,s=to(VT,t);return j.jsx(ii.button,{type:"button",...r,ref:e,onClick:Wi(n.onClick,()=>s.onOpenChange(!1))})});a2.displayName=VT;var l2="PopoverArrow",u2=V.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,s=su(t);return j.jsx(uM,{...s,...r,ref:e})});u2.displayName=l2;function FT(n){return n?"open":"closed"}var c2=bT,d2=DT,h2=OT,UT=MT;const f2=c2,p2=d2,jT=V.forwardRef(({className:n,align:e="center",sideOffset:t=4,...r},s)=>j.jsx(h2,{children:j.jsx(UT,{ref:s,align:e,sideOffset:t,className:Zs("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...r})}));jT.displayName=UT.displayName;const m2=()=>{const[n,e]=V.useState([]),[t,r]=V.useState(""),[s,a]=V.useState("Normal"),[u,h]=V.useState(),[f,m]=V.useState(""),y=RR(T_,"tasks");V.useEffect(()=>{const R=WR(y),A=YR(R,P=>{const z=[];P.forEach(H=>{H.data().userId===xl.currentUser.uid&&z.push({...H.data(),id:H.id})}),e(z)});return()=>A()},[]);const w=async()=>{if(t.trim()===""){m("Task input cannot be empty"),setTimeout(()=>m(""),3e3);return}await QR(y,{text:t,priority:s,userId:xl.currentUser.uid,createdAt:new Date,deadline:u?u.toISOString():null}),r(""),h(null),m("")},T=async R=>{const A=tE(T_,"tasks",R);await KR(A)},I=()=>{IC(xl)};return j.jsxs("div",{className:"container mx-auto w-11/12 pt-16",children:[j.jsxs("div",{className:"flex justify-between mb-16 ",children:[j.jsx("h1",{className:"text-3xl font-mono",children:"To-Do List"}),j.jsx(Cl,{onClick:I,variant:"destructive",className:"text-black bg-transparent border-focus hover:border-hover hover:bg-accent w-32",children:"Logout"})]}),j.jsxs("div",{className:"flex justify-between gap-3 mb-4",children:[j.jsxs("div",{className:"flex gap-3 w-10/12",children:[j.jsx(CE,{value:t,onChange:R=>r(R.target.value),placeholder:"Enter a new task",className:"px-4 py-2 border rounded w-3/6"}),j.jsxs("select",{value:s,onChange:R=>a(R.target.value),className:"w-1/6 px-2 py-1 rounded border border-input focus:border-focus focus:outline-none focus:ring-0 hover:bg-accent hover:text-accent-foreground",children:[j.jsx("option",{children:"Low"}),j.jsx("option",{children:"Normal"}),j.jsx("option",{children:"High"})]}),j.jsxs(f2,{children:[j.jsx(p2,{asChild:!0,children:j.jsx(Cl,{variant:"outline",className:"ml-2 w-2/6 justify-start text-left font-normal focus:border-focus focus:outline-none focus:ring-0 data-[state=open]:border-focus hover:border-input rounded transition",children:u?eo(u,"PPP"):"Pick a date"})}),j.jsx(jT,{className:"w-auto p-0",children:j.jsx(GE,{mode:"single",selected:u,onSelect:h,initialFocus:!0})})]})]}),j.jsx(Cl,{onClick:w,className:"px-4 py-2 bg-focus text-white rounded hover:bg-focus transition w-2/12",children:"Add Task"})]}),f&&j.jsx("p",{className:"text-red-500",children:f}),j.jsx("ul",{children:n.sort((R,A)=>{const P={High:1,Normal:2,Low:3};return P[R.priority]-P[A.priority]}).map(R=>j.jsxs("li",{className:"flex items-center mb-2",children:[j.jsxs("span",{className:"flex-grow",children:[R.text," - ",R.priority,R.deadline&&j.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["Deadline: ",new Date(R.deadline).toLocaleDateString()]})]}),j.jsx(Cl,{onClick:()=>T(R.id),variant:"destructive",className:"px-2 py-1 ml-2 bg-red-500 text-white hover:bg-red-600",children:"Delete"})]},R.id))})]})},g2=()=>{const[n,e]=V.useState(null);return V.useEffect(()=>{const t=SC(xl,r=>{e(r)});return()=>t()},[]),j.jsx("div",{className:"w-screen bg-white",children:n?j.jsx(m2,{}):j.jsx(ZR,{})})};eS.createRoot(document.getElementById("root")).render(j.jsx(n0.StrictMode,{children:j.jsx(g2,{})}));
